import a from"./QRCodeWithLink-C0dXrzrv.js";import{n as _}from"../build.js";const n={props:{make:Object},components:{QRCodeWithLink:a},data(){return{text:this.make.text,show_save_export_modal:!1,qrcode_dataurl:null,qrcode_text:null,status_saving_to_project:null}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{updateQRCode({dataurl:s,text:t}){this.qrcode_dataurl=s,this.qrcode_text=t},async saveToProject(){this.status_saving_to_project="saving";const s=this.dataURLtoBlob(this.qrcode_dataurl),t=this.getParent(this.getParent(this.make.$path)),e={caption:this.$t("qr_code_content")+" : "+this.qrcode_text};await this.$api.uploadFile({path:t,filename:"qrcode.png",file:s,additional_meta:e}).catch(o=>{throw this.$alertify.closeLogOnClick(!0).delay(4e3).error(this.$t("media_couldnt_be_sent")),this.status_saving_to_project=null,o}),this.$eventHub.$emit("pane.animate","collect"),setTimeout(()=>{this.status_saving_to_project="saved",setTimeout(()=>{this.status_saving_to_project=null},2e3)},1e3)}}};var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"_qrCode"},[e("QRCodeWithLink",{attrs:{text:t.make.qr_code_text},on:{updateQRCode:t.updateQRCode}}),t.qrcode_dataurl?e("div",{staticClass:"_bottomBtns"},[e("button",{staticClass:"u-button u-button_orange",attrs:{type:"button"},on:{click:t.saveToProject}},[e("span",{staticClass:"u-icon",domProps:{innerHTML:t._s(t.dodoc_icon_collect)}}),t._v(" "+t._s(t.$t("save_to_project"))+" ")])]):t._e(),t.status_saving_to_project?e("div",{staticClass:"_saveNotice"},[t.status_saving_to_project==="saving"?[t._v(" "+t._s(t.$t("saving"))+" ")]:t.status_saving_to_project==="saved"?[t._v(" "+t._s(t.$t("media_was_saved_to_project"))+" ")]:t._e()],2):t._e()],1)},r=[],c=_(n,i,r,!1,null,"64c709c4");const u=c.exports;export{u as default};
