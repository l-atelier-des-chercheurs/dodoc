import{n as i,_ as a}from"../build.js";import{C as o}from"./CaptionCreditsPage-DdRviFVp.js";const s={props:{},components:{ThreeDPreview:()=>a(()=>import("./ThreeDPreview-Cl0prTHN.js"),[]),CaptionCreditsPage:o,QRCodeScanner:()=>a(()=>import("./QRCodeScanner-D6ZUY84-.js"),[])},data(){return{media:null,is_loading:!0,show_qr_code_scanner:!1}},async created(){},async mounted(){this.$route.query.path_to_meta&&this.previewing_for==="user"&&(this.media=await this.$api.getFile({path:decodeURIComponent(this.$route.query.path_to_meta)}).catch(r=>{console.error(r)})),this.is_loading=!1},beforeDestroy(){},watch:{},computed:{previewing_for(){return this.$route.query.previewing_for==="node"?"node":"user"},full_media_path(){return decodeURIComponent(this.$route.query.path_to_media)},media_type(){return this.full_media_path.split(".").pop().toLowerCase()},preview_url(){let r="";return this.media_type==="pdf"&&(r="#toolbar=0&view=FitV"),window.location.origin+this.full_media_path+r}},methods:{onIframeLoad(){},openQRCodeScanner(){this.show_qr_code_scanner=!0}}};var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"_previewMedia"},[e.is_loading?t("div",{key:"loader",staticClass:"_spinner"},[t("LoaderSpinner")],1):[e.previewing_for==="node"?[e.media_type==="pdf"?t("iframe",{staticClass:"_content",attrs:{src:e.preview_url},on:{load:e.onIframeLoad}}):e.media_type==="stl"?t("ThreeDPreview",{staticClass:"_content",attrs:{file_type:"stl",src:e.preview_url}}):e._e()]:e.previewing_for==="user"?[e.media?[t("MediaContent",{staticClass:"_content",attrs:{context:"full",file:e.media,resolution:1600}}),t("div",{staticClass:"_captionCredits"},[t("CaptionCreditsPage",{attrs:{media:e.media,can_edit:!1}})],1)]:t("span",[e._v("Error loading media")]),t("button",{staticClass:"u-button u-button_white _qrCodeButton",on:{click:e.openQRCodeScanner}},[t("svg",{staticClass:"bi bi-qr-code",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[t("path",{attrs:{d:"M2 2h2v2H2V2Z"}}),t("path",{attrs:{d:"M6 0v6H0V0h6ZM5 1H1v4h4V1ZM4 12H2v2h2v-2Z"}}),t("path",{attrs:{d:"M6 10v6H0v-6h6Zm-5 1v4h4v-4H1Zm11-9h2v2h-2V2Z"}}),t("path",{attrs:{d:"M10 0v6h6V0h-6Zm5 1v4h-4V1h4ZM8 1V0h1v2H8v2H7V1h1Zm0 5V4h1v2H8ZM6 8V7h1V6h1v2h1V7h5v1h-4v1H7V8H6Zm0 0v1H2V8H1v1H0V7h3v1h3Zm10 1h-1V7h1v2Zm-1 0h-1v2h2v-1h-1V9Zm-4 0h2v1h-1v1h-1V9Zm2 3v-1h-1v1h-1v1H9v1h3v-2h1Zm0 0h3v1h-2v1h-1v-2Zm-4-1v1h1v-2H7v1h2Z"}}),t("path",{attrs:{d:"M7 12h1v3h4v1H7v-4Zm9 2v2h-3v-1h2v-1h1Z"}})])]),e.show_qr_code_scanner?t("QRCodeScanner",{on:{close:function(d){e.show_qr_code_scanner=!1}}}):e._e()]:e._e()]],2)},h=[],_=i(s,n,h,!1,null,"f2db7d79");const l=_.exports;export{l as default};
