import{S as o}from"./SectionsList-mgE0VOm_.js";import{n as i}from"../build.js";import"./ModuleCreator-C1m7yLar.js";import"./EmbedPicker-CDumOL1-.js";import"./CaptionCreditsPage-B7Fq5xCj.js";const a={props:{},components:{},data(){return{show_settings:!1}},created(){},mounted(){this.$eventHub.$on("publication.settings.toggle",this.toggleSettings),this.$eventHub.$on("publication.settings.close",this.closeSettings)},beforeDestroy(){this.$eventHub.$off("publication.settings.close",this.closeSettings)},watch:{},computed:{},methods:{toggleSettings(){this.show_settings=!this.show_settings}}};var c=function(){var t=this,e=t._self._c;return t.show_settings?e("div",{staticClass:"_publicationSettings"},[e("div",{staticClass:"_topbar"},[e("h3",{},[t._v(" "+t._s(t.$t("settings"))+" ")]),e("button",{staticClass:"u-button u-button_icon _close_button",attrs:{type:"button"},on:{click:function(s){t.show_settings=!1}}},[e("b-icon",{attrs:{icon:"x-lg",label:t.$t("close")}})],1)]),e("div",{staticClass:"u-spacingBottom"}),t._t("default")],2):t._e()},r=[],_=i(a,c,r,!1,null,"ee8c9ffd");const l=_.exports,u={props:{publication:Object},components:{},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{async updatePubliMeta(n){return await this.$api.updateMeta({path:this.publication.$path,new_meta:n})}}};var p=function(){var t=this,e=t._self._c;return e("div",[e("RangeValueInput",{staticClass:"u-spacingBottom",attrs:{label:t.$t("story_width"),value:t.publication.story_width,min:320,max:2400,step:1,ticks:[320,480,800,1200,2400],default_value:800,suffix:"px"},on:{save:function(s){return t.updatePubliMeta({story_width:s})}}}),e("ToggleInput",{attrs:{content:t.publication.story_is_not_responsive!==!0,label:t.$t("responsive"),options:{true:t.$t("responsive_instr"),false:t.$t("not_responsive_instr")}},on:{"update:content":function(s){return t.updatePubliMeta({story_is_not_responsive:!s})}}})],1)},d=[],f=i(u,p,d,!1,null,"9194a450");const b=f.exports,m={props:{publication:Object,pane_infos:Object,can_edit:Boolean},components:{SectionsList:o,PublicationSettings:l,StorySettings:b},data(){return{display_as_public:!1}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{opened_section_meta_filename(){var n;return(n=this.pane_infos)==null?void 0:n.section}},methods:{}};var v=function(){var t=this,e=t._self._c;return e("div",{staticClass:"_storySectionTemplate"},[t.can_edit?e("div",{staticClass:"u-displayAsPublic"},[e("div",{staticClass:"_sticky"},[e("div",{staticClass:"_content"},[e("ToggleInput",{attrs:{content:t.display_as_public,label:t.$t("preview")},on:{"update:content":function(s){t.display_as_public=s}}})],1)])]):t._e(),e("SectionsList",{attrs:{publication:t.publication,opened_section_meta_filename:t.opened_section_meta_filename,can_edit:t.can_edit&&!t.display_as_public},on:{toggleSection:function(s){return t.$emit("updatePane",{key:"section",value:s})}}}),t.can_edit?e("PublicationSettings",[e("StorySettings",{attrs:{publication:t.publication}})],1):t._e()],1)},g=[],h=i(m,v,g,!1,null,"bd21f950");const x=h.exports;export{x as default};
