import{n}from"../build.js";import{F as l}from"./flickity-ByXwvD2H.js";const _={props:{field_name:String,label:String,content:{type:Array,default:()=>[]},path:String,folders:Array,can_edit:Boolean},components:{},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{list_of_pins_metas(){return this.content.length===0?[]:this.content.filter(i=>this.folders.some(t=>this.getFilename(t.$path)===i))},pinned_folders(){return this.list_of_pins_metas.reduce((i,t)=>{const e=this.folders.find(s=>this.getFilename(s.$path)===t);return e&&i.push(e),i},[])},non_pinned_folders(){return this.folders.filter(i=>!this.list_of_pins_metas.includes(this.getFilename(i.$path)))}},methods:{async addSpaceToPins(i){let t=this.list_of_pins_metas.slice();t.push(this.getFilename(i)),this.updateList({pins_metas:t})},movePin(i,t){let e=this.list_of_pins_metas.slice();e.move(i,i+t),this.updateList({pins_metas:e})},positionInPinned(i){if(this.pinned_folders.length===1)return"alone";const t=this.pinned_folders.findIndex(e=>e.$path===i);return t===0?"first":t===this.pinned_folders.length-1?"last":"none"},removeFromPins(i){let t=this.list_of_pins_metas.slice();t=t.filter(e=>e!==this.getFilename(i)),this.updateList({pins_metas:t})},async updateList({pins_metas:i}){await this.$api.updateMeta({path:this.path,new_meta:{[this.field_name]:i}})}}};var p=function(){var t=this,e=t._self._c;return e("div",[t.pinned_folders.length>0||t.can_edit?e("div",{staticClass:"_pinned"},[e("div",{},[e("DLabel",{attrs:{str:t.label}}),e("transition",{attrs:{name:"pagechange",mode:"out-in"}},[t.pinned_folders.length===0&&t.can_edit?e("div",{staticClass:"u-instructions"},[t._v(" "+t._s(t.$t("click_to_pin"))+" ")]):e("transition-group",{staticClass:"_list _list_pinned",attrs:{tag:"section",name:"listComplete",appear:""}},t._l(t.pinned_folders,function(s,a){return e("div",{key:s.$path,staticClass:"_item"},[t._t("default",null,{item:s}),t.can_edit?e("div",{staticClass:"_pinSpace"},[e("button",{staticClass:"u-button u-button_icon",attrs:{type:"button",disabled:["alone","first"].includes(t.positionInPinned(s.$path))},on:{click:function(o){return t.movePin(a,-1)}}},[e("b-icon",{attrs:{icon:"arrow-left-circle-fill","aria-label":t.$t("move_left")}})],1),e("button",{staticClass:"u-button u-button_icon",attrs:{type:"button"},on:{click:function(o){return t.removeFromPins(s.$path)}}},[e("b-icon",{attrs:{icon:"pin-fill","aria-label":t.$t("unpin")}})],1),e("button",{staticClass:"u-button u-button_icon",attrs:{type:"button",disabled:["alone","last"].includes(t.positionInPinned(s.$path))},on:{click:function(o){return t.movePin(a,1)}}},[e("b-icon",{attrs:{icon:"arrow-right-circle-fill","aria-label":t.$t("move_right")}})],1)]):e("div",{staticClass:"_pinSpace _pinSpace_indicator"},[e("b-icon",{attrs:{icon:"pin-fill","aria-label":t.$t("pinned")}})],1)],2)}),0)],1)],1)]):t._e(),e("transition-group",{staticClass:"_nonpinned _list",attrs:{tag:"section",name:"listComplete",appear:""}},t._l(t.non_pinned_folders,function(s){return e("div",{key:s.$path,staticClass:"_item"},[t._t("default",null,{item:s}),t.can_edit?e("div",{staticClass:"_pinSpace"},[e("button",{staticClass:"u-button u-button_icon",attrs:{type:"button"},on:{click:function(a){return t.addSpaceToPins(s.$path)}}},[e("b-icon",{attrs:{icon:"pin","aria-label":t.$t("pin")}})],1)]):t._e()],2)}),0)],1)},d=[],h=n(_,p,d,!1,null,"bd0a7ea5");const nt=h.exports,u={props:{project:Object,can_edit:Boolean},components:{},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{keywords_title(){return this.$t("keywords")}},methods:{}};var m=function(){var t=this,e=t._self._c;return e("DetailsPane",{attrs:{header:t.keywords_title,icon:"tag",has_items:!!t.project.keywords}},[e("div",{},[e("TagsField",{attrs:{label:t.$t("keywords"),field_name:"keywords",tag_type:"keywords",content:t.project.keywords,path:t.project.$path,can_edit:t.can_edit}})],1)])},f=[],$=n(u,m,f,!1,null,"2a8f01e2");const v=$.exports,y={props:{project:Object,can_edit:Boolean},components:{},data(){return{basic_competences:[{key:"",label:this.$t("not_specified")},{key:"beginner",label:this.$t("beginner")},{key:"intermediate",label:this.$t("intermediate")},{key:"experienced",label:this.$t("experienced")}],target_audience_options:[{key:"cycle1",label:this.$t("ta_cycle1"),instructions:this.$t("ta_cycle1_instr")},{key:"cycle2",label:this.$t("ta_cycle2"),instructions:this.$t("ta_cycle2_instr")},{key:"cycle3",label:this.$t("ta_cycle3"),instructions:this.$t("ta_cycle3_instr")},{key:"cycle4",label:this.$t("ta_cycle4"),instructions:this.$t("ta_cycle4_instr")},{key:"ulis",label:this.$t("ta_ulis")},{key:"cap",label:this.$t("ta_cap")},{key:"lycee",label:this.$t("ta_lycee")},{key:"lycee2",label:this.$t("ta_lycee2")},{key:"post",label:this.$t("ta_post")}],discipline_options:[{key:"math",label:this.$t("di_math")},{key:"french",label:this.$t("di_french")},{key:"langs",label:this.$t("di_langs")},{key:"history",label:this.$t("di_history")},{key:"geography",label:this.$t("di_geography")},{key:"biology",label:this.$t("di_biology")},{key:"technology",label:this.$t("di_technology")},{key:"physics",label:this.$t("di_physics")},{key:"chemistry",label:this.$t("di_chemistry")},{key:"sports",label:this.$t("di_sports")},{key:"civics",label:this.$t("di_civics")},{key:"arts",label:this.$t("di_arts")},{key:"music",label:this.$t("di_music")},{key:"transdisciplinary",label:this.$t("di_transdisciplinary")}]}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{}};var b=function(){var t=this,e=t._self._c;return e("DetailsPane",{attrs:{header:t.$t("levels_and_competences"),icon:"bookmark-star",has_items:!!t.project.level}},[e("div",{staticClass:"u-spacingBottom"},[e("RadioCheckboxField",{attrs:{label:t.$t("skill_level"),field_name:"level",input_type:"radio",content:t.project.level,path:t.project.$path,can_edit:t.can_edit,options:t.basic_competences},scopedSlots:t._u([{key:"preview",fn:function({item:s}){return[s&&s.key?e("div",{staticClass:"_list"},[e("SingleTag",{attrs:{tag_type:"level",tag_str:s.label,mode:"inactive"}})],1):t._e()]}}])})],1),e("div",{staticClass:"u-spacingBottom"},[e("RadioCheckboxField",{attrs:{label:t.$t("target_audience"),field_name:"target_audience",input_type:"checkbox",content:t.project.target_audience,path:t.project.$path,can_edit:t.can_edit,options:t.target_audience_options},scopedSlots:t._u([{key:"preview",fn:function({items:s}){return[s?e("TagsList",{attrs:{tags:s.map(({key:a})=>a),tag_type:"target_audience"}}):t._e()]}}])})],1),e("div",{},[e("RadioCheckboxField",{attrs:{label:t.$t("disciplines"),field_name:"disciplines",input_type:"checkbox",content:t.project.disciplines,path:t.project.$path,can_edit:t.can_edit,options:t.discipline_options},scopedSlots:t._u([{key:"preview",fn:function({items:s}){return[s?e("TagsList",{attrs:{tags:s.map(({key:a})=>a),tag_type:"disciplines"}}):t._e()]}}])})],1)])},g=[],j=n(y,b,g,!1,null,"60817c9a");const k=j.exports,w={props:{project:Object,can_edit:Boolean},components:{},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{machines_materials_items_length(){let i=0;return this.project.materials&&Array.isArray(this.project.materials)&&(i+=this.project.materials.length),this.project.machines&&Array.isArray(this.project.machines)&&(i+=this.project.machines.length),i}},methods:{}};var x=function(){var t=this,e=t._self._c;return e("DetailsPane",{attrs:{header:t.$t("machines_and_materials"),icon:"tools",has_items:t.machines_materials_items_length>0?t.machines_materials_items_length:!1}},[e("div",{staticClass:"u-spacingBottom"},[e("TagsField",{attrs:{label:t.$t("materials"),field_name:"materials",tag_type:"materials",content:t.project.materials,path:t.project.$path,can_edit:t.can_edit}})],1),e("div",{},[e("TagsField",{attrs:{label:t.$t("machines"),field_name:"machines",tag_type:"machines",content:t.project.machines,path:t.project.$path,can_edit:t.can_edit}})],1)])},C=[],F=n(w,x,C,!1,null,"6c67a27d");const P=F.exports,D={props:{project:Object,can_edit:Boolean},components:{},data(){return{events:[],is_loading:!0}},async created(){this.events=await this.loadAllEvents(),this.is_loading=!1},mounted(){},beforeDestroy(){},watch:{},computed:{events_options(){if(!this.events)return[];const i=[{key:"",label:"â€“"}];return this.events.map(t=>{let e="";t.start_date&&(e+=t.start_date),t.end_date&&(e+="-"+t.end_date);const s=this.makeRelativeURLFromThumbs({$thumbs:t.$cover,$type:"image",$path:t.$path,resolution:50});i.push({key:this.getFilename(t.$path),label:t.title,instructions:e,thumb_src:s})}),i}},methods:{async loadAllEvents(){return await this.$api.getFolders({path:"events"}).catch(i=>{this.fetch_events_error=i.response})}}};var R=function(){var t=this,e=t._self._c;return e("div",{},[t.can_edit||t.project.event_linked_slug?e("DLabel",{attrs:{str:t.$t("created_during")}}):t._e(),t.is_loading?t._e():[e("RadioCheckboxField",{attrs:{field_name:"event_linked_slug",input_type:"radio",content:t.project.event_linked_slug,path:t.project.$path,can_edit:t.can_edit,options:t.events_options}})]],2)},S=[],B=n(D,R,S,!1,null,"c356948c");const L=B.exports,T={props:{path:String,proposed_title:String,mode:{type:String,default:"duplicate"}},components:{},data(){return{spaces:void 0,destination_space_path:void 0,url_to_copy:!1,remove_original:!1,new_title:this.proposed_title,is_copying:!1}},created(){},async mounted(){const{space_slug:i}=this.decomposePath(this.path);this.destination_space_path=this.createPath({space_slug:i}),this.spaces=await this.$api.getFolders({path:"spaces"})},beforeDestroy(){},watch:{},computed:{modal_title(){return this.mode==="remix"?this.$t("remix_this_project"):this.$t("duplicate_or_move")},destination_space_label(){return this.mode==="remix"?this.$t("destination_space_remix"):this.$t("destination_space")},new_title_label(){return this.mode==="remix"?this.$t("title_of_remix"):this.$t("title_of_copy")},sorted_spaces(){return this.spaces?this.spaces.slice().filter(i=>this.canLoggedinSeeFolder({folder:i})).sort((i,t)=>i.title.localeCompare(t.title)):[]}},methods:{async confirm(){this.is_copying=!0;const i=this.destination_space_path+"/projects";let t;try{if(this.mode==="duplicate")t=await this.$api.copyFolder({path:this.path,path_to_destination_type:i,new_meta:{title:this.new_title}});else if(this.mode==="remix"){const s={title:this.new_title,$admins:this.setDefaultContentAdmins(),$contributors:[]};t=await this.$api.remixFolder({path:this.path,path_to_destination_type:i,new_meta:s})}}catch(s){throw s==="unique_field_taken"?(this.$alertify.delay(4e3).error(this.$t("title_taken")),this.$refs.titleInput.$el.querySelector("input").select()):s==="not_allowed_to_copy_folder"&&this.$alertify.delay(4e3).error(this.$t("not_allowed_to_copy_to_space")),this.is_copying=!1,"fail"}this.$alertify.closeLogOnClick(!0).delay(4e3).success(this.$t("folder_copied"));const e=this.createURLFromPath(t);this.remove_original?(this.is_copying=!1,await this.$api.deleteItem({path:this.path}),this.$router.push(e)):(this.url_to_copy=e,this.is_copying=!1)}}};var I=function(){var t=this,e=t._self._c;return e("BaseModal2",{attrs:{title:t.modal_title},on:{close:function(s){return t.$emit("close")}}},[t.url_to_copy?[e("router-link",{staticClass:"u-button u-button_bleumarine",attrs:{to:t.url_to_copy}},[t._v(" "+t._s(t.$t("open_copy"))+" ")])]:[e("div",{},[e("div",{staticClass:"u-spacingBottom u-instructions"},[e("small",[t._v(" "+t._s(t.$t("dm_instr"))+" ")])]),e("div",{staticClass:"u-spacingBottom"},[e("DLabel",{attrs:{str:t.destination_space_label}}),e("select",{directives:[{name:"model",rawName:"v-model",value:t.destination_space_path,expression:"destination_space_path"}],on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,function(o){return o.selected}).map(function(o){var c="_value"in o?o._value:o.value;return c});t.destination_space_path=s.target.multiple?a:a[0]}}},t._l(t.sorted_spaces,function(s){return e("option",{key:s.$path,domProps:{value:s.$path,textContent:t._s(s.title)}})}),0)],1),e("div",{staticClass:"u-spacingBottom"},[e("DLabel",{attrs:{str:t.new_title_label}}),e("TextInput",{ref:"titleInput",attrs:{content:t.new_title,maxlength:40,required:!0},on:{"update:content":function(s){t.new_title=s}}})],1),t.mode==="duplicate"?e("div",{staticClass:"u-spacingBottom"},[e("ToggleInput",{attrs:{content:t.remove_original,label:t.$t("remove_original"),options:{true:t.$t("remove_original_after_copy"),false:t.$t("keep_original_after_copy")}},on:{"update:content":function(s){t.remove_original=s}}})],1):t._e()]),e("template",{slot:"footer"},[t.is_copying?e("LoaderSpinner"):[e("button",{staticClass:"u-button",attrs:{type:"button"},on:{click:function(s){return t.$emit("close")}}},[e("b-icon",{attrs:{icon:"x-circle"}}),t._v(" "+t._s(t.$t("cancel"))+" ")],1),e("button",{staticClass:"u-button u-button_bleuvert",attrs:{type:"button",autofocus:""},on:{click:t.confirm}},[t.remove_original?[t._v(" "+t._s(t.$t("move"))+" ")]:[t.mode==="remix"?[t._v(" "+t._s(t.$t("remix"))+" ")]:[t._v(" "+t._s(t.$t("duplicate"))+" ")]]],2)]],2)]],2)},A=[],O=n(T,I,A,!1,null,"7b744c9a");const r=O.exports,M={props:{project:Object,can_edit:Boolean},components:{DuplicateOrRemixProject:r},data(){return{is_loading:!1,show_remix_modal:!1}},async created(){this.project.is_remix_of&&(this.is_loading=!0,this.source_project=await this.$api.getFolder({path:this.event_path}).catch(i=>{this.error_fetching_source_project=i,this.is_loading=!1}),this.is_loading=!1)},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{remixProject(){}}};var E=function(){var t=this,e=t._self._c;return e("div",{staticClass:"_remixField"},[t.can_edit?e("ToggleField",{attrs:{label:t.$t("project_can_be_remixed"),field_name:"$can_be_remixed",content:t.project.$can_be_remixed===!0,path:t.project.$path,can_edit:t.can_edit}}):t._e(),t.project.$can_be_remixed?e("button",{staticClass:"u-button u-button_bleumarine",attrs:{type:"button"},on:{click:function(s){t.show_remix_modal=!0}}},[e("b-icon",{attrs:{icon:"intersect"}}),t._v(" "+t._s(t.$t("remix_this_project"))+" ")],1):t._e(),t.show_remix_modal?e("DuplicateOrRemixProject",{attrs:{path:t.project.$path,mode:"remix",proposed_title:`${t.$t("remix_of")} ${t.project.title}`,source_title:t.project.title},on:{close:function(s){t.show_remix_modal=!1}}}):t._e()],1)},q=[],K=n(M,E,q,!1,null,"c4a92436");const U=K.exports,z={props:{project:Object,can_edit:Boolean},components:{EventField:L,RemixField:U},data(){return{license_options:[{key:"",label:this.$t("not_specified")},{key:"creativecommons_by_sa",label:this.$t("creativecommons_by_sa"),instructions:this.$t("creativecommons_by_sa_explanations")},{key:"all_rights_reserved",label:this.$t("all_rights_reserved")},{key:"copyleft",label:this.$t("copyleft"),instructions:this.$t("copyleft_explanations")},{key:"custom_license",label:this.$t("custom_license")}]}},created(){},mounted(){},beforeDestroy(){},watch:{"project.license":function(i){i==="custom_license"&&this.$nextTick(()=>{this.$refs.custom_license_field.enableEditMode()})}},computed:{has_items(){return!!(this.project.license||this.project.authors_list)}},methods:{}};var N=function(){var t=this,e=t._self._c;return e("DetailsPane",{attrs:{header:t.$t("authors_and_license"),icon:"people",has_items:t.has_items}},[t.can_edit||t.project.authors_list?e("div",{staticClass:"u-spacingBottom"},[e("TitleField",{attrs:{label:t.$t("authors"),field_name:"authors_list",content:t.project.authors_list,path:t.project.$path,input_type:"editor",custom_formats:["bold","italic","link"],can_edit:t.can_edit}})],1):t._e(),e("div",{},[t.$root.app_infos.instance_meta.enable_events?e("EventField",{staticClass:"u-spacingBottom",attrs:{project:t.project,can_edit:t.can_edit}}):t._e(),e("RemixField",{staticClass:"u-spacingBottom",attrs:{project:t.project,can_edit:t.can_edit}}),t.can_edit||!t.can_edit&&t.project.license!=="custom_license"?e("RadioCheckboxField",{attrs:{label:t.$t("license"),show_label:!1,instructions:t.$t("licence_instructions"),field_name:"license",input_type:"radio",content:t.project.license,path:t.project.$path,can_edit:t.can_edit,options:t.license_options}}):e("DLabel",{attrs:{str:t.$t("license")}}),t.project.license==="custom_license"?e("TitleField",{ref:"custom_license_field",attrs:{label:t.$t("custom_license"),show_label:t.can_edit,field_name:"custom_license",content:t.project.custom_license||t.$t("fill_out_your_license"),path:t.project.$path,input_type:"editor",custom_formats:["bold","italic","link"],can_edit:t.can_edit}}):t._e()],1)])},V=[],G=n(z,N,V,!1,null,"bc87e844");const H=G.exports,J={props:{project:Object,can_edit:Boolean},components:{},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{downloadable_files(){return this.project.downloadable_files||[]}},methods:{}};var Q=function(){var t=this,e=t._self._c;return e("DetailsPane",{attrs:{header:t.$t("files"),icon:"file-earmark-arrow-down",has_items:t.downloadable_files.length>0?t.downloadable_files.length:!1}},[e("FilesModule",{attrs:{field_name:"downloadable_files",path:t.project.$path,content:t.downloadable_files,project_path:t.project.$path,can_edit:t.can_edit}})],1)},W=[],X=n(J,Q,W,!1,null,"f20c9fae");const Y=X.exports,Z={props:{project:Object,context:String,can_edit:Boolean,display_original_space:Boolean},components:{Flickity:l,DuplicateOrRemixProject:r,CardKeywords:v,CardCompetences:k,CardMachinesMaterials:P,CardLicense:H,CardFiles:Y},data(){return{fetch_status:null,fetch_error:null,response:null,show_meta:!0,show_dup_modal:!1,short_project_view:!0,flickityOptions:{initialIndex:0,groupCells:!0,imagesLoaded:!0,pageDots:!1,resize:!0,selectedAttraction:.2,percentPosition:!1,friction:.8,cellAlign:"center",contain:!1}}},created(){},mounted(){},beforeDestroy(){},watch:{"$root.is_mobile_view"(){this.$root.is_mobile_view&&(this.show_meta=!0)}},computed:{original_space_name(){let{space_slug:i}=this.decomposePath(this.project.$path);const t=this.createPath({space_slug:i});return this.getFromCache(t).title},is_compacted(){return this.context==="list"&&this.short_project_view},is_own_project(){return this.isOwnItem({folder:this.project})},all_tags(){let i=[];return["target_audience","disciplines","level","keywords","machines","materials"].map(t=>{if(t==="level"&&this.project.level)i.push({type:"level",list:[this.project.level]});else{const e=this.getKw(t);e.length>0&&i.push({type:t,list:e})}}),i}},methods:{getKw(i){return this.project[i]&&Array.isArray(this.project[i])?this.project[i]:[]},async removeProject(){this.fetch_status="pending",this.fetch_error=null;try{const i=await this.$api.deleteItem({path:this.project.$path});this.response=i.data,this.fetch_status="success"}catch(i){this.fetch_status="error",this.fetch_error=i.response.data}},toggleCompacted(){this.short_project_view=!this.short_project_view}}};var tt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"_projectInfos",class:{"is--list":["list","tiny"].includes(t.context),"is--own":t.is_own_project,"u-card2":t.context!=="full"},attrs:{"data-context":t.context}},[e("div",{staticClass:"_projectInfos--topContent"},[e("div",{staticClass:"_projectInfos--cover"},[e("CoverField",{staticClass:"_cover",attrs:{context:t.context,ratio:"3 / 2",cover:t.project.$cover,path:t.project.$path,can_edit:t.can_edit}}),e("transition",{attrs:{name:"toggleLock",mode:"out-in"}},[t.project.$status==="finished"||t.project.$status==="private"?e("StatusTag",{key:t.project.$status,staticClass:"_icon",attrs:{show_label:!1,status:t.project.$status,can_edit:!1,mode:t.context==="list"?"active":"inactive"},on:{click:function(s){return t.$emit("toggleFilter",{filter_type:"$status",value:t.project.$status})}}}):t._e()],1),t.display_original_space?e("div",{staticClass:"_originalSpace"},[t._v(" +â€‰"+t._s(t.original_space_name)+" ")]):t._e()],1),e("div",{staticClass:"_projectInfos--infos",class:{"is--short":t.is_compacted}},[t.context==="full"?e("div",{staticClass:"_projectInfos--infos--settings"},[e("StatusTag",{attrs:{status:t.project.$status,path:t.project.$path,can_edit:t.can_edit}}),t.can_edit?e("DropDown",{attrs:{right:!0}},[e("DownloadFolder",{attrs:{modal_title:t.$t("download_project",{name:t.project.title}),modal_instructions:t.$t("download_project_instr"),path:t.project.$path}}),e("div",{},[e("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(s){t.show_dup_modal=!0}}},[e("b-icon",{attrs:{icon:"file-plus"}}),t._v(" "+t._s(t.$t("duplicate_or_move"))+" ")],1),t.show_dup_modal?e("DuplicateOrRemixProject",{attrs:{path:t.project.$path,proposed_title:`${t.$t("copy_of")} ${t.project.title}`},on:{close:function(s){t.show_dup_modal=!1}}}):t._e()],1),e("RemoveMenu",{attrs:{modal_title:t.$t("remove_project",{name:t.project.title})},on:{remove:t.removeProject}})],1):t._e()],1):t._e(),e("TitleField",{staticClass:"_title",attrs:{field_name:"title",label:t.context==="full"?t.$t("title"):"",content:t.project.title,path:t.project.$path,required:!0,maxlength:40,tag:t.context==="full"?"h1":t.context==="list"?"h3":"h5",can_edit:t.can_edit,instructions:t.can_edit?t.$t("project_title_instructions"):void 0}}),t.context==="list"&&t.project.description||t.context==="full"&&(t.project.description||t.can_edit)?e("TitleField",{attrs:{field_name:"description",label:t.context==="full"?t.$t("description"):"",input_type:"editor",custom_formats:["bold","italic","link"],content:t.project.description,path:t.project.$path,maxlength:1280,can_edit:t.can_edit}}):t._e(),t.context==="full"?e("AdminsAndContributorsField",{attrs:{folder:t.project,can_edit:t.can_edit,admin_label:t.$t("referent"),admin_instructions:t.$t("project_admin_instructions"),contrib_instructions:t.$t("project_contrib_instructions")}}):t._e(),t.context!=="tiny"&&t.context!=="full"&&t.all_tags.length>0?e("div",{staticClass:"_allTags"},[t._l(t.all_tags,function(s){return t._l(s.list,function(a){return e("SingleTag",{key:a,attrs:{tag_type:s.type,tag_str:a,mode:"active"},on:{tagClick:function(o){return t.$emit("toggleFilter",{filter_type:s.type,value:a})}}})})})],2):t._e(),t.is_compacted?e("div",{staticClass:"_compactExpandButton",on:{click:t.toggleCompacted}},[e("button",{staticClass:"u-button u-button_icon",attrs:{type:"button",tabindex:"-1"}},[t.short_project_view?e("b-icon",{attrs:{icon:"arrow-down-short"}}):e("b-icon",{attrs:{icon:"arrow-up-short"}})],1)]):t._e()],1)]),t.context==="full"?e("div",{staticClass:"_projectInfos--meta",class:{"is--hidden":!t.show_meta},attrs:{options:t.flickityOptions}},[e("CardLicense",{staticClass:"_card",attrs:{project:t.project,can_edit:t.can_edit}}),e("CardFiles",{staticClass:"_card",attrs:{project:t.project,can_edit:t.can_edit}}),e("CardCompetences",{staticClass:"_card",attrs:{project:t.project,can_edit:t.can_edit}}),e("CardMachinesMaterials",{staticClass:"_card",attrs:{project:t.project,can_edit:t.can_edit}}),e("CardKeywords",{staticClass:"_card",attrs:{project:t.project,can_edit:t.can_edit}})],1):t._e(),["list","tiny"].includes(t.context)?e("router-link",{staticClass:"js--showCursor _projectInfos--open",attrs:{to:{path:t.createURLFromPath(t.project.$path)},title:t.$t("open")+" "+t.project.title}}):t._e()],1)},et=[],it=n(Z,tt,et,!1,null,"5bea5730");const ot=it.exports;export{nt as P,ot as a};
