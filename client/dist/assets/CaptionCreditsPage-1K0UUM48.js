import{n}from"../build.js";const s={props:{media:Object,publication_path:String,can_edit:Boolean},components:{},data(){return{show_credits_caption:!1}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{show_credits_caption_button(){return!(this.show_credits_caption||this.media.$type==="text"||this.media.$type==="table"||this.canEditLinkedMedia(this.media.$path)===!1&&!this.media.$credits&&!this.media.caption)}},methods:{canEditLinkedMedia(e){if(!e||!this.publication_path||!this.can_edit)return!1;const t=this.getParent(e);let i=this.publication_path;return t===i&&this.canLoggedinEditFolder({folder:i})?"local":(i=this.getParent(this.getParent(this.publication_path)),t===i&&this.canLoggedinEditFolder({folder:i})?"link":!1)}}};var o=function(){var t=this,i=t._self._c;return i("div",{},[i("div",{staticClass:"_creditsBtn"},[t.show_credits_caption_button?i("EditBtn",{attrs:{btn_type:"credits",label_position:"left"},on:{click:function(a){t.show_credits_caption=!0}}}):t._e()],1),i("transition",{attrs:{name:"pagechange",mode:"out-in"}},[t.show_credits_caption?i("div",{staticClass:"_showCredits"},[i("button",{staticClass:"u-button u-button_icon _closeCredits",attrs:{type:"button"},on:{click:function(a){t.show_credits_caption=!1}}},[i("b-icon",{attrs:{icon:"x-lg"}})],1),t.media.caption||t.canEditLinkedMedia(t.media.$path)!==!1?i("div",{staticClass:"u-spacingBottom"},[i("CollaborativeEditor2",{attrs:{label:t.$t("caption"),field_to_edit:"caption",content:t.media.caption,path:t.media.$path,custom_formats:["bold","italic","link","emoji"],is_collaborative:!1,can_edit:t.can_edit}})],1):t._e(),t.media.$credits||t.canEditLinkedMedia(t.media.$path)!==!1?i("div",{staticClass:"u-spacingBottom"},[i("CollaborativeEditor2",{attrs:{label:t.$t("credit/reference"),field_to_edit:"$credits",content:t.media.$credits,path:t.media.$path,custom_formats:["bold","italic","link","emoji"],is_collaborative:!1,can_edit:t.can_edit}})],1):t._e(),t.can_edit?i("div",{staticClass:"u-instructions"},[i("small",[t._v(" "+t._s(t.$t("edit_caption_changes_for_all_medias"))+" ")])]):t._e()]):t._e()])],1)},c=[],d=n(s,o,c,!1,null,"bf1adee1");const _=d.exports;export{_ as C};
