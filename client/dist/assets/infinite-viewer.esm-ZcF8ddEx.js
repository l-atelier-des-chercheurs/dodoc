var Qt="function",te="object",ee="string",Mt="undefined",re=typeof document!==Mt&&document,ne=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],U={cm:function(a){return a*96/2.54},mm:function(a){return a*96/254},in:function(a){return a*96},pt:function(a){return a*96/72},pc:function(a){return a*96/6},"%":function(a,i){return a*i/100},vw:function(a,i){return i===void 0&&(i=window.innerWidth),a/100*i},vh:function(a,i){return i===void 0&&(i=window.innerHeight),a/100*i},vmax:function(a,i){return i===void 0&&(i=Math.max(window.innerWidth,window.innerHeight)),a/100*i},vmin:function(a,i){return i===void 0&&(i=Math.min(window.innerWidth,window.innerHeight)),a/100*i}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function ie(){for(var a=0,i=0,n=arguments.length;i<n;i++)a+=arguments[i].length;for(var t=Array(a),e=0,i=0;i<n;i++)for(var o=arguments[i],r=0,s=o.length;r<s;r++,e++)t[e]=o[r];return t}function mt(a){return typeof a===Mt}function F(a){return a&&typeof a===te}function V(a){return Array.isArray(a)}function Ot(a){return typeof a===ee}function oe(a){return typeof a===Qt}function ae(a,i){var n=a===""||a==" ",t=i===""||i==" ";return t&&n||a===i}function Rt(a,i,n,t,e){var o=ct(a,i,n);return o?n:se(a,i,n+1,t,e)}function ct(a,i,n){if(!a.ignore)return null;var t=i.slice(Math.max(n-3,0),n+3).join("");return new RegExp(a.ignore).exec(t)}function se(a,i,n,t,e){for(var o=function(c){var h=i[c].trim();if(h===a.close&&!ct(a,i,c))return{value:c};var f=c,l=nt(e,function(g){var p=g.open;return p===h});if(l&&(f=Rt(l,i,c,t,e)),f===-1)return r=c,"break";c=f,r=c},r,s=n;s<t;++s){var u=o(s);if(s=r,typeof u=="object")return u.value;if(u==="break")break}return-1}function Pt(a,i){var n=Ot(i)?{separator:i}:i,t=n.separator,e=t===void 0?",":t,o=n.isSeparateFirst,r=n.isSeparateOnlyOpenClose,s=n.isSeparateOpenClose,u=s===void 0?r:s,c=n.openCloseCharacters,h=c===void 0?ne:c,f=h.map(function(E){var Y=E.open,D=E.close;return Y===D?Y:Y+"|"+D}).join("|"),l="(\\s*"+e+"\\s*|"+f+"|\\s+)",g=new RegExp(l,"g"),p=a.split(g).filter(function(E){return E&&E!=="undefined"}),m=p.length,v=[],_=[];function d(){return _.length?(v.push(_.join("")),_=[],!0):!1}for(var S=function(E){var Y=p[E].trim(),D=E,O=nt(h,function(T){var P=T.open;return P===Y}),R=nt(h,function(T){var P=T.close;return P===Y});if(O){if(D=Rt(O,p,E,m,h),D!==-1&&u)return d()&&o||(v.push(p.slice(E,D+1).join("")),E=D,o)?(w=E,"break"):(w=E,"continue")}else if(R&&!ct(R,p,E)){var x=ie(h);return x.splice(h.indexOf(R),1),{value:Pt(a,{separator:e,isSeparateFirst:o,isSeparateOnlyOpenClose:r,isSeparateOpenClose:u,openCloseCharacters:x})}}else if(ae(Y,e)&&!r)return d(),o?(w=E,"break"):(w=E,"continue");D===-1&&(D=m-1),_.push(p.slice(E,D+1).join("")),E=D,w=E},w,y=0;y<m;++y){var C=S(y);if(y=w,typeof C=="object")return C.value;if(C==="break")break}return _.length&&v.push(_.join("")),v}function le(a){return Pt(a,",")}function ce(a){var i=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(a);if(!i)return{prefix:"",unit:"",value:NaN};var n=i[1],t=i[2],e=i[3];return{prefix:n,unit:e,value:parseFloat(t)}}function ue(a){return a.replace(/[\s-_]+([^\s-_])/g,function(i,n){return n.toUpperCase()})}function _t(){return Date.now?Date.now():new Date().getTime()}function Wt(a,i,n){n===void 0&&(n=-1);for(var t=a.length,e=0;e<t;++e)if(i(a[e],e,a))return e;return n}function nt(a,i,n){var t=Wt(a,i);return t>-1?a[t]:n}function L(a,i){var n=ce(a),t=n.value,e=n.unit;if(F(i)){var o=i[e];if(o){if(oe(o))return o(t);if(U[e])return U[e](t,o)}}else if(e==="%")return t*i/100;return U[e]?U[e](t):t}function B(a,i,n){return Math.max(i,Math.min(a,n))}function he(a,i){var n=1/i;return Math.round(a/i)/n}function k(a,i){a.classList?a.classList.add(i):a.className+=" "+i}function b(a,i,n,t){a.addEventListener(i,n,t)}function z(a,i,n,t){a.removeEventListener(i,n,t)}function ut(a){return(a==null?void 0:a.ownerDocument)||re}function H(a){var i;return((i=a==null?void 0:a.ownerDocument)===null||i===void 0?void 0:i.defaultView)||window}function fe(a){return a&&"postMessage"in a&&"blur"in a&&"self"in a}function St(a){return F(a)&&a.nodeName&&a.nodeType&&"ownerDocument"in a}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var it=function(){return it=Object.assign||function(i){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])}return i},it.apply(this,arguments)};function ve(){for(var a=0,i=0,n=arguments.length;i<n;i++)a+=arguments[i].length;for(var t=Array(a),e=0,i=0;i<n;i++)for(var o=arguments[i],r=0,s=o.length;r<s;r++,e++)t[e]=o[r];return t}var ht=function(){function a(){this._events={}}var i=a.prototype;return i.on=function(n,t){if(F(n))for(var e in n)this.on(e,n[e]);else this._addEvent(n,t,{});return this},i.off=function(n,t){if(!n)this._events={};else if(F(n))for(var e in n)this.off(e);else if(!t)this._events[n]=[];else{var o=this._events[n];if(o){var r=Wt(o,function(s){return s.listener===t});r>-1&&o.splice(r,1)}}return this},i.once=function(n,t){var e=this;return t&&this._addEvent(n,t,{once:!0}),new Promise(function(o){e._addEvent(n,o,{once:!0})})},i.emit=function(n,t){var e=this;t===void 0&&(t={});var o=this._events[n];if(!n||!o)return!0;var r=!1;return t.eventType=n,t.stop=function(){r=!0},t.currentTarget=this,ve(o).forEach(function(s){s.listener(t),s.once&&e.off(n,s.listener)}),!r},i.trigger=function(n,t){return t===void 0&&(t={}),this.emit(n,t)},i._addEvent=function(n,t,e){var o=this._events;o[n]=o[n]||[];var r=o[n];r.push(it({listener:t},e))},a}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ot=function(a,i){return ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e])},ot(a,i)};function ge(a,i){ot(a,i);function n(){this.constructor=a}a.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}var X=function(){return X=Object.assign||function(i){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])}return i},X.apply(this,arguments)};function de(a,i){var n=i[0]-a[0],t=i[1]-a[1],e=Math.atan2(t,n);return e>=0?e:e+Math.PI*2}function tt(a){return de([a[0].clientX,a[0].clientY],[a[1].clientX,a[1].clientY])/Math.PI*180}function pe(a){return a.touches&&a.touches.length>=2}function G(a){return a?a.touches?_e(a.touches):[Lt(a)]:[]}function me(a){return a&&(a.type.indexOf("mouse")>-1||"button"in a)}function wt(a,i,n){var t=n.length,e=Z(a,t),o=e.clientX,r=e.clientY,s=e.originalClientX,u=e.originalClientY,c=Z(i,t),h=c.clientX,f=c.clientY,l=Z(n,t),g=l.clientX,p=l.clientY,m=o-h,v=r-f,_=o-g,d=r-p;return{clientX:s,clientY:u,deltaX:m,deltaY:v,distX:_,distY:d}}function et(a){return Math.sqrt(Math.pow(a[0].clientX-a[1].clientX,2)+Math.pow(a[0].clientY-a[1].clientY,2))}function _e(a){for(var i=Math.min(a.length,2),n=[],t=0;t<i;++t)n.push(Lt(a[t]));return n}function Lt(a){return{clientX:a.clientX,clientY:a.clientY}}function Z(a,i){i===void 0&&(i=a.length);for(var n={clientX:0,clientY:0,originalClientX:0,originalClientY:0},t=Math.min(a.length,i),e=0;e<t;++e){var o=a[e];n.originalClientX+="originalClientX"in o?o.originalClientX:o.clientX,n.originalClientY+="originalClientY"in o?o.originalClientY:o.clientY,n.clientX+=o.clientX,n.clientY+=o.clientY}return i?{clientX:n.clientX/i,clientY:n.clientY/i,originalClientX:n.originalClientX/i,originalClientY:n.originalClientY/i}:n}var rt=function(){function a(i){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=i,this.prevClients=i,this.length=i.length}return a.prototype.getAngle=function(i){return i===void 0&&(i=this.prevClients),tt(i)},a.prototype.getRotation=function(i){return i===void 0&&(i=this.prevClients),tt(i)-tt(this.startClients)},a.prototype.getPosition=function(i,n){i===void 0&&(i=this.prevClients);var t=wt(i||this.prevClients,this.prevClients,this.startClients),e=t.deltaX,o=t.deltaY;return this.movement+=Math.sqrt(e*e+o*o),this.prevClients=i,t},a.prototype.getPositions=function(i){i===void 0&&(i=this.prevClients);for(var n=this.prevClients,t=this.startClients,e=Math.min(this.length,n.length),o=[],r=0;r<e;++r)o[r]=wt([i[r]],[n[r]],[t[r]]);return o},a.prototype.getMovement=function(i){var n=this.movement;if(!i)return n;var t=Z(i,this.length),e=Z(this.prevClients,this.length),o=t.clientX-e.clientX,r=t.clientY-e.clientY;return Math.sqrt(o*o+r*r)+n},a.prototype.getDistance=function(i){return i===void 0&&(i=this.prevClients),et(i)},a.prototype.getScale=function(i){return i===void 0&&(i=this.prevClients),et(i)/et(this.startClients)},a.prototype.move=function(i,n){this.startClients.forEach(function(t){t.clientX-=i,t.clientY-=n}),this.prevClients.forEach(function(t){t.clientX-=i,t.clientY-=n})},a}(),Et=["textarea","input"],Bt=function(a){ge(i,a);function i(n,t){t===void 0&&(t={});var e=a.call(this)||this;e.options={},e.flag=!1,e.pinchFlag=!1,e.data={},e.isDrag=!1,e.isPinch=!1,e.clientStores=[],e.targets=[],e.prevTime=0,e.doubleFlag=!1,e._useMouse=!1,e._useTouch=!1,e._useDrag=!1,e._dragFlag=!1,e._isTrusted=!1,e._isMouseEvent=!1,e._isSecondaryButton=!1,e._preventMouseEvent=!1,e._prevInputEvent=null,e._isDragAPI=!1,e._isIdle=!0,e._preventMouseEventId=0,e._window=window,e.onDragStart=function(l,g){if(g===void 0&&(g=!0),!(!e.flag&&l.cancelable===!1)){var p=l.type.indexOf("drag")>=-1;if(!(e.flag&&p)){e._isDragAPI=!0;var m=e.options,v=m.container,_=m.pinchOutside,d=m.preventWheelClick,S=m.preventRightClick,w=m.preventDefault,y=m.checkInput,C=m.dragFocusedInput,E=m.preventClickEventOnDragStart,Y=m.preventClickEventOnDrag,D=m.preventClickEventByCondition,O=e._useTouch,R=!e.flag;if(e._isSecondaryButton=l.which===3||l.button===2,d&&(l.which===2||l.button===1)||S&&(l.which===3||l.button===2))return e.stop(),!1;if(R){var x=e._window.document.activeElement,T=l.target;if(T){var P=T.tagName.toLowerCase(),K=Et.indexOf(P)>-1,q=T.isContentEditable;if(K||q){if(y||!C&&x===T)return!1;if(x&&(x===T||q&&x.isContentEditable&&x.contains(T)))if(C)T.blur();else return!1}else if((w||l.type==="touchstart")&&x){var J=x.tagName.toLowerCase();(x.isContentEditable||Et.indexOf(J)>-1)&&x.blur()}(E||Y||D)&&b(e._window,"click",e._onClick,!0)}e.clientStores=[new rt(G(l))],e._isIdle=!1,e.flag=!0,e.isDrag=!1,e._isTrusted=g,e._dragFlag=!0,e._prevInputEvent=l,e.data={},e.doubleFlag=_t()-e.prevTime<200,e._isMouseEvent=me(l),!e._isMouseEvent&&e._preventMouseEvent&&e._allowMouseEvent();var Q=e._preventMouseEvent||e.emit("dragStart",X(X({data:e.data,datas:e.data,inputEvent:l,isMouseEvent:e._isMouseEvent,isSecondaryButton:e._isSecondaryButton,isTrusted:g,isDouble:e.doubleFlag},e.getCurrentStore().getPosition()),{preventDefault:function(){l.preventDefault()},preventDrag:function(){e._dragFlag=!1}}));Q===!1&&e.stop(),e._isMouseEvent&&e.flag&&w&&l.preventDefault()}if(!e.flag)return!1;var pt=0;if(R?(e._attchDragEvent(),O&&_&&(pt=setTimeout(function(){b(v,"touchstart",e.onDragStart,{passive:!1})}))):O&&_&&z(v,"touchstart",e.onDragStart),e.flag&&pe(l)){if(clearTimeout(pt),R&&l.touches.length!==l.changedTouches.length)return;e.pinchFlag||e.onPinchStart(l)}}}},e.onDrag=function(l,g){if(e.flag){var p=e.options.preventDefault;!e._isMouseEvent&&p&&l.preventDefault(),e._prevInputEvent=l;var m=G(l),v=e.moveClients(m,l,!1);if(e._dragFlag){if(e.pinchFlag||v.deltaX||v.deltaY){var _=e._preventMouseEvent||e.emit("drag",X(X({},v),{isScroll:!!g,inputEvent:l}));if(_===!1){e.stop();return}}e.pinchFlag&&e.onPinch(l,m)}e.getCurrentStore().getPosition(m,!0)}},e.onDragEnd=function(l){if(e.flag){var g=e.options,p=g.pinchOutside,m=g.container,v=g.preventClickEventOnDrag,_=g.preventClickEventOnDragStart,d=g.preventClickEventByCondition,S=e.isDrag;(v||_||d)&&requestAnimationFrame(function(){e._allowClickEvent()}),!d&&!_&&v&&!S&&e._allowClickEvent(),e._useTouch&&p&&z(m,"touchstart",e.onDragStart),e.pinchFlag&&e.onPinchEnd(l);var w=l!=null&&l.touches?G(l):[],y=w.length;y===0||!e.options.keepDragging?e.flag=!1:e._addStore(new rt(w));var C=e._getPosition(),E=_t(),Y=!S&&e.doubleFlag;e._prevInputEvent=null,e.prevTime=S||Y?0:E,e.flag||(e._dettachDragEvent(),e._preventMouseEvent||e.emit("dragEnd",X({data:e.data,datas:e.data,isDouble:Y,isDrag:S,isClick:!S,isMouseEvent:e._isMouseEvent,isSecondaryButton:e._isSecondaryButton,inputEvent:l,isTrusted:e._isTrusted},C)),e.clientStores=[],e._isMouseEvent||(e._preventMouseEvent=!0,clearTimeout(e._preventMouseEventId),e._preventMouseEventId=setTimeout(function(){e._preventMouseEvent=!1},200)),e._isIdle=!0)}},e.onBlur=function(){e.onDragEnd()},e._allowClickEvent=function(){z(e._window,"click",e._onClick,!0)},e._onClick=function(l){e._allowClickEvent(),e._allowMouseEvent();var g=e.options.preventClickEventByCondition;g!=null&&g(l)||(l.stopPropagation(),l.preventDefault())},e._onContextMenu=function(l){var g=e.options;g.preventRightClick?e.onDragEnd(l):l.preventDefault()},e._passCallback=function(){};var o=[].concat(n),r=o[0];e._window=fe(r)?r:H(r),e.options=X({checkInput:!1,container:r&&!("document"in r)?H(r):r,preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},t);var s=e.options,u=s.container,c=s.events,h=s.checkWindowBlur;if(e._useDrag=c.indexOf("drag")>-1,e._useTouch=c.indexOf("touch")>-1,e._useMouse=c.indexOf("mouse")>-1,e.targets=o,e._useDrag&&o.forEach(function(l){b(l,"dragstart",e.onDragStart)}),e._useMouse&&(o.forEach(function(l){b(l,"mousedown",e.onDragStart),b(l,"mousemove",e._passCallback)}),b(u,"contextmenu",e._onContextMenu)),h&&b(H(),"blur",e.onBlur),e._useTouch){var f={passive:!1};o.forEach(function(l){b(l,"touchstart",e.onDragStart,f),b(l,"touchmove",e._passCallback,f)})}return e}return i.prototype.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._isIdle=!0,this._allowClickEvent(),this._dettachDragEvent(),this._isDragAPI=!1},i.prototype.getMovement=function(n){return this.getCurrentStore().getMovement(n)+this.clientStores.slice(1).reduce(function(t,e){return t+e.movement},0)},i.prototype.isDragging=function(){return this.isDrag},i.prototype.isIdle=function(){return this._isIdle},i.prototype.isFlag=function(){return this.flag},i.prototype.isPinchFlag=function(){return this.pinchFlag},i.prototype.isDoubleFlag=function(){return this.doubleFlag},i.prototype.isPinching=function(){return this.isPinch},i.prototype.scrollBy=function(n,t,e,o){o===void 0&&(o=!0),this.flag&&(this.clientStores[0].move(n,t),o&&this.onDrag(e,!0))},i.prototype.move=function(n,t){var e=n[0],o=n[1],r=this.getCurrentStore(),s=r.prevClients;return this.moveClients(s.map(function(u){var c=u.clientX,h=u.clientY;return{clientX:c+e,clientY:h+o,originalClientX:c,originalClientY:h}}),t,!0)},i.prototype.triggerDragStart=function(n){this.onDragStart(n,!1)},i.prototype.setEventData=function(n){var t=this.data;for(var e in n)t[e]=n[e];return this},i.prototype.setEventDatas=function(n){return this.setEventData(n)},i.prototype.getCurrentEvent=function(n){return n===void 0&&(n=this._prevInputEvent),X(X({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:n})},i.prototype.getEventData=function(){return this.data},i.prototype.getEventDatas=function(){return this.data},i.prototype.unset=function(){var n=this,t=this.targets,e=this.options.container;this.off(),z(this._window,"blur",this.onBlur),this._useDrag&&t.forEach(function(o){z(o,"dragstart",n.onDragStart)}),this._useMouse&&(t.forEach(function(o){z(o,"mousedown",n.onDragStart)}),z(e,"contextmenu",this._onContextMenu)),this._useTouch&&(t.forEach(function(o){z(o,"touchstart",n.onDragStart)}),z(e,"touchstart",this.onDragStart)),this._prevInputEvent=null,this._allowClickEvent(),this._dettachDragEvent()},i.prototype.onPinchStart=function(n){var t=this,e=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>e)){var o=new rt(G(n));this.pinchFlag=!0,this._addStore(o);var r=this.emit("pinchStart",X(X({data:this.data,datas:this.data,angle:o.getAngle(),touches:this.getCurrentStore().getPositions()},o.getPosition()),{inputEvent:n,isTrusted:this._isTrusted,preventDefault:function(){n.preventDefault()},preventDrag:function(){t._dragFlag=!1}}));r===!1&&(this.pinchFlag=!1)}},i.prototype.onPinch=function(n,t){if(!(!this.flag||!this.pinchFlag||t.length<2)){var e=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",X(X({data:this.data,datas:this.data,movement:this.getMovement(t),angle:e.getAngle(t),rotation:e.getRotation(t),touches:e.getPositions(t),scale:e.getScale(t),distance:e.getDistance(t)},e.getPosition(t)),{inputEvent:n,isTrusted:this._isTrusted}))}},i.prototype.onPinchEnd=function(n){if(this.pinchFlag){var t=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var e=this.getCurrentStore();this.emit("pinchEnd",X(X({data:this.data,datas:this.data,isPinch:t,touches:e.getPositions()},e.getPosition()),{inputEvent:n}))}},i.prototype.getCurrentStore=function(){return this.clientStores[0]},i.prototype.moveClients=function(n,t,e){var o=this._getPosition(n,e),r=this.isDrag;(o.deltaX||o.deltaY)&&(this.isDrag=!0);var s=!1;return!r&&this.isDrag&&(s=!0),X(X({data:this.data,datas:this.data},o),{movement:this.getMovement(n),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:t,isTrusted:this._isTrusted,isFirstDrag:s})},i.prototype._addStore=function(n){this.clientStores.splice(0,0,n)},i.prototype._getPosition=function(n,t){var e=this.getCurrentStore(),o=e.getPosition(n,t),r=this.clientStores.slice(1).reduce(function(c,h){var f=h.getPosition();return c.distX+=f.distX,c.distY+=f.distY,c},o),s=r.distX,u=r.distY;return X(X({},o),{distX:s,distY:u})},i.prototype._attchDragEvent=function(){var n=this._window,t=this.options.container,e={passive:!1};this._isDragAPI&&(b(t,"dragover",this.onDrag,e),b(n,"dragend",this.onDragEnd)),this._useMouse&&(b(t,"mousemove",this.onDrag),b(n,"mouseup",this.onDragEnd)),this._useTouch&&(b(t,"touchmove",this.onDrag,e),b(n,"touchend",this.onDragEnd,e),b(n,"touchcancel",this.onDragEnd,e))},i.prototype._dettachDragEvent=function(){var n=this._window,t=this.options.container;this._isDragAPI&&(z(t,"dragover",this.onDrag),z(n,"dragend",this.onDragEnd)),this._useMouse&&(z(t,"mousemove",this.onDrag),z(n,"mouseup",this.onDragEnd)),this._useTouch&&(z(t,"touchstart",this.onDragStart),z(t,"touchmove",this.onDrag),z(n,"touchend",this.onDragEnd),z(n,"touchcancel",this.onDragEnd))},i.prototype._allowMouseEvent=function(){this._preventMouseEvent=!1,clearTimeout(this._preventMouseEventId)},i}(ht);function Se(a,i){return i.replace(/([^}{]*){/gm,function(n,t){return t.replace(/\.([^{,\s\d.]+)/g,"."+a+"$1")+"{"})}function we(a,i){return function(n){var t=n.prototype;a.forEach(function(e){i(t,e)})}}function Ee(a){for(var i=5381,n=a.length;n;)i=i*33^a.charCodeAt(--n);return i>>>0}var ze=Ee;function ye(a){return ze(a).toString(36)}function be(a){if(a&&a.getRootNode){var i=a.getRootNode();if(i.nodeType===11)return i}}function Ce(a,i,n){return n.original?i:i.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(t,e){var o=e.trim();return(o?le(o):[""]).map(function(r){var s=r.trim();return s.indexOf("@")===0?s:s.indexOf(":global")>-1?s.replace(/\:global/g,""):s.indexOf(":host")>-1?"".concat(s.replace(/\:host/g,".".concat(a))):s?".".concat(a," ").concat(s):".".concat(a)}).join(", ")+" {"})}function Ye(a,i,n,t,e){var o=ut(t),r=o.createElement("style");return r.setAttribute("type","text/css"),r.setAttribute("data-styled-id",a),r.setAttribute("data-styled-count","1"),n.nonce&&r.setAttribute("nonce",n.nonce),r.innerHTML=Ce(a,i,n),(e||o.head||o.body).appendChild(r),r}function De(a){var i="rCS"+ye(a);return{className:i,inject:function(n,t){t===void 0&&(t={});var e=be(n),o=(e||n.ownerDocument||document).querySelector('style[data-styled-id="'.concat(i,'"]'));if(!o)o=Ye(i,a,t,n,e);else{var r=parseFloat(o.getAttribute("data-styled-count"))||0;o.setAttribute("data-styled-count","".concat(r+1))}return{destroy:function(){var s,u=parseFloat(o.getAttribute("data-styled-count"))||0;u<=1?(o.remove?o.remove():(s=o.parentNode)===null||s===void 0||s.removeChild(o),o=null):o.setAttribute("data-styled-count","".concat(u-1))}}}}}function ft(a,i){for(var n=a.length,t=0;t<n;++t)if(i(a[t],t))return!0;return!1}function It(a,i){for(var n=a.length,t=0;t<n;++t)if(i(a[t],t))return a[t];return null}function kt(a){var i=a;if(typeof i>"u"){if(typeof navigator>"u"||!navigator)return"";i=navigator.userAgent||""}return i.toLowerCase()}function vt(a,i){try{return new RegExp(a,"g").exec(i)}catch{return null}}function Xe(){if(typeof navigator>"u"||!navigator||!navigator.userAgentData)return!1;var a=navigator.userAgentData,i=a.brands||a.uaList;return!!(i&&i.length)}function Te(a,i){var n=vt("("+a+")((?:\\/|\\s|:)([0-9|\\.|_]+))",i);return n?n[3]:""}function at(a){return a.replace(/_/g,".")}function j(a,i){var n=null,t="-1";return ft(a,function(e){var o=vt("("+e.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",i);return!o||e.brand?!1:(n=e,t=o[3]||"-1",e.versionAlias?t=e.versionAlias:e.versionTest&&(t=Te(e.versionTest.toLowerCase(),i)||t),t=at(t),!0)}),{preset:n,version:t}}function $(a,i){var n={brand:"",version:"-1"};return ft(a,function(t){var e=Ht(i,t);return e?(n.brand=t.id,n.version=t.versionAlias||e.version,n.version!=="-1"):!1}),n}function Ht(a,i){return It(a,function(n){var t=n.brand;return vt(""+i.test,t.toLowerCase())})}var Ft=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],Vt=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],st=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],jt=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],Zt=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function Nt(a){return!!j(jt,a).preset}function xe(a){var i=kt(a),n=!!/mobi/g.exec(i),t={name:"unknown",version:"-1",majorVersion:-1,webview:Nt(i),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},e={name:"unknown",version:"-1",majorVersion:-1},o=j(Ft,i),r=o.preset,s=o.version,u=j(Zt,i),c=u.preset,h=u.version,f=j(Vt,i);if(t.chromium=!!f.preset,t.chromiumVersion=f.version,!t.chromium){var l=j(st,i);t.webkit=!!l.preset,t.webkitVersion=l.version}return c&&(e.name=c.id,e.version=h,e.majorVersion=parseInt(h,10)),r&&(t.name=r.id,t.version=s,t.webview&&e.name==="ios"&&t.name!=="safari"&&(t.webview=!1)),t.majorVersion=parseInt(t.version,10),{browser:t,os:e,isMobile:n,isHints:!1}}function Ae(a){var i=navigator.userAgentData,n=(i.uaList||i.brands).slice(),t=i.mobile||!1,e=n[0],o=(i.platform||navigator.platform).toLowerCase(),r={name:e.brand,version:e.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!$(jt,n).brand||Nt(kt())},s={name:"unknown",version:"-1",majorVersion:-1};r.webkit=!r.chromium&&ft(st,function(l){return Ht(n,l)});var u=$(Vt,n);if(r.chromium=!!u.brand,r.chromiumVersion=u.version||"-1",!r.chromium){var c=$(st,n);r.webkit=!!c.brand,r.webkitVersion=c.version||"-1"}var h=It(Zt,function(l){return new RegExp(""+l.test,"g").exec(o)});s.name=h?h.id:"";{var f=$(Ft,n);r.name=f.brand||r.name,r.version=f.brand&&a?a.uaFullVersion:f.version}return r.webkit&&(s.name=t?"ios":"mac"),s.name==="ios"&&r.webview&&(r.version="-1"),s.version=at(s.version),r.version=at(r.version),s.majorVersion=parseInt(s.version,10),r.majorVersion=parseInt(r.version,10),{browser:r,os:s,isMobile:t,isHints:!0}}function Me(a){return Xe()?Ae():xe(a)}var lt=function(a,i){return lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])},lt(a,i)};function gt(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");lt(a,i);function n(){this.constructor=a}a.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}var M=function(){return M=Object.assign||function(i){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])}return i},M.apply(this,arguments)};function Oe(a,i,n,t){var e=arguments.length,o=e<3?i:t===null?t=Object.getOwnPropertyDescriptor(i,n):t,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(a,i,n,t);else for(var s=a.length-1;s>=0;s--)(r=a[s])&&(o=(e<3?r(o):e>3?r(i,n,o):r(i,n))||o);return e>3&&o&&Object.defineProperty(i,n,o),o}function zt(a,i,n){if(n||arguments.length===2)for(var t=0,e=i.length,o;t<e;t++)(o||!(t in i))&&(o||(o=Array.prototype.slice.call(i,0,t)),o[t]=i[t]);return a.concat(o||Array.prototype.slice.call(i))}var Re=Me(),Pe=Re.browser.name==="safari",I="infinite-viewer-",yt="".concat(I,"wrapper"),bt="".concat(I,"scroll-area"),We="".concat(I,"scroll-bar"),qt="".concat(I,"horizontal-scroll-bar"),Ut="".concat(I,"vertical-scroll-bar"),Ct="".concat(I,"scroll-thumb"),Gt=De(Se(I,`
{
    position: relative;
    overscroll-behavior: none;
}
.wrapper {
    position: absolute;
    width: 100%;
    height: 100%;
    overflow: auto;
    scrollbar-width: none;
    top: 0;
    left: 0;
    will-change: scroll-position;
}
.restrict-wrapper {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
}
.wrapper::-webkit-scrollbar {
    display: none;
}
.scroll-area {
    position:absolute;
    top:0;
    left:0;
    transform-origin: 0 0;
}
.scroll-bar {
    position:absolute;
    width: 10px;
    height: 10px;
    box-sizing: border-box;
    right: 0;
    bottom: 0;
    overflow: hidden;
}
.horizontal-scroll-bar {
    width: calc(100% - 20px);
    right: 10px;
    height: 14px;
}
.vertical-scroll-bar {
    height: calc(100% - 20px);
    bottom: 10px;
    width: 14px;
}
.scroll-thumb {
    position:relative;
    opacity: 0.7;
    background: #333;
    border-radius: 3px;
    left: 0px;
    top: 0px;
    z-index: 10;
    width: 6px;
    height: 6px;
    transition: all ease 0.2s;
    opacity: 0;
}
.scroll-bar:hover .scroll-thumb {
    border-radius: 5px;
    opacity: 1;
}
.horizontal-scroll-bar .scroll-thumb {
    margin: 4px 0px;
    transition-property: opacity, margin, height, border-radius;
}
.vertical-scroll-bar .scroll-thumb {
    margin: 0px 4px;
    transition-property: opacity, margin, width, border-radius;
}
.horizontal-scroll-bar:hover .scroll-thumb {
    height: 10px;
    margin: 2px 0px;
}
.vertical-scroll-bar:hover .scroll-thumb {
    width: 10px;
    margin: 0px 2px;
}
`)),A={margin:500,threshold:100,zoom:1,zoomX:1,zoomY:1,rangeX:[-1/0,1/0],rangeY:[-1/0,1/0],rangeOffsetX:[0,0],rangeOffsetY:[0,0],wrapperElement:null,scrollAreaElement:null,horizontalScrollElement:null,verticalScrollElement:null,usePinch:!1,useAutoZoom:!1,useMouseDrag:!1,pinchThreshold:30,cspNonce:"",maxPinchWheel:1/0,wheelScale:.01,displayHorizontalScroll:!0,displayVerticalScroll:!0,useTransform:!0,useWheelPinch:!0,zoomRange:[.001,1/0],wheelPinchKey:"ctrl",useWheelScroll:Pe,zoomOffsetX:"50%",zoomOffsetY:"50%",translateZ:0,useGesture:!0,useResizeObserver:!1,pinchDirection:"all",preventWheelClick:!0,useBounceScrollBar:!1,useOverflowScroll:!1},Yt=function(a){return 1-Math.pow(1-a,3)},Dt={horizontal:{pos:"Left",coord:"X",size:"Width"},vertical:{pos:"Top",coord:"Y",size:"Height"}},Le=Gt.className,dt=["margin","threshold","zoomOffsetX","zoomOffsetY","zoom","zoomX","zoomY","rangeX","rangeY","rangeOffsetX","rangeOffsetY","usePinch","useMouseDrag","pinchThreshold","maxPinchWheel","wheelScale","displayVerticalScroll","displayHorizontalScroll","translateZ","useAutoZoom","wheelPinchKey","zoomRange","zoomRangeX","zoomRangeY","pinchDirection","useOverflowScroll"],Xt=zt(zt([],dt,!0),["preventWheelClick","useWheelPinch","useWheelScroll","useGesture","cspNonce","wrapperElement","scrollAreaElement","verticalScrollElement","horizontalScrollElement","useResizeObserver","wheelContainer","useBounceScrollBar"],!1),Be=["scroll","abortPinch","dragStart","dragEnd","pinchStart","pinch"],Ie=["getScrollLeft","getScrollTop","getScrollWidth","getScrollHeight","getContainerWidth","getContainerHeight","getViewportWidth","getViewportHeight","getViewportScrollWidth","getViewportScrollHeight","scrollTo","scrollBy","zoomBy","scrollCenter","getContainer","getViewport","getWrapper","setZoom","getRangeX","getRangeY","resize","getZoom","getZoomX","getZoomY","getWheelContainer","setTo","setBy"],ke=1e-6;function He(a){var i=a.deltaX,n=a.deltaY,t=a.datas,e=Date.now(),o=t.speed;if(!o){t.speed=[0,0],t.time=e;return}var r=e-t.time;t.speed=[o[0]/2+i/r,o[1]/2+n/r]}function $t(a,i){var n=Math.sqrt(a[0]*a[0]+a[1]*a[1]);return Math.abs(n/i)}function Fe(a,i){var n=$t(a,i);return[-a[0]/2*n,-a[1]/2*n]}function W(a){return Math.abs(a)}function Ve(a,i,n,t,e){var o=e||isFinite(n[0])?n[0]:Math.min(-1,Math.floor(a/i))*i-t,r=e||isFinite(n[1])?n[1]:Math.max(1,Math.ceil(a/i))*i+t;return[o,r]}function Tt(a,i){return a??i}function xt(a,i,n){var t=n.duration,e=n.easing||function(u){return 1-Math.pow(1-u,3)},o=Date.now(),r=o,s=function(){var u=Date.now(),c=u-o;t<c&&(c=t);var h=e(c/t),f=e((r-o)/t);r=u,a(h-f),!(c>=t)&&i(s)};i(s)}var At=function(a){gt(i,a);function i(t,e,o){var r=a.call(this)||this;r.type=e,r.isAppend=!1,r.size=0,r.scrollSize=0,r.isHorizontal=!1,r._onDragStart=function(f){var l=r.isHorizontal,g=f.inputEvent.target,p=f.datas,m=r.thumbElement===g;m||setTimeout(function(){requestAnimationFrame(function(){var v=r.thumbElement.getBoundingClientRect(),_=v[l?"left":"top"],d=v[l?"width":"height"],S=_+d,w=f[l?"clientX":"clientY"];if(!(_<=w&&w<=S)){var y=r.size,C=y*y/r.scrollSize;r.scrollBy(_<w?C:-C)}})},100),p.isThumb=m,f.inputEvent.stopPropagation(),f.inputEvent.preventDefault()},r._onDrag=function(f){f.datas.isThumb&&r.scrollBy(r.isHorizontal?f.deltaX:f.deltaY)},r._onWheel=function(f){var l=r.isHorizontal?f.deltaX:f.deltaY;l&&f.preventDefault(),r.trigger("scroll",{delta:l})};var s=e==="horizontal",u=ut(t),c,h=o;return o?c=o.querySelector(".".concat(Ct)):(h=u.createElement("div"),c=u.createElement("div"),h.insertBefore(c,null),r.isAppend=!0),k(h,s?qt:Ut),k(h,We),k(c,Ct),r.thumbElement=c,r.barElement=h,r.isHorizontal=s,r.gesto=new Bt(h,{container:H(u)}).on("dragStart",function(f){return r._onDragStart(f)}).on("drag",function(f){return r._onDrag(f)}),b(r.barElement,"wheel",r._onWheel,{passive:!1}),r}var n=i.prototype;return n.scrollBy=function(t,e){var o=t/this.size;this.trigger("scroll",{delta:e?t:this.scrollSize*o})},n.render=function(t,e,o,r){this.size=o,this.scrollSize=r;var s=t&&he(r-o,.001)>0?1:0,u=this.isHorizontal?["X","width"]:["Y","height"],c=u[0],h=u[1],f=o/r*100,l=Math.max(0,e)/r*100;this.thumbElement.style.cssText+="".concat(h,": ").concat(f,"%;opacity: ").concat(s,";")+"transform: translate".concat(c,"(").concat(100/f*l,"%)")},n.destroy=function(){z(this.barElement,"wheel",this._onWheel),this.gesto.off(),this.off()},i}(ht),je=function(a){gt(i,a);function i(t,e,o){e===void 0&&(e={}),o===void 0&&(o={});var r=a.call(this)||this;return r._containerElement=t,r.offsetX=0,r.offsetY=0,r.containerWidth=0,r.containerHeight=0,r.viewportWidth=0,r.viewportHeight=0,r.viewportScrollWidth=0,r.viewportScrollHeight=0,r.scrollLeft=0,r.scrollTop=0,r._scrollTimer=0,r._zoomTimer=0,r._viewportElement=null,r._wheelContainerElement=null,r.dragFlag=!1,r.isLoop=!1,r._tempScale=[1,1],r._tempRect=null,r._tempRectTimer=null,r._onDestroys=[],r._asLeft=0,r._asTop=0,r.resize=function(){var s=r._containerElement,u=s.offsetWidth,c=s.offsetHeight,h=r._viewportElement,f=h.offsetWidth,l=h.offsetHeight,g=h.scrollWidth,p=h.scrollHeight;r.containerWidth=u,r.containerHeight=c,r.viewportWidth=f,r.viewportHeight=l,r.viewportScrollWidth=Math.max(f,g),r.viewportScrollHeight=Math.max(l,p),r.render(),r._scrollBy(0,0)},r._onScroll=function(){var s=r.wrapperElement,u=s.scrollLeft,c=s.scrollTop,h=r.zoom,f=h===void 0?A.zoom:h,l=u-r.scrollLeft,g=c-r.scrollTop,p=r.getScrollLeft(),m=r.getScrollTop();r.isLoop&&(r.isLoop=!1),r.scrollLeft=u,r.scrollTop=c,r.scrollTo(p+l/f,m+g/f)},r.onWheel=function(s){var u=r.options,c=u.pinchDirection,h=u.maxPinchWheel||1/0,f=s["".concat(r.wheelPinchKey,"Key")]||s.ctrlKey;if(u.useWheelPinch&&f){var l=s.deltaY,g=l>=0?1:-1,p=Math.min(h,Math.abs(l));l=g*p;var m=-l,v=Math.max(1+m*(u.wheelScale||.01),ke);clearTimeout(r._tempRectTimer),r._tempRectTimer=window.setTimeout(function(){r._tempRect=null},100),r._triggerPinch({distance:p,scale:v,rotation:0,zoom:r.zoom*v,zoomX:r.zoomX*(c==="vertical"?1:v),zoomY:r.zoomY*(c==="horizontal"?1:v),inputEvent:s,isWheel:!0,clientX:s.clientX,clientY:s.clientY,ratioX:0,ratioY:0})}else if(u.useWheelScroll){var _=s.deltaX,l=s.deltaY;s.shiftKey&&!_&&(_=l,l=0),r.scrollBy(_/r.zoomX,l/r.zoomY)}else return;s.preventDefault()},r.onGestureStart=function(s){r._tempScale=[r.zoomX,r.zoomY],r._setClientRect(),s.preventDefault()},r.onGestureChange=function(s){if(s.preventDefault(),r.gesto.isFlag()||!r._tempScale){r._tempScale=[1,1];return}var u=s.scale,c=r._tempScale[0],h=r._tempScale[1],f=r.options.pinchDirection;r._triggerPinch({distance:0,scale:u,rotation:s.rotation,inputEvent:s,isWheel:!0,zoom:(c+h)*u/2,zoomX:c*(f==="vertical"?1:u),zoomY:h*(f==="horizontal"?1:u),clientX:s.clientX,clientY:s.clientY,ratioX:0,ratioY:0})},r.onGestureEnd=function(){},St(e)?(r._viewportElement=e,r.options=M(M({},A),o)):(r._viewportElement=t.children[0],r.options=M(M({},A),e)),r.init(),r}var n=i.prototype;return n.getContainer=function(){return this._containerElement},n.getWheelContainer=function(){return this._wheelContainerElement},n.getViewport=function(){return this._viewportElement},n.getWrapper=function(){return this.wrapperElement},n.geScrollArea=function(){return this.scrollAreaElement},n.destroy=function(){this.off(),this.gesto.unset(),this.verticalScrollbar.destroy(),this.horizontalScrollbar.destroy(),this.injectResult.destroy();var t=this._containerElement;this._onDestroys.forEach(function(e){e()}),z(this.wrapperElement,"scroll",this._onScroll),z(this._wheelContainerElement,"wheel",this.onWheel),z(t,"gesturestart",this.onGestureStart),z(t,"gesturechange",this.onGestureChange),z(t,"gesturesend",this.onGestureEnd),this.gesto=null,this.injectResult=null,this._containerElement=null,this._viewportElement=null,this.options=null},n.getScrollTop=function(t){t===void 0&&(t={});var e=!1,o=!1;F(t)?(e=t.range,o=t.absolute):e=t;var r=this.zoomY,s=this.scrollTop/r+this.offsetY+(e?W(this.getRangeY()[0]):0);return o?s*r:s},n.getScrollLeft=function(t){t===void 0&&(t={});var e=!1,o=!1;F(t)?(e=t.range,o=t.absolute):e=t;var r=this.zoomX,s=this.scrollLeft/r+this.offsetX+(e?W(this.getRangeX()[0]):0);return o?s*r:s},n.getScrollWidth=function(t){var e=this._getScrollRangeX(),o=this.zoomX,r=this.containerWidth/o+W(e[0])+e[1];return t?r:r*o},n.getScrollHeight=function(t){var e=this._getScrollRangeY(),o=this.zoomY,r=this.containerHeight/o+W(e[0])+e[1];return t?r:r*o},n.scrollCenter=function(t){t===void 0&&(t={}),this.resize();var e=this.zoomX,o=this.zoomY,r=-(this.containerWidth/e-this.viewportWidth)/2,s=-(this.containerHeight/o-this.viewportHeight)/2;return t.absolute&&(r*=e,s*=o),t.horizontal===!1&&(r=this.getScrollLeft()),t.vertical===!1&&(s=this.getScrollTop()),this.scrollTo(r,s,t)},n.setTo=function(t){var e=t.x,o=e===void 0?this.getScrollLeft():e,r=t.y,s=r===void 0?this.getScrollTop():r,u=t.zoom,c=u===void 0?[this.getZoomX(),this.getZoomY()]:u,h=t.duration,f=this,l=f.zoomX,g=f.zoomY,p=f.zoomRange,m=this,v=m.zoomOffsetX,_=v===void 0?A.zoomOffsetX:v,d=m.zoomOffsetY,S=d===void 0?A.zoomOffsetY:d;"zoomOffsetX"in t&&(_=t.zoomOffsetX),"zoomOffsetY"in t&&(S=t.zoomOffsetY);var w=V(c)?c:[c,c],y=w[0],C=w[1],E=this.zoomRangeX||p,Y=this.zoomRangeY||p,D=B(y,E[0],E[1]),O=B(C,Y[0],Y[1]),R=L("".concat(_),this.viewportWidth)*(1/l-1/D),x=L("".concat(S),this.viewportHeight)*(1/g-1/O);this.scrollTo(o-R,s-x,{duration:h}),this.setZoom(c,{zoomOffsetX:_,zoomOffsetY:S,duration:h,zoomBase:"fixed"})},n.setBy=function(t){var e=t.x,o=e===void 0?0:e,r=t.y,s=r===void 0?0:r,u=t.zoom,c=u===void 0?[0,0]:u,h=V(c)?c:[c,c],f=h[0],l=h[1];this.setTo(M(M({},t),{x:this.getScrollLeft()+o,y:this.getScrollTop()+s,zoom:[this.zoomX+f,this.zoomY+l]}))},n.scrollBy=function(t,e,o){if(this._pauseScrollAnimation(),!o||!o.duration){var r=this.getScrollLeft(),s=this.getScrollTop();return o!=null&&o.absolute&&(r*=this.zoomX,s*=this.zoomY),this._scrollTo(r+t,s+e,o)}else return this._startScrollAnimation([t,e],o),!0},n.scrollTo=function(t,e,o){if(this._pauseScrollAnimation(),!o||!o.duration)return this._scrollTo(t,e,o);var r=this.getScrollLeft(),s=this.getScrollTop();return o!=null&&o.absolute&&(r*=this.zoomX,s*=this.zoomY),this.scrollBy(t-r,e-s,o)},n.zoomBy=function(t,e){this._pauseZoomAnimation();var o=V(t)?t:[t,t],r=o[0],s=o[1];!e||!e.duration?this._setZoom([this.zoomX+r,this.zoomY+s],e):this._startZoomAnimation([r,s],e)},n.setZoom=function(t,e){if(this._pauseZoomAnimation(),!e||!e.duration)this._setZoom(t,e);else{var o=V(t)?t:[t,t],r=o[0],s=o[1];this._startZoomAnimation([r-this.zoomX,s-this.zoomY],e)}},n.getViewportWidth=function(){return this.viewportWidth},n.getViewportHeight=function(){return this.viewportWidth},n.getViewportScrollWidth=function(){return this.viewportScrollWidth},n.getViewportScrollHeight=function(){return this.viewportScrollHeight},n.getContainerWidth=function(){return this.containerWidth},n.getContainerHeight=function(){return this.containerHeight},n.getZoom=function(){return(this.zoomX+this.zoomY)/2},n.getZoomX=function(){return this.zoomX},n.getZoomY=function(){return this.zoomY},n.getRangeX=function(t,e){return this._getRangeCoord("horizontal",t,e)},n.getRangeY=function(t,e){return this._getRangeCoord("vertical",t,e)},n.init=function(){var t=this,e,o=this._containerElement,r=this.options,s=ut(o),u=H(o),c=r.wrapperElement||o.querySelector(".".concat(yt)),h=r.scrollAreaElement||o.querySelector(".".concat(bt)),f=r.horizontalScrollElement||o.querySelector(".".concat(qt)),l=r.verticalScrollElement||o.querySelector(".".concat(Ut));c||(c=s.createElement("div"),c.insertBefore(this._viewportElement,null),o.insertBefore(c,null)),this.wrapperElement=c,h||(h=s.createElement("div"),c.insertBefore(h,c.firstChild)),this.scrollAreaElement=h,k(o,Le),k(c,yt),k(h,bt);var g=new At(o,"horizontal",f),p=new At(o,"vertical",l);this.horizontalScrollbar=g,this.verticalScrollbar=p,g.on("scroll",function(d){t.scrollBy(d.delta/t.zoomX,0)}),p.on("scroll",function(d){t.scrollBy(0,d.delta/t.zoomY)}),g.isAppend&&o.insertBefore(g.barElement,null),p.isAppend&&o.insertBefore(p.barElement,null),this.injectResult=Gt.inject(o,{nonce:this.options.cspNonce});var m=r.wheelContainer,v=null;if(m&&(Ot(m)?v=s.querySelector(m):St(m)?v=m:("value"in m||"current"in m)&&(v=m.current||m.value)),v||(v=o),this._wheelContainerElement=v,this.gesto=new Bt(o,{container:H(o),events:["touch","mouse"],preventWheelClick:(e=this.options.preventWheelClick)!==null&&e!==void 0?e:!0}).on("dragStart",function(d){var S=d.inputEvent,w=d.stop,y=d.datas;if(!t.useMouseDrag&&d.isMouseEvent){w();return}t._pauseScrollAnimation(),t.dragFlag=!1;var C=t.trigger("dragStart",d);if(C===!1){w();return}S.preventDefault(),y.startEvent=S}).on("drag",function(d){!t.options.usePinch||d.isPinch||t.useMouseDrag&&d.isMouseEvent?(t.trigger("drag",M(M({},d),{inputEvent:d.inputEvent})),He(d),t.scrollBy(-d.deltaX/t.zoomX,-d.deltaY/t.zoomY)):!t.dragFlag&&d.movement>r.pinchThreshold&&(t.dragFlag=!0,t.trigger("abortPinch",{inputEvent:d.datas.startEvent||d.inputEvent}))}).on("dragEnd",function(d){t.trigger("dragEnd",{isDrag:d.isDrag,isDouble:d.isDouble,inputEvent:d.inputEvent}),t._startScrollAnimationBySpeed(d.datas.speed)}).on("pinchStart",function(d){var S=d.inputEvent,w=d.datas,y=d.stop;S.preventDefault(),t._pauseScrollAnimation(),w.startZoom=[t.zoomX,t.zoomY];var C=t.trigger("pinchStart",{inputEvent:S});C===!1&&y(),t._setClientRect()}).on("pinch",function(d){var S=d.scale,w=t.options.pinchDirection;t._triggerPinch({rotation:d.rotation,distance:d.distance,scale:d.scale,inputEvent:d.inputEvent,isWheel:!1,zoom:d.datas.startZoom*S,zoomX:t.zoomX*(w==="vertical"?1:S),zoomY:t.zoomY*(w==="horizontal"?1:S),clientX:d.clientX,clientY:d.clientY,ratioX:0,ratioY:0})}).on("pinchEnd",function(){t._tempRect=null}),b(c,"scroll",this._onScroll),r.useResizeObserver){var _=new u.ResizeObserver(function(){t.resize()});_.observe(this._viewportElement),_.observe(this._containerElement),this._onDestroys.push(function(){_.disconnect()})}else b(u,"resize",this.resize),this._onDestroys.push(function(){z(u,"resize",t.resize)});(r.useWheelPinch||r.useWheelScroll)&&b(v,"wheel",this.onWheel,{passive:!1}),r.useGesture&&(b(o,"gesturestart",this.onGestureStart,{passive:!1}),b(o,"gesturechange",this.onGestureChange,{passive:!1})),this.resize()},n.render=function(){var t=this,e=t.offsetX,o=t.offsetY,r=t.zoomX,s=r===void 0?A.zoomX:r,u=t.zoomY,c=u===void 0?A.zoomY:u,h=t.translateZ,f=h===void 0?0:h;t.rangeX,t.rangeY,t.containerWidth,t.containerHeight;var l=this.options.useTransform,g=l===void 0?A.useTransform:l,p=-e*s,m=-o*c;this.scrollAreaElement.style.cssText="width:calc(100% + ".concat(this.getScrollAreaWidth(),"px);")+"height:calc(100% + ".concat(this.getScrollAreaHeight(),"px);");var v=this._viewportElement.style;g===!1?v.cssText+="position: relative; left: ".concat(p,"px; top: ").concat(m,"px; "):v.cssText+="transform-origin: 0 0;"+"transform:translate3d(".concat(p,"px, ").concat(m,"px, ").concat(f,"px) scale(").concat(s,", ").concat(c,");"),this.renderScroll()},n.renderScroll=function(){var t=this,e=t.zoomX,o=t.zoomY,r=t.containerWidth,s=t.containerHeight,u=this.horizontalScrollbar,c=this.verticalScrollbar;if(this.options.useBounceScrollBar){var h=this.getScrollLeft(!0)*e,f=this.getRangeX(!0),l=r+W(f[0])+W(f[1]),g=this.getScrollTop(!0)*o,p=this.getRangeY(!0),m=s+W(p[0])+W(p[1]);u.render(this.displayHorizontalScroll,h,r,l),c.render(this.displayVerticalScroll,g,s,m)}else{var v=this._getScrollRangeX(),_=this._getScrollRangeY(),h=this.getScrollLeft(),g=this.getScrollTop(),l=this.containerWidth+W(v[0])+v[1],m=this.containerHeight+W(_[0])+_[1];u.render(this.displayHorizontalScroll,h-v[0],r,l),c.render(this.displayVerticalScroll,g-_[0],s,m)}},n.move=function(t,e){var o=this.wrapperElement;o.scrollLeft=t,o.scrollTop=e},n.setDisplayVerticalScroll=function(t){this.options.displayVerticalScroll=t,this.renderScroll()},n.setDisplayHorizontalScroll=function(t){this.options.displayHorizontalScroll=t,this.renderScroll()},n._startZoomAnimation=function(t,e){var o=this;if(t){var r=e.duration,s=e.easing||Yt;xt(function(u){return o._setZoom([o.zoomX+t[0]*u,o.zoomY+t[1]*u],e)},function(u){o._zoomTimer=requestAnimationFrame(u)},{easing:s,duration:r})}},n._startScrollAnimation=function(t,e){var o=this;if(!(!t[0]&&!t[1])){var r=e.duration,s=e.easing||Yt;xt(function(u){return o._scrollBy(t[0]*u,t[1]*u,e)},function(u){o._scrollTimer=requestAnimationFrame(u)},{easing:s,duration:r})}},n._startScrollAnimationBySpeed=function(t){if(!(!t||!t[0]&&!t[1])){var e=-6e-4,o=$t(t,e),r=Fe(t,e);return this._startScrollAnimation(r,{duration:o})}},n._pauseScrollAnimation=function(){cancelAnimationFrame(this._scrollTimer),this._scrollTimer=0},n._pauseZoomAnimation=function(){cancelAnimationFrame(this._zoomTimer),this._zoomTimer=0},n.getScrollAreaWidth=function(){var t=this.getRangeX(!0),e=t[0],o=t[1];return e||o?this.margin*2:0},n.getScrollAreaHeight=function(){var t=this.getRangeY(!0),e=t[0],o=t[1];return e||o?this.margin*2:0},n._triggerPinch=function(t){var e=t.clientX,o=t.clientY,r=t.zoomX,s=t.zoomY;this.useAutoZoom&&this._zoomByClient([r,s],e,o),this._tempRect||this._setClientRect();var u=this.zoomRange,c=this.zoomRangeX||u,h=this.zoomRangeY||u,f=this._tempRect,l=f.left,g=f.top,p=f.width,m=f.height,v=(e-l)/p*100,_=(o-g)/m*100;this.trigger("pinch",M(M({},t),{zoom:B((r+s)/2,u[0],u[1]),zoomX:B(r,c[0],c[1]),zoomY:B(s,h[0],h[1]),ratioX:v,ratioY:_}))},n._setClientRect=function(){var t=this.getContainer().getBoundingClientRect();this._tempRect={left:t.left,top:t.top,width:t.width,height:t.height}},n._zoomByClient=function(t,e,o){this._tempRect||this._setClientRect();var r=this._tempRect,s=r.left,u=r.top,c=r.width,h=r.height,f=this.options,l=f.zoomOffsetX,g=f.zoomOffsetY;f.zoomOffsetX="".concat((e-s)/c*100,"%"),f.zoomOffsetY="".concat((o-u)/h*100,"%"),this._setZoom(t,{zoomBase:"screen"}),f.zoomOffsetX=l,f.zoomOffsetY=g},n._setZoom=function(t,e){e===void 0&&(e={});var o=e.zoomBase,r=this,s=r.containerWidth,u=r.containerHeight,c=r.zoomX,h=r.zoomY,f=r.zoomRange,l=this,g=l.zoomOffsetX,p=g===void 0?A.zoomOffsetX:g,m=l.zoomOffsetY,v=m===void 0?A.zoomOffsetY:m;"zoomOffsetX"in e&&(p=e.zoomOffsetX),"zoomOffsetY"in e&&(v=e.zoomOffsetY);var _=this.getScrollLeft(),d=this.getScrollTop(),S=V(t)?t:[t,t],w=S[0],y=S[1],C=this.zoomRangeX||f,E=this.zoomRangeY||f,Y=B(w,C[0],C[1]),D=B(y,E[0],E[1]),O=this.options;O.zoomX=Y,O.zoomY=D,O.zoom=(Y+D)/2;var R=this.getScrollLeft(),x=this.getScrollTop(),T=0,P=0;o==="fixed"?(T=L("".concat(p),this.viewportWidth),P=L("".concat(v),this.viewportHeight)):o==="viewport"?(T=(-_+L("".concat(p),this.viewportWidth))*c,P=(-d+L("".concat(v),this.viewportHeight))*h):(T=L("".concat(p),s),P=L("".concat(v),u));var K=_+T/c,q=d+P/h,J=R+T/Y,Q=x+P/D;this._scrollBy(K-J,q-Q,{zoom:!!(Y-c||D-h)}),this.render()},n._scrollBy=function(t,e,o){var r=this.getScrollLeft(),s=this.getScrollTop();return o!=null&&o.absolute&&(r*=this.zoomX,s*=this.zoomY),this._scrollTo(r+t,s+e,o)},n._scrollTo=function(t,e,o){var r=this,s=this,u=s.scrollLeft,c=s.scrollTop,h=o==null?void 0:o.absolute;this._scrollToType("horizontal",t,h),this._scrollToType("vertical",e,h);var f=this.scrollLeft,l=this.scrollTop;this.render();var g=this.getScrollLeft(),p=this.getScrollTop();return this._emitScrollEvent(g,p,o==null?void 0:o.zoom),Math.round(u)!==f||Math.round(c)!==l?(this.isLoop=!0,this.move(f,l),requestAnimationFrame(function(){if(r.isLoop){r.isLoop=!1;var m=r.wrapperElement,v=m.scrollLeft,_=m.scrollTop;r.scrollLeft=v,r.scrollTop=_,(f!==Math.round(v)||l!==Math.round(_))&&r._scrollTo(g,p)}}),!1):!0},n._scrollToType=function(t,e,o){var r=Dt[t],s=this,u=s.margin,c=u===void 0?A.margin:u,h=s.threshold,f=h===void 0?A.threshold:h,l=this["scroll".concat(r.pos)],g=this["getRange".concat(r.coord)](!0,!0),p=g[0],m=g[1],v=Math.round(l),_=this["getScrollArea".concat(r.size)](),d=this["zoom".concat(r.coord)];o&&(e=e/d);var S=e*d;if(p===m)v=p,e=p/d;else if(S-f<=p){var w=Math.max(0,S-p);v=w,e=(p+w)/d}else if(S+f>=m){var y=Math.max(0,m-S);v=_-y,e=(m-y)/d}else v<f?v+=c:v>_-f&&(v-=c);v=Math.round(v),this["scroll".concat(r.pos)]=v,this["offset".concat(r.coord)]=e-v/d},n._getRangeCoord=function(t,e,o){var r=this,s=r.margin,u=s===void 0?A.margin:s,c=r.threshold,h=Dt[t],f=Tt(this["range".concat(h.coord)],A["range".concat(h.coord)]),l=Tt(this["rangeOffset".concat(h.coord)],A["rangeOffset".concat(h.coord)]),g=this["zoom".concat(h.coord)],p=Ve(this["getScroll".concat(h.pos)](),u,f,c,o);return e?[p[0]*g+l[0],this.options.useOverflowScroll?Math.max(this["viewport".concat(h.size)]*g-this["container".concat(h.size)],p[1]*g+l[1]):p[1]*g+l[1]]:[p[0]+l[0],p[1]+l[1]]},n._emitScrollEvent=function(t,e,o){var r=this._asLeft,s=this._asTop;!o&&r===t&&s===e||(this._asLeft=t,this._asTop=e,this.trigger("scroll",{scrollLeft:t,scrollTop:e,zoomX:this.zoomX,zoomY:this.zoomY}))},n._getScrollRangeX=function(){var t=this.getScrollLeft(),e=this.rangeX,o=e[0],r=e[1];this.useOverflowScroll&&isFinite(r)&&(r=Math.max(r,this.viewportWidth-this.containerWidth/this.zoomX));var s=Math.min(0,isFinite(o)?Math.min(o,t):t),u=Math.max(0,isFinite(r)?Math.max(r,t):t),c=this.viewportScrollWidth,h=Math.max(this.containerWidth/this.zoomX,c)-c,f=Math.min(0,h+s);return[f,u]},n._getScrollRangeY=function(){var t=this.getScrollTop(),e=this.rangeY,o=e[0],r=e[1];this.useOverflowScroll&&isFinite(r)&&(r=Math.max(r,this.viewportHeight-this.containerHeight/this.zoomY));var s=Math.min(0,isFinite(o)?Math.min(o,t):t),u=Math.max(0,isFinite(r)?Math.max(r,t):t),c=this.viewportScrollHeight,h=Math.max(this.containerHeight/this.zoomY,c)-c,f=Math.min(0,h+s);return[f,u]},i=Oe([we(dt,function(t,e){var o={enumerable:!0,configurable:!0,get:function(){return this.options[e]}},r=ue("set ".concat(e));t[r]?o.set=function(s){this[r](s)}:o.set=function(s){this.options[e]=s},Object.defineProperty(t,e,o)})],i),i}(ht),Ze=function(a){gt(i,a);function i(){return a!==null&&a.apply(this,arguments)||this}return i}(je),N=function(){return N=Object.assign||function(i){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])}return i},N.apply(this,arguments)},Kt={};Ie.forEach(function(a){Kt[a]=function(){for(var i,n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return(i=this.infiniteViewer)[a].apply(i,n)}});var Ne={name:"infinite-viewer",methods:Kt,props:Xt,mounted:function(){var a=this,i={},n=this.$props;Xt.forEach(function(o){var r=n[o];mt(r)||(i[o]=n[o])});var t=this.$refs;this.infiniteViewer=new Ze(t.containerElement,t.scrollAreaElement.nextElementSibling,N(N({},i),{wrapperElement:t.wrapperElement,scrollAreaElement:t.scrollAreaElement,horizontalScrollElement:t.horizontalScrollElement,verticalScrollElement:t.verticalScrollElement}));var e=this.infiniteViewer;Be.forEach(function(o){e.on(o,function(r){a.$emit(o,N({},r))})})},updated:function(){var a=this.$props,i=this.infiniteViewer;dt.forEach(function(n){var t=a[n];i[n]!==t&&!mt(t)&&(i[n]=a[n])})},beforeDestroy:function(){this.infiniteViewer.destroy()}};function qe(a,i,n,t,e,o,r,s,u,c){const h=typeof n=="function"?n.options:n;return a&&a.render&&(h.render=a.render,h.staticRenderFns=a.staticRenderFns,h._compiled=!0),n}const Ue=Ne;var Jt=function(){var a=this,i=a.$createElement,n=a._self._c||i;return n("div",{ref:"containerElement"},[n("div",{ref:"wrapperElement"},[n("div",{ref:"scrollAreaElement"}),a._v(" "),a._t("default")],2),a._v(" "),n("div",{ref:"horizontalScrollElement"},[n("div",{staticClass:"infinite-viewer-scroll-thumb"})]),a._v(" "),n("div",{ref:"verticalScrollElement"},[n("div",{staticClass:"infinite-viewer-scroll-thumb"})])])},Ge=[];Jt._withStripped=!0;const $e=void 0,Ke=qe({render:Jt,staticRenderFns:Ge},$e,Ue);export{Ke as _};
