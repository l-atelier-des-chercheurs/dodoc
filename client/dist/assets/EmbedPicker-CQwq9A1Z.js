import{n as o}from"../build.js";const i={props:{},components:{},data(){return{is_loading:!1,full_url:"",debounced_full_url:"",debounce_timeout:null,is_inserting_embed:!1}},async created(){},beforeDestroy(){},watch:{full_url(s){this.debounce_timeout&&clearTimeout(this.debounce_timeout),this.is_loading=!0,this.debounce_timeout=setTimeout(()=>{this.is_loading=!1,this.debounced_full_url=s},1e3)}},computed:{url_to_site(){return this.debounced_full_url?this.transformURL({url:this.debounced_full_url,autoplay:!1}):!1}},methods:{insertEmbed(){this.$emit("embed",this.full_url),this.is_inserting_embed=!0},iframeLoaded(s){},iframeError(s){}}};var a=function(){var t=this,e=t._self._c;return e("BaseModal2",{attrs:{title:t.$t("embed"),confirm_before_closing:t.full_url.length>0,is_loading:t.is_inserting_embed},on:{close:function(l){return t.$emit("close")},save:t.insertEmbed}},[e("div",{staticClass:"_linkPicker"},[e("div",{staticClass:"_urlBox"},[e("TextInput",{attrs:{label_str:t.$t("input_url"),instructions:t.$t("input_url_instr"),content:t.full_url,placeholder:"https://",required:!0,input_type:"url"},on:{"update:content":function(l){t.full_url=l},toggleValidity:l=>t.allow_save=l}})],1),e("div",{staticClass:"u-instructions"},[e("small",{staticClass:"_examples"},[t._v(" "+t._s(t.$t("for_example"))+" "),t._l([{url:"https://peertube.fr/w/wB6M6CHdfpWXpozVnqjbde",label:"PeerTube"},{url:"https://www.youtube.com/watch?v=Bn6zdyCAwJs",label:"Youtube"},{url:"https://vimeo.com/447785086",label:"Vimeo"},{url:"https://observablehq.com/embed/@fil/bertin1953-glsl?cells=canvas",label:"Observable"},{url:"https://soundcloud.com/larieooo/doidoidoi",label:"SoundCloud"},{url:"https://scratch.mit.edu/projects/1061783643",label:"Scratch"},{url:"https://www.tinkercad.com/things/2FggyQfGlI3",label:"Tinkercad"}],function(l,r){return e("button",{key:r,staticClass:"u-buttonLink",class:{"is--active":t.full_url===l.url},attrs:{type:"button"},domProps:{innerHTML:t._s(l.label)},on:{click:function(c){t.full_url=l.url}}})})],2)]),t.is_loading?e("LoaderSpinner",{staticClass:"_loader"}):t.url_to_site?e("div",{key:t.url_to_site.src,staticClass:"_previewEmbed"},[t.url_to_site.type==="any"?[e("iframe",{staticClass:"_siteIframe",attrs:{src:t.url_to_site.src,frameborder:"0"},on:{load:t.iframeLoaded,error:t.iframeError}})]:e("vue-plyr",[e("div",{staticClass:"plyr__video-embed"},[e("iframe",{attrs:{src:t.url_to_site.src,allowfullscreen:"",allowtransparency:"",allow:"autoplay; fullscreen",sandbox:"allow-same-origin allow-scripts allow-popups",frameborder:"0"}})])])],2):t._e()],1),e("template",{slot:"footer"},[e("button",{staticClass:"u-button",attrs:{type:"button"},on:{click:function(l){return t.$emit("close")}}},[e("b-icon",{attrs:{icon:"x-circle"}}),t._v(" "+t._s(t.$t("cancel"))+" ")],1),e("button",{staticClass:"u-button u-button_bleuvert",attrs:{type:"button",disabled:!t.full_url},on:{click:t.insertEmbed}},[e("b-icon",{attrs:{icon:"link"}}),t._v(" "+t._s(t.$t("embed"))+" ")],1)])],2)},n=[],u=o(i,a,n,!1,null,"5d3cdf5e");const d=u.exports;export{d as E};
