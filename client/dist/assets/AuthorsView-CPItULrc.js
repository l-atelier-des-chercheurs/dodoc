import{n as o,A as i}from"../build.js";const n={props:{},components:{AuthorCard:i},data(){return{path:"authors",authors:[],search_author_name:"",filter_by_group:""}},created(){},async mounted(){this.$api.updateSelfPath(this.path),this.authors=await this.$api.getFolders({path:this.path}),this.$api.join({room:this.path})},beforeDestroy(){},watch:{},computed:{sorted_authors(){return this.authors.slice().sort((r,t)=>r.name.localeCompare(t.name))},filtered_authors(){return this.sorted_authors.filter(r=>{var t;return!(this.search_author_name&&!this.twoStringsSearch(r.name,this.search_author_name)||this.filter_by_group&&!((t=r.group)!=null&&t.includes(this.filter_by_group)))})},all_groups(){return this.sorted_authors.reduce((r,t)=>{var e;return(e=t.group)==null||e.map(a=>{r.some(s=>s===a)||a&&r.push(a)}),r},[]).sort((r,t)=>r.localeCompare(t))}},methods:{toggleGroupFilter(r){this.filter_by_group=r===this.filter_by_group?"":r}}};var _=function(){var t=this,e=t._self._c;return e("div",{staticClass:"_authorsView"},[e("div",{staticClass:"_backBtn"},[e("router-link",{staticClass:"u-buttonLink",attrs:{to:"/"}},[e("b-icon",{attrs:{icon:"house"}}),t._v(" "+t._s(t.$t("home"))+" ")],1)],1),e("h1",{staticClass:"_title",domProps:{textContent:t._s(t.$t("list_of_accounts"))}}),e("div",{staticClass:"_topRow"},[e("div",{staticClass:"_searchField"},[e("SearchInput",{attrs:{search_placeholder:t.$t("search_by_name"),name:"search_author"},model:{value:t.search_author_name,callback:function(a){t.search_author_name=a},expression:"search_author_name"}})],1),t.all_groups.length>0?e("div",[e("TagsList",{attrs:{tags:t.all_groups,tag_type:"accountgroup",tags_active:[t.filter_by_group]},on:{tagClick:function(a){return t.toggleGroupFilter(a)}}})],1):t._e()]),t.$api.all_devices_connected.length>1?e("div",{staticClass:"_currentlyConnected"},[e("DetailsPane",{attrs:{header:t.$t("devices_connected"),icon:"people",has_items:t.$api.all_devices_connected.length}},t._l(t.$api.all_devices_connected,function(a){return e("div",{key:a.id,staticClass:"u-spacingBottom"},[e("div",[a.meta.token_path?e("AuthorTag",{attrs:{path:a.meta.token_path}}):e("span",[t._v(t._s(t.$t("not_logged_in")))])],1),e("div",[t._v(t._s(a.meta.user_agent))]),e("div",[t._v(t._s(a.meta.path))])])}),0)],1):t._e(),e("transition-group",{staticClass:"_allAuthors",attrs:{tag:"section",name:"listComplete",appear:""}},t._l(t.filtered_authors,function(a){return e("div",{key:a.$path},[e("AuthorCard",{attrs:{author:a,links_to_author_page:!0}})],1)}),0),t.filtered_authors.length===0?e("div",[t._v(" "+t._s(t.$t("no_accounts_to_show"))+" ")]):t._e()],1)},u=[],h=o(n,_,u,!1,null,"32ad5966");const c=h.exports;export{c as default};
