(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[541],{76047:function(t,e,i){"use strict";i.d(e,{A:function(){return c}});var n=function(){var t=this,e=t._self._c;return e("div",[t._t("default")],2)},s=[],a={props:{options:Object},mounted(){this.init()},beforeDestroy(){this.$flickity.destroy(),this.$flickity=null},methods:{init(){const t=i(78365);this.$flickity=new t(this.$el,this.options),this.$emit("init",this.$flickity)},flickity(){return this.$flickity},select(t,e,i){this.$flickity.select(t,e,i)},next(t,e){this.$flickity.next(t,e)},previous(t,e){this.$flickity.previous(t,e)},selectCell(t,e,i){this.$flickity.selectCell(t,e,i)},resize(){this.$flickity.resize()},reposition(){this.$flickity.reposition()},prepend(t){this.$flickity.prepend(t)},append(t){this.$flickity.append(t)},insert(t,e){this.$flickity.insert(t,e)},remove(t){this.$flickity.remove(t)},playPlayer(){this.$flickity.playPlayer()},stopPlayer(){this.$flickity.stopPlayer()},pausePlayer(){this.$flickity.pausePlayer()},unpausePlayer(){this.$flickity.unpausePlayer()},rerender(){this.$flickity.destroy(),this.init()},destroy(){this.$flickity.destroy()},reloadCells(){this.$flickity.reloadCells()},getCellElements(){return this.$flickity.getCellElements()},data(){const t=i(78365);return t.data(this.$el)},on(t,e){this.$flickity.on(t,e)},off(t,e){this.$flickity.off(t,e)},once(t,e){this.$flickity.once(t,e)},selectedElement(){return this.$flickity.selectedElement},selectedElements(){return this.$flickity.selectedElements},selectedIndex(){return this.$flickity.selectedIndex},cells(){return this.$flickity.cells},slides(){return this.$flickity.slides},disableDrag(){this.$flickity.options.draggable=!1,this.$flickity.updateDraggable()},enableDrag(){this.$flickity.options.draggable=!0,this.$flickity.updateDraggable()}}},o=a,r=(i(13486),i(81656)),l=(0,r.A)(o,n,s,!1,null,null,null),c=l.exports},49117:function(t,e,i){"use strict";i.d(e,{A:function(){return c}});i(74423);var n=function(){var t=this,e=t._self._c;return e("div",[t.pinned_folders.length>0||t.can_edit?e("div",{staticClass:"_pinned"},[e("div",{},[e("DLabel",{attrs:{str:t.label}}),e("transition",{attrs:{name:"pagechange",mode:"out-in"}},[0===t.pinned_folders.length&&t.can_edit?e("div",{staticClass:"u-instructions"},[t._v(" "+t._s(t.$t("click_to_pin"))+" ")]):e("transition-group",{staticClass:"_list _list_pinned",attrs:{tag:"section",name:"listComplete",appear:""}},t._l(t.pinned_folders,(function(i,n){return e("div",{key:i.$path,staticClass:"_item"},[t._t("default",null,{item:i}),t.can_edit?e("div",{staticClass:"_pinSpace"},[e("button",{staticClass:"u-button u-button_icon",attrs:{type:"button",disabled:["alone","first"].includes(t.positionInPinned(i.$path))},on:{click:function(e){return t.movePin(n,-1)}}},[e("b-icon",{attrs:{icon:"arrow-left-circle-fill","aria-label":t.$t("move_left")}})],1),e("button",{staticClass:"u-button u-button_icon",attrs:{type:"button"},on:{click:function(e){return t.removeFromPins(i.$path)}}},[e("b-icon",{attrs:{icon:"pin-fill","aria-label":t.$t("unpin")}})],1),e("button",{staticClass:"u-button u-button_icon",attrs:{type:"button",disabled:["alone","last"].includes(t.positionInPinned(i.$path))},on:{click:function(e){return t.movePin(n,1)}}},[e("b-icon",{attrs:{icon:"arrow-right-circle-fill","aria-label":t.$t("move_right")}})],1)]):e("div",{staticClass:"_pinSpace _pinSpace_indicator"},[e("b-icon",{attrs:{icon:"pin-fill","aria-label":t.$t("pinned")}})],1)],2)})),0)],1)],1)]):t._e(),e("transition-group",{staticClass:"_nonpinned _list",attrs:{tag:"section",name:"listComplete",appear:""}},t._l(t.non_pinned_folders,(function(i){return e("div",{key:i.$path,staticClass:"_item"},[t._t("default",null,{item:i}),t.can_edit?e("div",{staticClass:"_pinSpace"},[e("button",{staticClass:"u-button u-button_icon",attrs:{type:"button"},on:{click:function(e){return t.addSpaceToPins(i.$path)}}},[e("b-icon",{attrs:{icon:"pin","aria-label":t.$t("pin")}})],1)]):t._e()],2)})),0)],1)},s=[],a=(i(44114),{props:{field_name:String,label:String,content:{type:Array,default:()=>[]},path:String,folders:Array,can_edit:Boolean},components:{},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{list_of_pins_metas(){return 0===this.content.length?[]:this.content.filter((t=>this.folders.some((e=>this.getFilename(e.$path)===t))))},pinned_folders(){return this.list_of_pins_metas.reduce(((t,e)=>{const i=this.folders.find((t=>this.getFilename(t.$path)===e));return i&&t.push(i),t}),[])},non_pinned_folders(){return this.folders.filter((t=>!this.list_of_pins_metas.includes(this.getFilename(t.$path))))}},methods:{async addSpaceToPins(t){let e=this.list_of_pins_metas.slice();e.push(this.getFilename(t)),this.updateList({pins_metas:e})},movePin(t,e){let i=this.list_of_pins_metas.slice();i.move(t,t+e),this.updateList({pins_metas:i})},positionInPinned(t){if(1===this.pinned_folders.length)return"alone";const e=this.pinned_folders.findIndex((e=>e.$path===t));return 0===e?"first":e===this.pinned_folders.length-1?"last":"none"},removeFromPins(t){let e=this.list_of_pins_metas.slice();e=e.filter((e=>e!==this.getFilename(t))),this.updateList({pins_metas:e})},async updateList({pins_metas:t}){await this.$api.updateMeta({path:this.path,new_meta:{[this.field_name]:t}})}}}),o=a,r=(i(94221),i(81656)),l=(0,r.A)(o,n,s,!1,null,"06cbf20b",null),c=l.exports},99031:function(t,e,i){"use strict";i.d(e,{A:function(){return st}});i(74423);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"_projectInfos",class:{"is--list":["list","tiny"].includes(t.context),"is--own":t.is_own_project,"u-card2":"full"!==t.context},attrs:{"data-context":t.context}},[e("div",{staticClass:"_projectInfos--topContent"},[e("div",{staticClass:"_projectInfos--cover"},[e("CoverField",{staticClass:"_cover",attrs:{context:t.context,ratio:"3 / 2",cover:t.project.$cover,path:t.project.$path,can_edit:t.can_edit}}),e("transition",{attrs:{name:"toggleLock",mode:"out-in"}},["finished"===t.project.$status||"private"===t.project.$status?e("StatusTag",{key:t.project.$status,staticClass:"_icon",attrs:{show_label:!1,status:t.project.$status,can_edit:!1,mode:"list"===t.context?"active":"inactive"},on:{click:function(e){return t.$emit("toggleFilter",{filter_type:"$status",value:t.project.$status})}}}):t._e()],1),t.display_original_space?e("div",{staticClass:"_originalSpace"},[t._v(" + "+t._s(t.original_space_name)+" ")]):t._e()],1),e("div",{staticClass:"_projectInfos--infos",class:{"is--short":t.is_compacted}},["full"===t.context?e("div",{staticClass:"_projectInfos--infos--settings"},[e("StatusTag",{attrs:{status:t.project.$status,path:t.project.$path,can_edit:t.can_edit}}),t.can_edit?e("DropDown",{attrs:{right:!0}},[e("DownloadFolder",{attrs:{modal_title:t.$t("download_project",{name:t.project.title}),modal_instructions:t.$t("download_project_instr"),path:t.project.$path}}),e("div",{},[e("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){t.show_dup_modal=!0}}},[e("b-icon",{attrs:{icon:"file-plus"}}),t._v(" "+t._s(t.$t("duplicate_or_move"))+" ")],1),t.show_dup_modal?e("DuplicateOrRemixProject",{attrs:{path:t.project.$path,proposed_title:`${t.$t("copy_of")} ${t.project.title}`},on:{close:function(e){t.show_dup_modal=!1}}}):t._e()],1),e("RemoveMenu",{attrs:{modal_title:t.$t("remove_project",{name:t.project.title})},on:{remove:t.removeProject}})],1):t._e()],1):t._e(),e("TitleField",{staticClass:"_title",attrs:{field_name:"title",label:"full"===t.context?t.$t("title"):"",content:t.project.title,path:t.project.$path,required:!0,maxlength:40,tag:"full"===t.context?"h1":"list"===t.context?"h3":"h5",can_edit:t.can_edit,instructions:t.can_edit?t.$t("project_title_instructions"):void 0}}),"list"===t.context&&t.project.description||"full"===t.context&&(t.project.description||t.can_edit)?e("TitleField",{attrs:{field_name:"description",label:"full"===t.context?t.$t("description"):"",input_type:"editor",custom_formats:["bold","italic","link"],content:t.project.description,path:t.project.$path,maxlength:1280,can_edit:t.can_edit}}):t._e(),"full"===t.context?e("AdminsAndContributorsField",{attrs:{folder:t.project,can_edit:t.can_edit,admin_label:t.$t("referent"),admin_instructions:t.$t("project_admin_instructions"),contrib_instructions:t.$t("project_contrib_instructions")}}):t._e(),"tiny"!==t.context&&"full"!==t.context&&t.all_tags.length>0?e("div",{staticClass:"_allTags"},[t._l(t.all_tags,(function(i){return t._l(i.list,(function(n){return e("SingleTag",{key:n,attrs:{tag_type:i.type,tag_str:n,mode:"active"},on:{tagClick:function(e){return t.$emit("toggleFilter",{filter_type:i.type,value:n})}}})}))}))],2):t._e(),t.is_compacted?e("div",{staticClass:"_compactExpandButton",on:{click:t.toggleCompacted}},[e("button",{staticClass:"u-button u-button_icon",attrs:{type:"button",tabindex:"-1"}},[t.short_project_view?e("b-icon",{attrs:{icon:"arrow-down-short"}}):e("b-icon",{attrs:{icon:"arrow-up-short"}})],1)]):t._e()],1)]),"full"===t.context?e("flickity",{staticClass:"_projectInfos--meta",class:{"is--hidden":!t.show_meta},attrs:{options:t.flickityOptions}},[e("CardCompetences",{staticClass:"_card",attrs:{project:t.project,can_edit:t.can_edit}}),e("CardMachinesMaterials",{staticClass:"_card",attrs:{project:t.project,can_edit:t.can_edit}}),e("CardKeywords",{staticClass:"_card",attrs:{project:t.project,can_edit:t.can_edit}}),e("CardLicense",{staticClass:"_card",attrs:{project:t.project,can_edit:t.can_edit}}),e("CardFiles",{staticClass:"_card",attrs:{project:t.project,can_edit:t.can_edit}})],1):t._e(),["list","tiny"].includes(t.context)?e("router-link",{staticClass:"js--showCursor _projectInfos--open",attrs:{to:{path:t.createURLFromPath(t.project.$path)},title:t.$t("open")+" "+t.project.title}}):t._e()],1)},s=[],a=(i(44114),i(76047)),o=function(){var t=this,e=t._self._c;return e("DetailsPane",{attrs:{header:t.keywords_title,icon:"tag",has_items:!!t.project.keywords,is_open_initially:!0,can_be_toggled:!1}},[e("div",{},[e("TagsField",{attrs:{label:t.$t("keywords"),field_name:"keywords",tag_type:"keywords",content:t.project.keywords,path:t.project.$path,can_edit:t.can_edit}})],1)])},r=[],l={props:{project:Object,can_edit:Boolean},components:{},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{keywords_title(){return this.$t("keywords")}},methods:{}},c=l,p=i(81656),d=(0,p.A)(c,o,r,!1,null,"1560151b",null),h=d.exports,u=function(){var t=this,e=t._self._c;return e("DetailsPane",{attrs:{header:t.$t("levels_and_competences"),icon:"bookmark-star",has_items:!!t.project.level,is_open_initially:!0,can_be_toggled:!1}},[e("div",{staticClass:"u-spacingBottom"},[e("RadioCheckboxField",{attrs:{label:t.$t("skill_level"),field_name:"level",input_type:"radio",content:t.project.level,path:t.project.$path,can_edit:t.can_edit,options:t.basic_competences},scopedSlots:t._u([{key:"preview",fn:function({item:i}){return[i&&i.key?e("div",{staticClass:"_list"},[e("SingleTag",{attrs:{tag_type:"level",tag_str:i.label,mode:"inactive"}})],1):t._e()]}}])})],1),e("div",{staticClass:"u-spacingBottom"},[e("RadioCheckboxField",{attrs:{label:t.$t("target_audience"),field_name:"target_audience",input_type:"checkbox",content:t.project.target_audience,path:t.project.$path,can_edit:t.can_edit,options:t.target_audience_options},scopedSlots:t._u([{key:"preview",fn:function({items:i}){return[i?e("TagsList",{attrs:{tags:i.map((({key:t})=>t)),tag_type:"target_audience"}}):t._e()]}}])})],1),e("div",{},[e("RadioCheckboxField",{attrs:{label:t.$t("disciplines"),field_name:"disciplines",input_type:"checkbox",content:t.project.disciplines,path:t.project.$path,can_edit:t.can_edit,options:t.discipline_options},scopedSlots:t._u([{key:"preview",fn:function({items:i}){return[i?e("TagsList",{attrs:{tags:i.map((({key:t})=>t)),tag_type:"disciplines"}}):t._e()]}}])})],1)])},_=[],f={props:{project:Object,can_edit:Boolean},components:{},data(){return{basic_competences:[{key:"",label:"–"},{key:"beginner",label:this.$t("beginner")},{key:"intermediate",label:this.$t("intermediate")},{key:"experienced",label:this.$t("experienced")}],target_audience_options:[{key:"cycle1",label:this.$t("ta_cycle1"),instructions:this.$t("ta_cycle1_instr")},{key:"cycle2",label:this.$t("ta_cycle2"),instructions:this.$t("ta_cycle2_instr")},{key:"cycle3",label:this.$t("ta_cycle3"),instructions:this.$t("ta_cycle3_instr")},{key:"cycle4",label:this.$t("ta_cycle4"),instructions:this.$t("ta_cycle4_instr")},{key:"ulis",label:this.$t("ta_ulis")},{key:"cap",label:this.$t("ta_cap")},{key:"lycee",label:this.$t("ta_lycee")},{key:"lycee2",label:this.$t("ta_lycee2")},{key:"post",label:this.$t("ta_post")}],discipline_options:[{key:"math",label:this.$t("di_math")},{key:"french",label:this.$t("di_french")},{key:"langs",label:this.$t("di_langs")},{key:"history",label:this.$t("di_history")},{key:"geography",label:this.$t("di_geography")},{key:"biology",label:this.$t("di_biology")},{key:"technology",label:this.$t("di_technology")},{key:"physics",label:this.$t("di_physics")},{key:"chemistry",label:this.$t("di_chemistry")},{key:"sports",label:this.$t("di_sports")},{key:"civics",label:this.$t("di_civics")},{key:"arts",label:this.$t("di_arts")},{key:"music",label:this.$t("di_music")},{key:"transdisciplinary",label:this.$t("di_transdisciplinary")}]}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{}},m=f,v=(i(36806),(0,p.A)(m,u,_,!1,null,"59d6e751",null)),g=v.exports,b=function(){var t=this,e=t._self._c;return e("DetailsPane",{attrs:{header:t.$t("machines_and_materials"),icon:"tools",has_items:t.machines_materials_items_length>0&&t.machines_materials_items_length,is_open_initially:!0,can_be_toggled:!1}},[e("div",{staticClass:"u-spacingBottom"},[e("TagsField",{attrs:{label:t.$t("materials"),field_name:"materials",tag_type:"materials",content:t.project.materials,path:t.project.$path,can_edit:t.can_edit}})],1),e("div",{},[e("TagsField",{attrs:{label:t.$t("machines"),field_name:"machines",tag_type:"machines",content:t.project.machines,path:t.project.$path,can_edit:t.can_edit}})],1)])},y=[],w={props:{project:Object,can_edit:Boolean},components:{},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{machines_materials_items_length(){let t=0;return this.project.materials&&Array.isArray(this.project.materials)&&(t+=this.project.materials.length),this.project.machines&&Array.isArray(this.project.machines)&&(t+=this.project.machines.length),t}},methods:{}},x=w,k=(0,p.A)(x,b,y,!1,null,"36844aa4",null),$=k.exports,C=function(){var t=this,e=t._self._c;return e("DetailsPane",{attrs:{header:t.$t("authors_and_license"),icon:"people",has_items:!!t.project.license,is_open_initially:!0,can_be_toggled:!1}},[e("div",{staticClass:"u-spacingBottom"},[e("TitleField",{attrs:{label:t.$t("authors"),field_name:"authors_list",content:t.project.authors_list,path:t.project.$path,input_type:"editor",custom_formats:["bold","italic","link"],can_edit:t.can_edit}})],1),e("div",{},[t.$root.app_infos.instance_meta.enable_events?e("EventField",{staticClass:"u-spacingBottom",attrs:{project:t.project,can_edit:t.can_edit}}):t._e(),e("RemixField",{staticClass:"u-spacingBottom",attrs:{project:t.project,can_edit:t.can_edit}}),t.can_edit||!t.can_edit&&"custom_license"!==t.project.license?e("RadioCheckboxField",{attrs:{label:t.$t("license"),show_label:!1,instructions:t.$t("licence_instructions"),field_name:"license",input_type:"radio",content:t.project.license,path:t.project.$path,can_edit:t.can_edit,options:t.license_options}}):e("DLabel",{attrs:{str:t.$t("license")}}),"custom_license"===t.project.license?e("TitleField",{ref:"custom_license_field",attrs:{label:t.$t("custom_license"),show_label:t.can_edit,field_name:"custom_license",content:t.project.custom_license||t.$t("fill_out_your_license"),path:t.project.$path,input_type:"editor",custom_formats:["bold","italic","link"],can_edit:t.can_edit}}):t._e()],1)])},P=[],j=function(){var t=this,e=t._self._c;return e("div",{},[t.can_edit||t.project.event_linked_slug?e("DLabel",{attrs:{str:t.$t("created_during")}}):t._e(),t.is_loading?t._e():[e("RadioCheckboxField",{attrs:{field_name:"event_linked_slug",input_type:"radio",content:t.project.event_linked_slug,path:t.project.$path,can_edit:t.can_edit,options:t.events_options}})]],2)},S=[],M={props:{project:Object,can_edit:Boolean},components:{},data(){return{events:[],is_loading:!0}},async created(){this.events=await this.loadAllEvents(),this.is_loading=!1},mounted(){},beforeDestroy(){},watch:{},computed:{events_options(){if(!this.events)return[];const t=[{key:"",label:"–"}];return this.events.map((e=>{let i="";e.start_date&&(i+=e.start_date),e.end_date&&(i+="-"+e.end_date);const n=this.makeRelativeURLFromThumbs({$thumbs:e.$cover,$type:"image",$path:e.$path,resolution:50});t.push({key:this.getFilename(e.$path),label:e.title,instructions:i,thumb_src:n})})),t}},methods:{async loadAllEvents(){return await this.$api.getFolders({path:"events"}).catch((t=>{this.fetch_events_error=t.response}))}}},z=M,D=(0,p.A)(z,j,S,!1,null,"47466f98",null),E=D.exports,A=function(){var t=this,e=t._self._c;return e("div",{staticClass:"_remixField"},[t.can_edit?e("ToggleField",{attrs:{label:t.$t("project_can_be_remixed"),field_name:"$can_be_remixed",content:!0===t.project.$can_be_remixed,path:t.project.$path,can_edit:t.can_edit}}):t._e(),t.project.$can_be_remixed?e("button",{staticClass:"u-button u-button_bleumarine",attrs:{type:"button"},on:{click:function(e){t.show_remix_modal=!0}}},[e("b-icon",{attrs:{icon:"intersect"}}),t._v(" "+t._s(t.$t("remix_this_project"))+" ")],1):t._e(),t.show_remix_modal?e("DuplicateOrRemixProject",{attrs:{path:t.project.$path,mode:"remix",proposed_title:`${t.$t("remix_of")} ${t.project.title}`,source_title:t.project.title},on:{close:function(e){t.show_remix_modal=!1}}}):t._e()],1)},L=[],I=function(){var t=this,e=t._self._c;return e("BaseModal2",{attrs:{title:t.modal_title},on:{close:function(e){return t.$emit("close")}}},[t.url_to_copy?[e("router-link",{staticClass:"u-button u-button_bleumarine",attrs:{to:t.url_to_copy}},[t._v(" "+t._s(t.$t("open_copy"))+" ")])]:[e("div",{},[e("div",{staticClass:"u-spacingBottom u-instructions"},[e("small",[t._v(" "+t._s(t.$t("dm_instr"))+" ")])]),e("div",{staticClass:"u-spacingBottom"},[e("DLabel",{attrs:{str:t.destination_space_label}}),e("select",{directives:[{name:"model",rawName:"v-model",value:t.destination_space_path,expression:"destination_space_path"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.destination_space_path=e.target.multiple?i:i[0]}}},t._l(t.sorted_spaces,(function(i){return e("option",{key:i.$path,domProps:{value:i.$path,textContent:t._s(i.title)}})})),0)],1),e("div",{staticClass:"u-spacingBottom"},[e("DLabel",{attrs:{str:t.new_title_label}}),e("TextInput",{ref:"titleInput",attrs:{content:t.new_title,maxlength:40,required:!0},on:{"update:content":function(e){t.new_title=e}}})],1),"duplicate"===t.mode?e("div",{staticClass:"u-spacingBottom"},[e("ToggleInput",{attrs:{content:t.remove_original,label:t.$t("remove_original"),options:{true:t.$t("remove_original_after_copy"),false:t.$t("keep_original_after_copy")}},on:{"update:content":function(e){t.remove_original=e}}})],1):t._e()]),e("template",{slot:"footer"},[t.is_copying?e("LoaderSpinner"):[e("button",{staticClass:"u-button",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[e("b-icon",{attrs:{icon:"x-circle"}}),t._v(" "+t._s(t.$t("cancel"))+" ")],1),e("button",{staticClass:"u-button u-button_bleuvert",attrs:{type:"button",autofocus:""},on:{click:t.confirm}},[t.remove_original?[t._v(" "+t._s(t.$t("move"))+" ")]:["remix"===t.mode?[t._v(" "+t._s(t.$t("remix"))+" ")]:[t._v(" "+t._s(t.$t("duplicate"))+" ")]]],2)]],2)]],2)},T=[],F={props:{path:String,proposed_title:String,mode:{type:String,default:"duplicate"}},components:{},data(){return{spaces:void 0,destination_space_path:void 0,url_to_copy:!1,remove_original:!1,new_title:this.proposed_title,is_copying:!1}},created(){},async mounted(){const{space_slug:t}=this.decomposePath(this.path);this.destination_space_path=this.createPath({space_slug:t}),this.spaces=await this.$api.getFolders({path:"spaces"})},beforeDestroy(){},watch:{},computed:{modal_title(){return"remix"===this.mode?this.$t("remix_this_project"):this.$t("duplicate_or_move")},destination_space_label(){return"remix"===this.mode?this.$t("destination_space_remix"):this.$t("destination_space")},new_title_label(){return"remix"===this.mode?this.$t("title_of_remix"):this.$t("title_of_copy")},sorted_spaces(){return this.spaces?this.spaces.slice().filter((t=>this.canLoggedinSeeFolder({folder:t}))).sort(((t,e)=>t.title.localeCompare(e.title))):[]}},methods:{async confirm(){this.is_copying=!0;const t=this.destination_space_path+"/projects";let e;try{if("duplicate"===this.mode)e=await this.$api.copyFolder({path:this.path,path_to_destination_type:t,new_meta:{title:this.new_title}});else if("remix"===this.mode){const i={title:this.new_title,$admins:this.setDefaultContentAdmins(),$contributors:[]};e=await this.$api.remixFolder({path:this.path,path_to_destination_type:t,new_meta:i})}}catch(n){throw"unique_field_taken"===n?(this.$alertify.delay(4e3).error(this.$t("title_taken")),this.$refs.titleInput.$el.querySelector("input").select()):"not_allowed_to_copy_folder"===n&&this.$alertify.delay(4e3).error(this.$t("not_allowed_to_copy_to_space")),this.is_copying=!1,"fail"}this.$alertify.closeLogOnClick(!0).delay(4e3).success(this.$t("folder_copied"));const i=this.createURLFromPath(e);this.remove_original?(this.is_copying=!1,await this.$api.deleteItem({path:this.path}),this.$router.push(i)):(this.url_to_copy=i,this.is_copying=!1)}}},O=F,B=(0,p.A)(O,I,T,!1,null,"40d2dc02",null),H=B.exports,R={props:{project:Object,can_edit:Boolean},components:{DuplicateOrRemixProject:H},data(){return{is_loading:!1,show_remix_modal:!1}},async created(){this.project.is_remix_of&&(this.is_loading=!0,this.source_project=await this.$api.getFolder({path:this.event_path}).catch((t=>{this.error_fetching_source_project=t,this.is_loading=!1})),this.is_loading=!1)},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{remixProject(){}}},N=R,V=(i(83740),(0,p.A)(N,A,L,!1,null,"54c250a9",null)),Z=V.exports,q={props:{project:Object,can_edit:Boolean},components:{EventField:E,RemixField:Z},data(){return{license_options:[{key:"",label:this.$t("none_f")},{key:"creativecommons_by_sa",label:this.$t("creativecommons_by_sa"),instructions:this.$t("creativecommons_by_sa_explanations")},{key:"all_rights_reserved",label:this.$t("all_rights_reserved")},{key:"copyleft",label:this.$t("copyleft"),instructions:this.$t("copyleft_explanations")},{key:"custom_license",label:this.$t("custom_license")}]}},created(){},mounted(){},beforeDestroy(){},watch:{"project.license":function(t){"custom_license"===t&&this.$nextTick((()=>{this.$refs.custom_license_field.enableEditMode()}))}},computed:{},methods:{}},W=q,U=(0,p.A)(W,C,P,!1,null,"4511d33c",null),X=U.exports,G=function(){var t=this,e=t._self._c;return e("DetailsPane",{attrs:{header:t.$t("files"),icon:"file-earmark-arrow-down",has_items:t.downloadable_files.length>0&&t.downloadable_files.length,is_open_initially:!0,can_be_toggled:!1}},[e("FilesModule",{attrs:{field_name:"downloadable_files",path:t.project.$path,content:t.downloadable_files,project_path:t.project.$path,can_edit:t.can_edit}})],1)},Y=[],J={props:{project:Object,can_edit:Boolean},components:{},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{downloadable_files(){return this.project.downloadable_files||[]}},methods:{}},Q=J,K=(0,p.A)(Q,G,Y,!1,null,"1ad3ce9e",null),tt=K.exports,et={props:{project:Object,context:String,can_edit:Boolean,display_original_space:Boolean},components:{Flickity:a.A,DuplicateOrRemixProject:H,CardKeywords:h,CardCompetences:g,CardMachinesMaterials:$,CardLicense:X,CardFiles:tt},data(){return{fetch_status:null,fetch_error:null,response:null,show_meta:!0,show_dup_modal:!1,short_project_view:!0,flickityOptions:{initialIndex:0,groupCells:!0,imagesLoaded:!0,pageDots:!1,resize:!0,selectedAttraction:.2,percentPosition:!1,friction:.8,cellAlign:"center",contain:!1}}},created(){},mounted(){},beforeDestroy(){},watch:{"$root.is_mobile_view"(){this.$root.is_mobile_view&&(this.show_meta=!0)}},computed:{original_space_name(){let{space_slug:t}=this.decomposePath(this.project.$path);const e=this.createPath({space_slug:t}),i=this.getFromCache(e);return i.title},is_compacted(){return"list"===this.context&&this.short_project_view},is_own_project(){return this.isOwnItem({folder:this.project})},all_tags(){let t=[];return["target_audience","disciplines","level","keywords","machines","materials"].map((e=>{if("level"===e&&this.project.level)t.push({type:"level",list:[this.project.level]});else{const i=this.getKw(e);i.length>0&&t.push({type:e,list:i})}})),t}},methods:{getKw(t){return this.project[t]&&Array.isArray(this.project[t])?this.project[t]:[]},async removeProject(){this.fetch_status="pending",this.fetch_error=null;try{const t=await this.$api.deleteItem({path:this.project.$path});this.response=t.data,this.fetch_status="success"}catch(t){this.fetch_status="error",this.fetch_error=t.response.data}},toggleCompacted(){this.short_project_view=!this.short_project_view}}},it=et,nt=(i(67358),(0,p.A)(it,n,s,!1,null,"7dea6f91",null)),st=nt.exports},34928:function(t,e,i){"use strict";i.d(e,{A:function(){return c}});var n=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"u-metaField"},[e("DLabel",{attrs:{str:t.$t("filename")}}),e("div",{staticClass:"u-filename"},[t._v(t._s(t.file.$media_filename))])],1),t.file.$infos.hasOwnProperty("size")?e("SizeDisplay",{attrs:{size:t.file.$infos.size}}):t._e(),t.file.$infos.hasOwnProperty("width")||t.file.$infos.hasOwnProperty("height")?e("ResolutionDisplay",{attrs:{width:t.file.$infos.width,height:t.file.$infos.height}}):t._e(),t.file.$infos.hasOwnProperty("duration")?e("DurationDisplay",{attrs:{title:t.$t("duration"),duration:t.file.$infos.duration}}):t._e()],1)},s=[],a={props:{file:Object},components:{},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{}},o=a,r=i(81656),l=(0,r.A)(o,n,s,!1,null,"71283652",null),c=l.exports},1592:function(t,e,i){"use strict";i.d(e,{A:function(){return c}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"_singleBaseMediaPicker",attrs:{"data-context":t.context}},[e("div",{staticClass:"_mpContent"},[t.selected_media?e("MediaContent",{key:t.selected_media.$path,attrs:{file:t.selected_media,resolution:220,context:t.context},on:{videoPaused:function(e){return t.$emit("videoPaused")},videoEnded:function(e){return t.$emit("videoEnded")}}}):t.content?e("span",[t._v(" "+t._s(t.$t("media_not_found"))+" ")]):t._e(),e("div",{staticClass:"_changeBtn"},[t.content?e("button",{staticClass:"u-button u-button_small u-button_red",attrs:{type:"button"},on:{click:function(e){t.show_media_picker=!0}}},[e("b-icon",{attrs:{icon:"arrow-left-right"}}),t._v(" "+t._s(t.$t("change"))+" ")],1):e("button",{staticClass:"u-button u-button_bleuvert",attrs:{type:"button"},on:{click:function(e){t.show_media_picker=!0}}},[e("b-icon",{attrs:{icon:"image"}}),t._v(" "+t._s(t.title)+" ")],1),t.show_media_picker?e("PickMediaFromProjects",{attrs:{title:t.title,path:t.path,select_mode:"single",pick_from_types:[t.media_type_to_pick]},on:{addMedias:t.pickMedia,close:function(e){t.show_media_picker=!1}}}):t._e()],1),e("DropZone",{attrs:{media_types_allowed:t.media_type_to_pick?[t.media_type_to_pick]:void 0},on:{mediaDropped:t.pickMedia}})],1)])},s=[],a={props:{title:String,context:{default:"preview",type:String},field_name:String,content:{type:String,default:""},open_modal_if_empty:Boolean,path:String,selected_media_path:String,media_type_to_pick:String},components:{},data(){return{show_media_picker:!this.content&&!0===this.open_modal_if_empty}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{selected_media(){const t=this.content;return!!t&&this.getSourceMedia({source_media:{meta_filename_in_project:t},folder_path:this.selected_media_path||this.path})}},methods:{async pickMedia({path_to_source_media_metas:t}){const e=t[0],i=this.getFilename(e),n={[this.field_name]:i};return await this.$api.updateMeta({path:this.path,new_meta:n})}}},o=a,r=(i(34181),i(81656)),l=(0,r.A)(o,n,s,!1,null,"9feb6796",null),c=l.exports},73261:function(t,e,i){"use strict";i.d(e,{A:function(){return M}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"_topbar"},[!0!==t.no_back_button?e("button",{staticClass:"u-button u-button_icon _backPubli",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[e("b-icon",{attrs:{icon:"arrow-left-circle-fill","aria-label":t.$t("back_to_publications")}})],1):t._e(),e("div",{staticClass:"_publiTitle"},[e("TitleField",{attrs:{label:t.$t("title"),show_label:!1,field_name:"title",tag:"h2",maxlength:40,required:!0,content:t.publication.title,path:t.publication.$path,can_edit:t.can_edit}})],1),e("div",{staticClass:"_buttonRow"},[t.can_edit&&"parent_contributors"!==t.publication.$admins?e("div",{},[e("small",[e("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:t.setCorrectPermForAdmins}},[t._v(" set perm to parent ")]),t._v(" "+t._s(t.publication.$admins)+" ")])]):t._e(),t.can_edit?e("StatusTag",{attrs:{status:t.publication.$status||"public",status_options:["public","private"],path:t.publication.$path,can_edit:t.can_edit}}):t._e(),t.can_edit&&"cartography"!==t.publication.template?e("button",{staticClass:"u-button u-button_small u-button_transparent",attrs:{type:"button",caret:""},on:{click:t.openSettings}},[e("b-icon",{attrs:{slot:"prefix",icon:"gear","aria-label":t.$t("settings")},slot:"prefix"}),t._v(" "+t._s(t.$t("settings"))+" ")],1):t._e(),t.can_edit?e("DropDown",{on:{show:t.closeSettings}},[e("DuplicatePublication",{attrs:{path:t.publication.$path,source_title:t.publication.title,publication:t.publication},on:{close:function(e){return t.$emit("close")}}}),e("RemoveMenu",{attrs:{modal_title:t.$t("remove_publication",{name:t.publication.title})},on:{remove:t.removePublication}})],1):t._e(),e("DropDown",{attrs:{right:!0},on:{show:t.closeSettings}},[e("template",{slot:"trigger"},[e("b-icon",{attrs:{icon:"box-arrow-up-right"}}),t._v(" "+t._s(t.$t("share"))+" ")],1),t.can_edit?e("div",[e("button",{staticClass:"u-buttonLink _exportBtn",attrs:{type:"button"},on:{click:function(e){t.show_export_pdf_modal=!0}}},[e("b-icon",{attrs:{icon:"save2-fill"}}),t._v(" "+t._s(t.$t("export"))+" ")],1)]):t._e(),t.show_export_pdf_modal?e("ExportPubliModal",{attrs:{modal_title:t.$t("export_publi",{name:t.publication.title}),publication:t.publication,page_opened_id:t.page_opened_id},on:{close:function(e){t.show_export_pdf_modal=!1}}}):t._e(),e("div",[e("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){t.show_qr_code_modal=!0}}},[e("div",{staticClass:"icon",attrs:{part:"base","aria-hidden":"true"}},[e("svg",{staticClass:"bi bi-qr-code",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M2 2h2v2H2V2Z"}}),e("path",{attrs:{d:"M6 0v6H0V0h6ZM5 1H1v4h4V1ZM4 12H2v2h2v-2Z"}}),e("path",{attrs:{d:"M6 10v6H0v-6h6Zm-5 1v4h4v-4H1Zm11-9h2v2h-2V2Z"}}),e("path",{attrs:{d:"M10 0v6h6V0h-6Zm5 1v4h-4V1h4ZM8 1V0h1v2H8v2H7V1h1Zm0 5V4h1v2H8ZM6 8V7h1V6h1v2h1V7h5v1h-4v1H7V8H6Zm0 0v1H2V8H1v1H0V7h3v1h3Zm10 1h-1V7h1v2Zm-1 0h-1v2h2v-1h-1V9Zm-4 0h2v1h-1v1h-1V9Zm2 3v-1h-1v1h-1v1H9v1h3v-2h1Zm0 0h3v1h-2v1h-1v-2Zm-4-1v1h1v-2H7v1h2Z"}}),e("path",{attrs:{d:"M7 12h1v3h4v1H7v-4Zm9 2v2h-3v-1h2v-1h1Z"}})])]),t._v(" "+t._s(t.$t("direct_link"))+" ")])]),t.show_qr_code_modal?e("QRModal",{attrs:{url_to_access:t.share_url},on:{close:function(e){t.show_qr_code_modal=!1}}},[e("ToggleField",{attrs:{label:t.$t("make_publication_public"),field_name:"$public",content:!0===t.publication.$public,path:t.publication.$path,can_edit:t.can_edit}})],1):t._e()],2)],1)])},s=[],a=function(){var t=this,e=t._self._c;return e("div",[e("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){t.show_modal=!0}}},[e("b-icon",{attrs:{icon:"file-plus"}}),t._v(" "+t._s(t.$t("duplicate_or_move"))+" ")],1),t.show_modal?e("BaseModal2",{attrs:{title:t.$t("duplicate_or_move")},on:{close:function(e){t.show_modal=!1}}},[t.navigation_to_copy?[e("a",{staticClass:"u-button u-button_bleumarine",attrs:{href:t.navigation_to_copy}},[t._v(" "+t._s(t.$t("open_copy"))+" ")])]:[e("div",{staticClass:"u-spacingBottom"},[e("div",{staticClass:"u-instructions"},[e("small",[t._v(" "+t._s(t.$t("dmp_instr"))+" ")])]),e("br"),e("SpaceProjectPicker",{staticClass:"u-spacingBottom",attrs:{path:t.path},on:{newProjectSelected:function(e){t.destination_project_path=e}}}),e("div",{staticClass:"u-spacingBottom"},[e("DLabel",{attrs:{str:t.$t("title_of_copy")}}),e("TextInput",{ref:"titleInput",attrs:{content:t.new_title,maxlength:40,required:!0},on:{"update:content":function(e){t.new_title=e}}})],1),e("div",{},[e("ToggleInput",{attrs:{content:t.remove_original,label:t.$t("remove_original"),options:{true:t.$t("remove_original_after_copy"),false:t.$t("keep_original_after_copy")}},on:{"update:content":function(e){t.remove_original=e}}})],1)],1),e("template",{slot:"footer"},[t.is_copying?e("LoaderSpinner"):[e("button",{staticClass:"u-button",attrs:{type:"button"},on:{click:function(e){t.show_modal=!1}}},[e("b-icon",{attrs:{icon:"x-circle"}}),t._v(" "+t._s(t.$t("cancel"))+" ")],1),e("button",{staticClass:"u-button u-button_bleuvert",attrs:{type:"button",autofocus:"",disabled:!t.destination_project_path},on:{click:t.confirm}},[t.remove_original?[t._v(" "+t._s(t.$t("move"))+" ")]:[t._v(" "+t._s(t.$t("duplicate"))+" ")]],2)]],2)]],2):t._e()],1)},o=[],r=(i(74423),i(44114),i(87e3)),l={props:{path:String,source_title:String,publication:Object},components:{SpaceProjectPicker:r.A},data(){return{navigation_to_copy:!1,show_modal:!1,destination_project_path:void 0,remove_original:!1,new_title:this.$t("copy_of")+" "+this.source_title,is_copying:!1}},created(){},async mounted(){},beforeDestroy(){},watch:{show_modal(){this.show_modal&&(this.navigation_to_copy=void 0)}},computed:{project_medias_to_copy(){return this.publication.$files.reduce(((t,e)=>(Object.prototype.hasOwnProperty.call(e,"source_medias")&&e.source_medias.map((e=>{const i=this.getSourceMedia({source_media:e,folder_path:this.publication.$path});t.includes(i.$path)||t.push(i.$path)})),t)),[])}},methods:{async confirm(){this.is_copying=!0;const t=this.destination_project_path+"/publications",e=await this.$api.copyFolder({path:this.path,path_to_destination_type:t,new_meta:{title:this.new_title}}).catch((t=>{throw"unique_field_taken"===t?(this.$alertify.delay(4e3).error(this.$t("title_taken")),this.$refs.titleInput.$el.querySelector("input").select()):"not_allowed_to_copy_to_space"===t&&this.$alertify.delay(4e3).error(this.$t("not_allowed_to_copy_to_space")),this.is_copying=!1,"fail"})),i=await this.$api.getFolder({path:e});if(this.$alertify.closeLogOnClick(!0).delay(4e3).success("publication_copy_success"),this.getParent(this.path)!==this.destination_project_path+"/publications"){this.$alertify.closeLogOnClick(!0).delay(4e3).log("has_linked_media_to_copy");for(let t of this.project_medias_to_copy){const n=await this.$api.copyFile({path:t,path_to_destination_folder:this.destination_project_path,new_meta:{group:"imported_from_"+e}}).catch((t=>{this.$alertify.delay(4e3).error(t)})),s=this.getFilename(t);if(n!==s)for(let t of i.$files){if(!Object.prototype.hasOwnProperty.call(t,"source_medias"))continue;if(!t.source_medias.some((t=>t.meta_filename_in_project&&t.meta_filename_in_project===s)))continue;const e=t.source_medias.map((t=>(t.meta_filename_in_project===s&&(t.meta_filename_in_project=n),t)));await this.$api.updateMeta({path:t.$path,new_meta:{source_medias:e}})}}this.$alertify.closeLogOnClick(!0).delay(4e3).success("linked media copied")}let n={};n.projectpanes=JSON.stringify([{type:"publish",size:100,folder:this.getFilename(i.$path)}]);const s={path:this.createURLFromPath(this.destination_project_path),query:n};this.remove_original?(this.is_copying=!1,await this.$api.deleteItem({path:this.path}),this.$emit("close")):(this.is_copying=!1,this.navigation_to_copy=this.$router.resolve(s).href)}}},c=l,p=i(81656),d=(0,p.A)(c,a,o,!1,null,"bd5eae30",null),h=d.exports,u=function(){var t=this,e=t._self._c;return e("BaseModal2",{attrs:{title:t.modal_title},on:{close:function(e){return t.$emit("close")}}},[e("div",{staticClass:"u-spacingBottom"},[e("DLabel",{attrs:{str:t.$t("document_type")}}),e("RadioCheckboxInput",{attrs:{value:t.export_mode,options:t.export_options,can_edit:!0},on:{"update:value":function(e){t.export_mode=e}}})],1),"png"===t.export_mode?["page_by_page"===t.publication.template?[e("div",{staticClass:"u-spacingBottom"}),e("div",{},[e("DLabel",{attrs:{str:t.$t("page_to_export")}}),e("select",{directives:[{name:"model",rawName:"v-model",value:t.page_to_export_as_image,expression:"page_to_export_as_image"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.page_to_export_as_image=e.target.multiple?i:i[0]}}},t._l(new Array(t.page_count),(function(i,n){return e("option",{key:n+1,domProps:{textContent:t._s(n+1)}})})),0)],1)]:t._e()]:t._e(),e("template",{slot:"footer"},[e("div"),e("button",{staticClass:"u-button u-button_bleuvert",attrs:{type:"button"},on:{click:function(e){return t.exportPublication(t.export_mode)}}},[e("b-icon",{attrs:{icon:t.export_mode_icon}}),t._v(" "+t._s(t.$t("create"))+" ")],1)]),t.task_instructions?e("ExportItemAndSaveOrDownload",{attrs:{publication_path:t.publication.$path,instructions:t.task_instructions},on:{close:function(e){t.task_instructions=!1}}}):t._e()],2)},_=[],f=function(){var t=this,e=t._self._c;return e("BaseModal2",{on:{close:t.removeAndCloseModal}},[t.is_exporting?[e("div",{staticClass:"u-instructions"},[t._v(" "+t._s(t.$t("export_in_progress"))+" ")]),e("div",{},[e("b",[e("AnimatedCounter",{attrs:{value:t.task_progress}})],1)])]:[t.created_doc?["webpage"===t.instructions.recipe?e("div",{staticClass:"u-instructions",domProps:{innerHTML:t._s(t.$t("webpage_export_instructions"))}}):e("MediaContent",{staticClass:"_preview",attrs:{file:t.created_doc,resolution:1600,context:"full"}}),e("div",{staticClass:"u-spacingBottom"}),e("ShowExportedFileInfos",{attrs:{file:t.created_doc}}),e("a",{staticClass:"u-buttonLink",attrs:{disabled:!t.export_href,download:t.created_doc.$media_filename,href:t.export_href,target:"_blank"}},[t._v(" "+t._s(t.$t("download"))+" ")])]:t._e(),e("template",{slot:"footer"},[e("button",{staticClass:"u-button",attrs:{type:"button"},on:{click:t.removeAndCloseModal}},[e("b-icon",{attrs:{icon:"arrow-left-short"}}),t._v(" "+t._s(t.$t("back"))+" ")],1),e("button",{staticClass:"u-button u-button_red",attrs:{type:"button"},on:{click:t.saveToProject}},[e("span",{staticClass:"u-icon",domProps:{innerHTML:t._s(t.dodoc_icon_collect)}}),t._v(" "+t._s(t.$t("save_to_project"))+" ")])])]],2)},m=[],v=i(34928),g={props:{publication_path:String,instructions:Object},components:{ShowExportedFileInfos:v.A},data(){return{is_exporting:!1,created_doc:void 0,task_progress:0}},created(){},async mounted(){await this.startExport()},beforeDestroy(){},watch:{},computed:{export_href(){return!!this.created_doc&&this.makeMediaFileURL({$path:this.created_doc.$path,$media_filename:this.created_doc.$media_filename})}},methods:{async startExport(){const t=await this.$api.exportFolder({path:this.publication_path,instructions:this.instructions});this.$api.join({room:"task_"+t}),this.$alertify.delay(4e3).log(this.$t("compilation_started")),this.is_exporting=!0;const e=({task_id:e,progress:i})=>{e===t&&(this.task_progress=i)};this.$eventHub.$on("task.status",e);const i=({task_id:e,message:n})=>{e===t&&(this.$eventHub.$off("task.ended",i),this.$api.leave({room:"task_"+t}),"completed"===n.event?this.created_doc=n.file:"aborted"===n.event||"failed"===n.event&&n.info,this.is_exporting=!1)};this.$eventHub.$on("task.ended",i)},async saveToProject(){this.$eventHub.$emit("pane.animate","collect"),this.$alertify.closeLogOnClick(!0).delay(4e3).success(this.$t("media_was_saved_to_project")),this.$emit("close")},removeAndCloseModal(){this.created_doc&&this.$api.deleteItem({path:this.created_doc.$path}),this.$emit("close")}}},b=g,y=(i(35466),(0,p.A)(b,f,m,!1,null,"3a0700a8",null)),w=y.exports,x={props:{modal_title:String,publication:Object,page_opened_id:String},components:{ExportItemAndSaveOrDownload:w},data(){return{task_instructions:!1,page_to_export_as_image:1,export_mode:"pdf",export_options:[{key:"pdf",label:this.$t("pdf")},{key:"png",label:this.$t("image")},{key:"webpage",label:this.$t("webpage")}]}},created(){if(this.page_opened_id&&this.publication.pages){const t=this.publication.pages.findIndex((t=>t.id===this.page_opened_id));t&&(this.page_to_export_as_image=t+1)}},mounted(){},beforeDestroy(){},watch:{},computed:{page_count(){return this.publication.pages.length},export_mode_icon(){return"pdf"===this.export_mode?"file-pdf":"png"===this.export_mode?"file-earmark-image":"webpage"===this.export_mode?"window":void 0}},methods:{async exportPublication(t){const e={$origin:"publish"};e.$credits=this.$t("created_by_publication",{publication_title:this.publication.title}),this.connected_as?.$path&&(e.$authors=[this.connected_as.$path]);let i={recipe:t,page_width:this.publication.page_width,page_height:this.publication.page_height,layout_mode:this.publication.layout_mode||"print",suggested_file_name:this.publication.title,additional_meta:e};"webpage"===t&&(i.layout_mode="screen"),"page_by_page"===this.publication.template&&"png"===this.export_mode&&(i.page=this.page_to_export_as_image),!0===this.publication.page_spreads&&(i.page_width*=2),this.task_instructions=i}}},k=x,$=(0,p.A)(k,u,_,!1,null,"cd9153c6",null),C=$.exports,P={props:{publication:Object,page_opened_id:String,no_back_button:Boolean,can_edit:Boolean},components:{DuplicatePublication:h,ExportPubliModal:C},data(){return{show_export_pdf_modal:!1,show_qr_code_modal:!1,is_exporting:!1}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{share_url(){let t={};"page_by_page"===this.publication.template?t={display:"slides"}:("story_with_sections"===this.publication.template||"cartography"===this.publication.template)&&(t={display:"section"});const e=this.$router.resolve({path:this.createURLFromPath(this.publication.$path),query:t});return window.location.origin+e.href}},methods:{async removePublication(){this.fetch_status="pending",this.fetch_error=null;try{const t=await this.$api.deleteItem({path:this.publication.$path});this.response=t.data,this.fetch_status="success"}catch(t){this.fetch_status="error",this.fetch_error=t.response.data}},async setCorrectPermForAdmins(){await this.$api.updateMeta({path:this.publication.$path,new_meta:{$admins:"parent_contributors"}})},openSettings(){this.$eventHub.$emit("publication.settings.toggle")},closeSettings(){this.$eventHub.$emit("publication.settings.close")}}},j=P,S=(i(73932),(0,p.A)(j,n,s,!1,null,"4d06861e",null)),M=S.exports},55305:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return Lt}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"_projectView"},[e("transition",{attrs:{name:"fade_fast",mode:"out-in"}},[t.is_loading?e("div",{key:"loader",staticClass:"u-divCentered"},[e("LoaderSpinner")],1):t.fetch_project_error_message?e("div",{key:"err"},[e("div",{staticClass:"u-instructions _errNotice"},[t._v(" "+t._s(t.fetch_project_error_message)+" ")])]):e("div",{key:"project"},[e("div",{staticClass:"_topContent"},[t.can_contribute_to_project?e("div",{staticClass:"u-displayAsPublic"},[e("div",{staticClass:"_sticky"},[e("div",{staticClass:"_content"},[e("ToggleInput",{attrs:{content:t.display_as_public,label:t.$t("display_as_public")},on:{"update:content":function(e){t.display_as_public=e}}})],1)])]):t._e(),e("ProjectPresentation",{attrs:{project:t.project,context:"full",can_edit:t.can_edit_project&&!t.display_as_public}})],1),e("div",{staticClass:"_projectPanesAndList"},[t.can_contribute_to_project&&!t.display_as_public?e("PaneList2",{staticClass:"_paneList",attrs:{can_edit:t.can_contribute_to_project&&!t.display_as_public,project:t.project,panes:t.projectpanes},on:{"update:panes":function(e){t.projectpanes=e}}}):e("hr",{staticClass:"_separator"}),e("div",{staticClass:"_panes"},[e("ProjectPanes",{attrs:{projectpanes:t.projectpanes,project:t.project,can_edit_project:t.can_contribute_to_project&&!t.display_as_public},on:{"update:projectpanes":function(e){t.projectpanes=e}}})],1)],1)])])],1)},s=[],a=(i(44114),i(99031)),o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"_paneList",class:{"is--mobile":t.$root.is_mobile_view,"has--noPanes":0===t.project_panes.length}},[e("span",{staticClass:"_paneList2",attrs:{label:"Panneaux"}},[t.$root.is_mobile_view?t._e():e("div",{staticClass:"_projectTitle",class:{"is--shown":t.is_stickied_to_top}},[e("button",{staticClass:"u-button u-button_transparent",attrs:{type:"button"},on:{click:t.scrollToTop}},[e("b-icon",{attrs:{icon:"arrow-up"}}),e("span",[t._v(" "+t._s(t.project.title)+" ")])],1)]),e("span",{ref:"drawer",staticClass:"_projectPanes",attrs:{placement:"top"}},[t.can_edit?e("SlickList",{staticClass:"_paneList--list",attrs:{axis:"x",useDragHandle:!0},model:{value:t.project_panes,callback:function(e){t.project_panes=e},expression:"project_panes"}},t._l(t.possible_project_panes,(function(i,n){return e("SlickItem",{key:i.type,staticClass:"_paneItem",class:{"is--enabled":t.paneIsEnabled(i.type),"is--animating":t.animate_pane===i.type},style:`--color-active: var(--color-${i.type});`,attrs:{index:n}},[e("div",{ref:`pane_${i.type}`,refInFor:!0,staticClass:"_btn",on:{click:function(e){return t.replacePane(i)}}},[t.getIcon(i.type)?e("span",{staticClass:"u-icon",domProps:{innerHTML:t._s(t.getIcon(i.type))}}):t._e(),t.paneIsEnabled(i.type)||!t.$root.is_mobile_view?e("span",{key:"'name'",staticClass:"_name"},[t._v(" "+t._s(n+1)+" • "+t._s(t.$t(i.type))+" ")]):t._e(),e("transition",{attrs:{name:"fade",mode:"out-in"}},[t.animate_pane===i.type?e("span",{key:"'count+'",staticClass:"_count"},[t._v(" +1 ")]):t.project_panes.some((t=>t.type===i.type))?e("div",{staticClass:"_inlineBtn _removePaneBtn"},[e("b-icon",{attrs:{icon:"x-circle-fill",label:t.$t("close")},on:{click:function(e){return e.stopPropagation(),t.removePane(i.type)}}})],1):t.project_panes.length>0&&!t.$root.is_mobile_view?e("div",{staticClass:"_inlineBtn _addPaneBtn"},[e("b-icon",{attrs:{icon:"plus-circle-fill",label:t.$t("add")},on:{click:function(e){return e.stopPropagation(),t.addPane(i)}}})],1):t._e()])],1)])})),1):t._e()],1),t.$root.is_mobile_view?t._e():e("span")])])},r=[],l=i(55721),c={props:{panes:Array,project:Object,can_edit:Boolean},components:{SlickItem:l.SlickItem,SlickList:l.SlickList},directives:{handle:l.HandleDirective},data(){return{show_panelist:!1,is_stickied_to_top:!1,project_panes:[],possible_project_panes:[{type:"capture"},{type:"collect"},{type:"make"},{type:"publish"}],animate_pane:!1,animate_pane_timeout:null}},created(){},mounted(){this.$eventHub.$on("pane.animate",this.animatePane),this.$eventHub.$on("pane.replacePane",this.replacePane),document.addEventListener("scroll",this.detectTopOfWindow)},beforeDestroy(){this.$eventHub.$off("pane.animate",this.animatePane),this.$eventHub.$off("pane.replacePane",this.replacePane),document.removeEventListener("scroll",this.detectTopOfWindow)},watch:{panes:{handler(){this.project_panes=this.panes.slice()},deep:!0,immediate:!0},project_panes:{handler(){if(JSON.stringify(this.project_panes)===JSON.stringify(this.panes))return!1;this.project_panes=this.project_panes.map((t=>(0===t.size&&(t.size=20),t))),this.$emit("update:panes",this.project_panes)},deep:!0}},computed:{cover_thumb(){return this.makeRelativeURLFromThumbs({$thumbs:this.project.$cover,$type:"image",$path:this.project.$path,resolution:50})}},methods:{detectTopOfWindow(){this.$el.getBoundingClientRect().y<=10?this.is_stickied_to_top=!0:this.is_stickied_to_top=!1},scrollToTop(){document.body.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},removePane(t){this.project_panes=this.project_panes.filter((e=>e.type!==t))},paneIsEnabled(t){return this.project_panes.some((e=>e.type===t))},replacePane(t){this.project_panes=[],this.addPane(t)},addPane(t){console.log("PaneList2 / addPane"),this.$nextTick((()=>{this.$el.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}));let e=JSON.parse(JSON.stringify(this.project_panes));e.push(t);const i=this.possible_project_panes.map((t=>t.type));e.sort(((t,e)=>i.indexOf(t.type)-i.indexOf(e.type))),e=e.map((t=>(t.size=100/e.length,t))),this.project_panes=e},getIcon(t){return"capture"===t?this.dodoc_icon_capture:"collect"===t?this.dodoc_icon_collect:"make"===t?this.dodoc_icon_make:"publish"===t&&this.dodoc_icon_publish},animatePane(t){this.animate_pane=t,this.animate_pane_timeout&&clearTimeout(this.animate_pane_timeout),this.animate_pane_timeout=setTimeout((()=>{this.animate_pane=!1,this.animate_pane_timeout=null}),2e3)}}},p=c,d=(i(26385),i(81656)),h=(0,d.A)(p,o,r,!1,null,"c8262318",null),u=h.exports,_=function(){var t=this,e=t._self._c;return e("div",{staticClass:"_projetPanes",class:{"has--multiplePanes":t.can_edit_project,"is--editable":t.can_edit_project},on:{click:t.scrollToPanes}},[e("splitpanes",{attrs:{"watch-slots":"","dbl-click-splitter":!1},on:{resized:t.resized}},[0===t.projectpanes.length?[e("pane",[e("div",{staticClass:"_msg"},[e("div",{staticClass:"u-sameRow u-instructions"},[e("b-icon",{attrs:{icon:"arrow-up-short"}}),t._v(" "+t._s(t.$t("choose_a_pane"))+" "),e("b-icon",{attrs:{icon:"arrow-up-short"}})],1),e("br"),e("br"),e("br"),e("div",{staticClass:"u-spacingBottom"},[e("DateDisplay",{attrs:{title:t.$t("date_created"),date:t.project.$date_created}}),e("DateDisplay",{attrs:{title:t.$t("date_modified"),date:t.project.$date_modified}})],1),t.$root.app_infos.is_electron&&t.is_instance_admin?e("div",{},[e("div",{staticClass:"u-spacingBottom"}),e("DLabel",{attrs:{str:t.$t("open_in_finder")}}),e("button",{staticClass:"u-button u-button_bleumarine u-button_small",attrs:{type:"button"},domProps:{innerHTML:t._s(t.project_path_wrappable)},on:{click:function(e){return t.openInFinder({path:t.project.$path})}}})],1):t._e(),e("br"),e("DLabel",{attrs:{str:t.$t("latest_changes_to_project")}}),e("div",{staticClass:"u-instructions"},[e("small",[t._v(" "+t._s(t.$t("waiting"))+" ")])])],1)])]:t._e(),t._l(t.projectpanes,(function(i){return e("pane",{key:i.type,staticClass:"_pane",style:`--color-type: var(--color-${i.type});`,attrs:{"min-size":"5",size:i.size,"data-size":i.size}},[(t.can_edit_project,t._e()),"capture"===i.type?e("CapturePane",{attrs:{project:t.project,selected_mode:i.mode,stopmotion_slug:i.stopmotion},on:{"update:selected_mode":function(e){return t.setItem(i,"mode",e)},"update:stopmotion_slug":function(e){return t.setItem(i,"stopmotion",e)}}}):"collect"===i.type?e("MediaLibrary",{key:i.key,attrs:{project:t.project,media_focused:i.focus},on:{"update:media_focused":function(e){return t.setItem(i,"focus",e)}}}):t._e(),"make"===i.type?e("MakePane",{attrs:{project:t.project,opened_make_slug:i.make,can_edit:t.can_edit_project},on:{"update:opened_make_slug":function(e){return t.setItem(i,"make",e)}}}):t._e(),"publish"===i.type?e("PublierPane",{attrs:{project:t.project,publication_opened:i.folder,page_opened_id:i.page_id,can_edit:t.can_edit_project},on:{"update:publication_opened":function(e){return t.setItem(i,"folder",e)},"update:page_opened_id":function(e){return t.setItem(i,"page_id",e)}}}):t._e()],1)}))],2)],1)},f=[],m=i(55313),v=function(){var t=this,e=t._self._c;return e("div",{staticClass:"_capturePane"},[e("CaptureView",{attrs:{path:t.project.$path,selected_mode:t.selected_mode,stopmotion_slug:t.stopmotion_slug},on:{changeMode:function(e){return t.$emit("update:selected_mode",e)},openStopmotion:function(e){return t.$emit("update:stopmotion_slug",e)}}})],1)},g=[],b={props:{project:Object,selected_mode:String,stopmotion_slug:String},components:{CaptureView:()=>i.e(831).then(i.bind(i,42831))},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{}},y=b,w=(i(17531),(0,d.A)(y,v,g,!1,null,"64693681",null)),x=w.exports,k=i(4409),$=function(){var t=this,e=t._self._c;return e("div",{staticClass:"_makePane"},[e("div",{staticClass:"_makePane--content"},[t.opened_make_slug?e("div",[e("MakeOpen",{attrs:{project_path:t.project.$path,make_slug:t.opened_make_slug,can_edit:t.can_edit},on:{remove:t.removeMake,close:function(e){return t.$emit("update:opened_make_slug",!1)}}})],1):e("div",[t.can_edit?e("RadioSwitch",{attrs:{content:t.current_view,options:[{label:t.$t("create"),value:"create"},{label:t.$t("existing"),value:"existing"}]},on:{"update:content":function(e){t.current_view=e}}}):t._e(),e("div",{staticClass:"u-spacingBottom"}),"create"===t.current_view?e("section",[e("div",{staticClass:"m_recipes--type--grid"},t._l(t.recipes,(function(i){return e("div",{key:i.key,staticClass:"u-card2 m_recipe"},[e("div",{staticClass:"m_recipe--icon",domProps:{innerHTML:t._s(i.icon)}}),e("div",{staticClass:"m_recipe--text"},[e("h2",{},[t._v(t._s(t.$t(i.key)))]),e("p",{staticClass:"margin-vert-small"},[e("span",{staticClass:"margin-vert-verysmall",domProps:{innerHTML:t._s(t.$t(i.summary))}}),e("br")]),i.instructions?e("button",{staticClass:"u-buttonLink",class:{"is--active":i.show_instructions},attrs:{type:"button"},on:{click:function(t){i.show_instructions=!i.show_instructions}}},[t._v(" "+t._s(t.$t("more_informations"))+" ")]):t._e(),i.show_instructions?[e("p",[e("span",{domProps:{innerHTML:t._s(t.$t(i.instructions))}})])]:t._e()],2),e("div",{staticClass:"m_recipe--buttons"},[e("button",{staticClass:"u-button u-button_bleumarine",attrs:{type:"button"},on:{click:function(e){return t.createMake(i.key)}}},[e("svg",{staticStyle:{"enable-background":"new 0 0 168 168"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 168 168","xml:space":"preserve"}},[e("polygon",{staticStyle:{fill:"white"},attrs:{points:"132.3,73.4 132.3,94.4 94.6,94.4 94.6,132.1 73.6,132.1 73.6,94.4 35.9,94.4 35.9,73.4 \n\t\t73.6,73.4 73.6,35.7 94.6,35.7 94.6,73.4 \t\t"}})]),e("span",[t._v(t._s(t.$t("create")))])])])])})),0)]):"existing"===t.current_view?e("section",[e("MakesList",{attrs:{project_path:t.project.$path,can_edit:t.can_edit},on:{open:t.openMake}})],1):t._e()],1)])])},C=[],P=function(){var t=this,e=t._self._c;return e("section",{staticClass:"_makesList"},[e("label",{staticClass:"u-label u-colorWhite"},[t._v(" "+t._s(t.$t("makes_list"))+" ")]),e("div",{staticClass:"_makes"},[0===t.sorted_makes.length?e("div",{staticClass:"u-instructions"},[t._v(" "+t._s(t.$t("none_f"))+" ")]):t._l(t.sorted_makes,(function(i){return e("div",{key:i.$path,staticClass:"_makes--item"},[e("span",[e("b",[t._v(" "+t._s(i.title)+" ")]),e("br"),t.getMakeType(i.type)?e("span",[i.type?e("i",[t._v(" "+t._s(t.getMakeType(i.type))+" ")]):t._e()]):t._e()]),e("DateDisplay",{attrs:{title:t.$t("date_created"),date:i.$date_created}}),i.$path?e("button",{staticClass:"u-button",attrs:{type:"button"},on:{click:function(e){t.$emit("open",i.$path.split("/").at(-1))}}},[t._v(" "+t._s(t.$t("open"))+" ")]):t._e()],1)}))],2)])},j=[],S={props:{project_path:String,can_edit:Boolean},components:{},data(){return{path:`${this.project_path}/makes`,makes:[]}},created(){},async mounted(){this.makes=await this.$api.getFolders({path:this.path}),this.$api.join({room:this.path})},beforeDestroy(){this.$api.leave({room:this.path})},watch:{},computed:{sorted_makes(){return this.makes.slice().filter((t=>t.$path&&t.type&&"string"===typeof t.type)).sort(((t,e)=>+new Date(e.$date_created)-+new Date(t.$date_created)))}},methods:{getMakeType(t){return"string"===typeof t&&this.$t(t).toLowerCase()}}},M=S,z=(i(28098),(0,d.A)(M,P,j,!1,null,"6fb40f6a",null)),D=z.exports,E=(i(74423),function(){var t=this,e=t._self._c;return e("div",{staticClass:"_make"},[e("button",{staticClass:"u-buttonLink u-buttonLink_white",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[e("b-icon",{attrs:{icon:"arrow-left-short"}}),t._v(" "+t._s(t.$t("back_to_makes_list"))+" ")],1),t.fetch_make_error?e("div",[t._v(" "+t._s(t.fetch_make_error)+" ")]):t._e(),t.make?e("div",[e("div",{staticClass:"_topbar"},[e("TitleField",{attrs:{field_name:"title",tag:"h2",content:t.make.title,path:t.make.$path,required:!0,minlength:3,maxlength:40,can_edit:t.can_edit}}),t.can_edit?e("RemoveMenu",{on:{remove:t.removeMake}}):t._e()],1),"video_effects"===t.make.type?e("div",[e("div",{staticClass:"_mediaPicker"},[e("SingleBaseMediaPicker",{attrs:{title:t.$t("video_to_rework"),field_name:"base_media_filename",open_modal_if_empty:!0,content:t.make.base_media_filename,path:t.make.$path,media_type_to_pick:"video"}})],1),t.base_media?e("div",{key:t.base_media.$path},[e("VideoEffects",{attrs:{make:t.make,project_path:t.project_path,base_media:t.base_media}})],1):t._e()]):"stopmotion_animation"===t.make.type?e("MakeStopmotionAnimation",{attrs:{make:t.make}}):["mix_audio_and_image","mix_audio_and_video"].includes(t.make.type)?e("MixAudioAndImageOrVideo",{attrs:{make:t.make}}):"video_assemblage"===t.make.type?e("ImageAndVideoMontage",{attrs:{make:t.make}}):"qr_code"===t.make.type?e("QrCode",{attrs:{make:t.make}}):t._e()],1):t._e()])}),A=[],L=i(1592),I={props:{project_path:String,make_slug:String,can_edit:Boolean},components:{SingleBaseMediaPicker:L.A,ImageAndVideoMontage:()=>i.e(728).then(i.bind(i,52728)),VideoEffects:()=>i.e(155).then(i.bind(i,14155)),MakeStopmotionAnimation:()=>i.e(936).then(i.bind(i,87936)),MixAudioAndImageOrVideo:()=>i.e(840).then(i.bind(i,87840)),QrCode:()=>i.e(890).then(i.bind(i,18890))},provide(){return{$getMetaFilenamesAlreadyPresent:()=>this.meta_filenames_already_present}},data(){return{make:null,fetch_make_error:!1}},created(){},async mounted(){await this.listMake(),this.$eventHub.$on("folder.removed",this.closeOnRemove),this.$api.join({room:this.make.$path})},beforeDestroy(){this.$eventHub.$off("folder.removed",this.closeOnRemove),this.$api.leave({room:this.make.$path})},watch:{},computed:{base_media(){const t=this.make.base_media_filename;return!!t&&this.getSourceMedia({source_media:{meta_filename_in_project:t},folder_path:this.make.$path})},meta_filenames_already_present(){if(["stopmotion_animation","video_assemblage"].includes(this.make.type)){const t=this.getSectionsWithProps({publication:this.make,group:"sections_list"}),{other:e}=this.getMediasAlreadyPresentInPublication({publication:this.make,sections:t});return[{label:this.$t("in_this_make"),medias:e,color:"var(--c-bleumarine)"}]}let t=[];return this.make.base_media_filename&&t.push(this.make.base_media_filename),this.make.base_image_filename&&t.push(this.make.base_image_filename),this.make.base_video_filename&&t.push(this.make.base_video_filename),this.make.base_audio_filename&&t.push(this.make.base_audio_filename),t.length>0?[{label:this.$t("in_this_make"),medias:t,color:"var(--c-bleumarine)"}]:[]}},methods:{async listMake(){const t=await this.$api.getFolder({path:`${this.project_path}/makes/${this.make_slug}`}).catch((t=>{this.fetch_make_error=t.response}));this.make=t},closeOnRemove({path:t}){t===this.make.$path&&(this.$alertify.closeLogOnClick(!0).delay(4e3).log(this.$t("make_was_removed")),this.$emit("close"))},async removeMake(){this.fetch_status="pending",this.fetch_error=null;try{const t=await this.$api.deleteItem({path:this.make.$path});this.response=t.data,this.fetch_status="success"}catch(t){this.fetch_status="error",this.fetch_error=t.response.data}}}},T=I,F=(i(27112),(0,d.A)(T,E,A,!1,null,"2691bbd8",null)),O=F.exports,B={props:{can_edit:Boolean,opened_make_slug:String,project:Object},components:{MakesList:D,MakeOpen:O},data(){return{current_view:"create",recipes:[{key:"video_assemblage",summary:"video_assemblage_summary",show_instructions:!1,instructions:"video_assemblage_instructions",icon:'\n                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 201 201">\n                  <g id="Calque_6" data-name="Calque 6">\n                    <g>\n                      <g>\n                        <rect x="68.73" y="12.93" width="63.54" height="72" style="fill: #fff"/>\n                        <rect x="73.23" y="17.52" width="53.94" height="43.04" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 2.161211202864444px"/>\n                        <rect x="72.36" y="66.15" width="31.66" height="4.99" style="fill: #353535"/>\n                        <rect x="72.36" y="73.43" width="23.67" height="4.99" style="fill: #353535"/>\n                        <path d="M94.24,47.59c-.7.45-1.28.14-1.28-.69V31.19c0-.83.58-1.14,1.28-.69l11.92,7.72a.91.91,0,0,1,0,1.65Z" style="fill: #353535"/>\n                      </g>\n                      <g>\n                        <rect x="68.73" y="114.16" width="63.54" height="72" style="fill: #fff"/>\n                        <rect x="73.23" y="118.76" width="53.94" height="43.04" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 2.161211202864444px"/>\n                        <rect x="72.36" y="167.38" width="31.66" height="4.99" style="fill: #353535"/>\n                        <rect x="72.36" y="174.66" width="23.67" height="4.99" style="fill: #353535"/>\n                        <path d="M94.24,148.82c-.7.46-1.28.14-1.28-.69v-15.7c0-.84.58-1.15,1.28-.7l11.92,7.72a.91.91,0,0,1,0,1.65Z" style="fill: #353535"/>\n                      </g>\n                      <path d="M101.87,98.27h4.24v2.54h-4.24v4.33H99.11v-4.33H94.89V98.27h4.22V94h2.76Z" style="fill: #fff"/>\n                    </g>\n                  </g>\n                </svg>\n              '},{key:"video_effects",summary:"video_effects_summary",show_instructions:!1,instructions:"video_effects_instructions",icon:'\n                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 201 201">\n                  <g id="Calque_6" data-name="Calque 6">\n                    <rect y="0.53" width="201" height="201" style="fill: none"/>\n                    <g>\n                      <g>\n                        <rect x="107.44" y="30.53" width="63.54" height="72" style="fill: #fff"/>\n                        <rect x="111.93" y="35.12" width="53.94" height="43.04" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 2.16121px"/>\n                        <rect x="111.07" y="83.75" width="31.66" height="4.99" style="fill: #353535"/>\n                        <rect x="111.07" y="91.03" width="23.67" height="4.99" style="fill: #353535"/>\n                        <path d="M132.94,65.19c-.7.45-1.27.14-1.27-.69V48.79c0-.83.57-1.14,1.27-.69l11.92,7.72a.91.91,0,0,1,0,1.65Z" style="fill: #353535"/>\n                      </g>\n                      <g>\n                        <path d="M79.06,120.65,66.93,132.77,27.07,172.64l5.46,5.46,52-52Z"/>\n                        <path d="M79.15,116.75a1.29,1.29,0,0,0,1.29-1.28v-9a1.29,1.29,0,0,0-2.58,0v9A1.29,1.29,0,0,0,79.15,116.75Z"/>\n                        <path d="M79.15,134.8a1.29,1.29,0,0,0-1.29,1.29v9a1.29,1.29,0,1,0,2.58,0v-9A1.29,1.29,0,0,0,79.15,134.8Z"/>\n                        <path d="M98.48,124.49h-9a1.29,1.29,0,0,0,0,2.58h9a1.29,1.29,0,0,0,0-2.58Z"/>\n                        <path d="M59.81,127.07h9a1.29,1.29,0,0,0,0-2.58h-9a1.29,1.29,0,0,0,0,2.58Z"/>\n                        <path d="M86.88,119.33a1.35,1.35,0,0,0,.92-.37l6.38-6.38a1.29,1.29,0,1,0-1.82-1.82L86,117.14a1.28,1.28,0,0,0,.9,2.19Z"/>\n                        <path d="M87.8,132.59A1.29,1.29,0,0,0,86,134.41l6.38,6.38a1.26,1.26,0,0,0,.91.38,1.31,1.31,0,0,0,.92-.38,1.29,1.29,0,0,0,0-1.82Z"/>\n                        <path d="M70.51,119a1.26,1.26,0,0,0,.92.37,1.34,1.34,0,0,0,.91-.37,1.27,1.27,0,0,0,0-1.82L66,110.76a1.28,1.28,0,0,0-1.81,1.82Z"/>\n                      </g>\n                    </g>\n                    <rect x="23.93" y="153.7" width="52.51" height="2.57" transform="translate(-94.89 80.88) rotate(-45)" style="fill: #fff"/>\n                    <rect x="68.62" y="128.62" width="13.29" height="2.57" transform="translate(-69.81 91.27) rotate(-45)" style="fill: #fff"/>\n                    <rect width="201" height="201" style="fill: none"/>\n                  </g>\n                </svg>\n              '},{key:"stopmotion_animation",summary:"stopmotion_animation_summary",show_instructions:!1,instructions:"stopmotion_animation_instructions",icon:'\n                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 201 201">\n                  <g id="Calque_6" data-name="Calque 6">\n                    <g>\n                      <g>\n                        <g>\n                          <g>\n                            <rect x="25.5" y="9.92" width="50" height="46.04" style="fill: #fff"/>\n                            <rect x="29.04" y="13.24" width="42.45" height="31.19" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 1.6319287679171661px"/>\n                          </g>\n                          <text transform="translate(46.15 33.42)" style="font-size: 14.490870475769043px;font-family: FiraCode-Medium, Fira Code;font-weight: 500">1</text>\n                        </g>\n                        <g>\n                          <g>\n                            <rect x="75.5" y="9.92" width="50" height="46.04" style="fill: #fff"/>\n                            <rect x="79.04" y="13.24" width="42.45" height="31.19" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 1.6319287679171661px"/>\n                          </g>\n                          <text transform="translate(96.15 33.42)" style="font-size: 14.490870475769043px;font-family: FiraCode-Medium, Fira Code;font-weight: 500">2</text>\n                        </g>\n                        <g>\n                          <g>\n                            <rect x="125.5" y="9.92" width="50" height="46.04" style="fill: #fff"/>\n                            <rect x="129.04" y="13.24" width="42.45" height="31.19" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 1.6319287679171661px"/>\n                          </g>\n                          <text transform="translate(146.15 33.42)" style="font-size: 14.490870475769043px;font-family: FiraCode-Medium, Fira Code;font-weight: 500">3</text>\n                        </g>\n                      </g>\n                      <g>\n                        <g>\n                          <g>\n                            <rect x="25.5" y="77.48" width="50" height="46.04" style="fill: #fff"/>\n                            <rect x="29.04" y="80.81" width="42.45" height="31.19" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 1.6319287679171661px"/>\n                          </g>\n                          <text transform="translate(46.15 100.99)" style="font-size: 14.490870475769043px;font-family: FiraCode-Medium, Fira Code;font-weight: 500">5</text>\n                        </g>\n                        <g>\n                          <g>\n                            <rect x="75.5" y="77.48" width="50" height="46.04" style="fill: #fff"/>\n                            <rect x="79.04" y="80.81" width="42.45" height="31.19" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 1.6319287679171661px"/>\n                          </g>\n                          <text transform="translate(96.15 100.99)" style="font-size: 14.490870475769043px;font-family: FiraCode-Medium, Fira Code;font-weight: 500">6</text>\n                        </g>\n                        <g>\n                          <g>\n                            <rect x="125.5" y="77.48" width="50" height="46.04" style="fill: #fff"/>\n                            <rect x="129.04" y="80.81" width="42.45" height="31.19" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 1.6319287679171661px"/>\n                          </g>\n                          <text transform="translate(146.15 100.99)" style="font-size: 14.490870475769043px;font-family: FiraCode-Medium, Fira Code;font-weight: 500">7</text>\n                        </g>\n                      </g>\n                      <g>\n                        <g>\n                          <g>\n                            <rect x="25.5" y="145.05" width="50" height="46.04" style="fill: #fff"/>\n                            <rect x="29.04" y="148.38" width="42.45" height="31.19" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 1.6319287679171661px"/>\n                          </g>\n                          <text transform="translate(46.15 168.55)" style="font-size: 14.490870475769043px;font-family: FiraCode-Medium, Fira Code;font-weight: 500">9</text>\n                        </g>\n                        <g>\n                          <g>\n                            <rect x="75.5" y="145.05" width="50" height="46.04" style="fill: #fff"/>\n                            <rect x="79.04" y="148.38" width="42.45" height="31.19" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 1.6319287679171661px"/>\n                          </g>\n                          <text transform="translate(91.81 168.55)" style="font-size: 14.490870475769043px;font-family: FiraCode-Medium, Fira Code;font-weight: 500">10</text>\n                        </g>\n                      </g>\n                    </g>\n                  </g>\n                </svg>\n          '},{key:"mix_audio_and_video",summary:"mix_audio_and_video_summary",show_instructions:!1,instructions:"mix_audio_and_video_instructions",icon:'\n                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 201 201">\n                  <g id="Calque_6" data-name="Calque 6">\n                    <g>\n                      <g>\n                        <rect x="68.88" y="30.28" width="63.54" height="72" style="fill: #fff"/>\n                        <rect x="73.38" y="34.87" width="53.94" height="43.04" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 2.161211202864444px"/>\n                        <rect x="72.52" y="83.5" width="31.66" height="4.99" style="fill: #353535"/>\n                        <rect x="72.52" y="90.78" width="23.67" height="4.99" style="fill: #353535"/>\n                        <path d="M94.39,64.94c-.7.45-1.28.14-1.28-.69V48.54c0-.83.58-1.14,1.28-.69l11.92,7.72a.91.91,0,0,1,0,1.65Z" style="fill: #353535"/>\n                      </g>\n                      <g>\n                        <rect x="68.58" y="134.72" width="63.54" height="36" style="fill: #fff"/>\n                        <rect x="72.21" y="153.34" width="31.66" height="4.99" style="fill: #353535"/>\n                        <rect x="72.21" y="160.62" width="23.67" height="4.99" style="fill: #353535"/>\n                        <g>\n                          <line x1="73.38" y1="143.52" x2="127.32" y2="143.52" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 2.161211202864444px"/>\n                          <g>\n                            <path d="M94.69,151c-.28.18-.51.06-.51-.28V137c0-.34.23-.46.51-.28l10.56,6.84a.36.36,0,0,1,0,.66Z" style="fill: #353535"/>\n                            <path d="M94.69,151c-.28.18-.51.06-.51-.28V137c0-.34.23-.46.51-.28l10.56,6.84a.36.36,0,0,1,0,.66Z" style="fill: none;stroke: #fff;stroke-miterlimit: 10;stroke-width: 2px"/>\n                          </g>\n                          <circle cx="74.38" cy="143.52" r="2.58" style="fill: #353535"/>\n                          <circle cx="126.32" cy="143.52" r="2.58" style="fill: #353535"/>\n                        </g>\n                      </g>\n                      <path d="M102,117.63h4.24v2.54H102v4.32H99.27v-4.32H95v-2.54h4.23V113.3H102Z" style="fill: #fff"/>\n                    </g>\n                  </g>\n                </svg>\n              '},{key:"mix_audio_and_image",summary:"mix_audio_and_image_summary",show_instructions:!1,instructions:"mix_audio_and_image_instructions",icon:'\n                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 201 201">\n                  <g id="Calque_6" data-name="Calque 6">\n                    <g>\n                      <g>\n                        <rect x="68.88" y="30.28" width="63.54" height="62" style="fill: #fff"/>\n                        <rect x="73.38" y="34.87" width="53.94" height="43.04" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 2.16121120286444px"/>\n                      </g>\n                      <g>\n                        <rect x="68.58" y="124.72" width="63.54" height="36" style="fill: #fff"/>\n                        <rect x="72.21" y="143.34" width="31.66" height="4.99" style="fill: #353535"/>\n                        <rect x="72.21" y="150.62" width="23.67" height="4.99" style="fill: #353535"/>\n                        <g>\n                          <line x1="73.38" y1="133.52" x2="127.32" y2="133.52" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 2.16121120286444px"/>\n                          <g>\n                            <path d="M94.69,141c-.28.18-.51.06-.51-.28V127c0-.34.23-.46.51-.28l10.56,6.84a.36.36,0,0,1,0,.66Z" style="fill: #353535"/>\n                            <path d="M94.69,141c-.28.18-.51.06-.51-.28V127c0-.34.23-.46.51-.28l10.56,6.84a.36.36,0,0,1,0,.66Z" style="fill: none;stroke: #fff;stroke-miterlimit: 10;stroke-width: 2px"/>\n                          </g>\n                          <circle cx="74.38" cy="133.52" r="2.58" style="fill: #353535"/>\n                          <circle cx="126.32" cy="133.52" r="2.58" style="fill: #353535"/>\n                        </g>\n                      </g>\n                      <path d="M102,107.63h4.24v2.54H102v4.32H99.27v-4.32H95v-2.54h4.23V103.3H102Z" style="fill: #fff"/>\n                    </g>\n                  </g>\n                </svg>\n              '},{key:"qr_code",summary:"qr_code_summary",show_instructions:!1,icon:'\n            <svg\n              xmlns="http://www.w3.org/2000/svg"\n              viewBox="-8 -8 32 32"\n            >\n              <rect x="-2" y="-2" width="20" height="20" fill="white"></rect>\n              <path d="M2 2h2v2H2V2Z"></path>\n              <path d="M6 0v6H0V0h6ZM5 1H1v4h4V1ZM4 12H2v2h2v-2Z"></path>\n              <path d="M6 10v6H0v-6h6Zm-5 1v4h4v-4H1Zm11-9h2v2h-2V2Z"></path>\n              <path\n                d="M10 0v6h6V0h-6Zm5 1v4h-4V1h4ZM8 1V0h1v2H8v2H7V1h1Zm0 5V4h1v2H8ZM6 8V7h1V6h1v2h1V7h5v1h-4v1H7V8H6Zm0 0v1H2V8H1v1H0V7h3v1h3Zm10 1h-1V7h1v2Zm-1 0h-1v2h2v-1h-1V9Zm-4 0h2v1h-1v1h-1V9Zm2 3v-1h-1v1h-1v1H9v1h3v-2h1Zm0 0h3v1h-2v1h-1v-2Zm-4-1v1h1v-2H7v1h2Z"\n              ></path>\n              <path d="M7 12h1v3h4v1H7v-4Zm9 2v2h-3v-1h2v-1h1Z"></path>\n            </svg>\n          '}]}},created(){this.$eventHub.$on("make.open",this.openMake)},mounted(){},beforeDestroy(){this.$eventHub.$off("make.open",this.openMake)},watch:{},computed:{},methods:{async createMake(t){const e=(Math.random().toString(36)+"00000000000000000").slice(2,5),i=this.$t(t)+" - "+e,n=await this.$api.createFolder({path:`${this.project.$path}/makes`,additional_meta:{type:t,title:i,requested_slug:i,$admins:"parent_contributors"}});this.openMake(n)},openMake(t){this.$emit("update:opened_make_slug",t)},removeMake(t){}}},H=B,R=(i(40473),(0,d.A)(H,$,C,!1,null,"5dede47a",null)),N=R.exports,V=function(){var t=this,e=t._self._c;return e("div",{staticClass:"_publierPane",class:{"is--editable":t.can_edit}},[t.publication_opened?e("PublicationOpen",{attrs:{project_path:t.project.$path,publication_slug:t.publication_opened,page_opened_id:t.page_opened_id,can_edit:t.can_edit},on:{togglePage:function(e){return t.$emit("update:page_opened_id",e)},close:function(e){t.$emit("update:publication_opened",!1),t.$emit("update:page_opened_id",!1)}}}):e("PublicationsList",{attrs:{project:t.project,can_edit:t.can_edit},on:{togglePubli:function(e){return t.$emit("update:publication_opened",e)}}})],1)},Z=[],q=function(){var t=this,e=t._self._c;return e("div",{staticClass:"_publicationsList"},[e("div",{staticClass:"_topBtn"},[e("div",{staticClass:"u-sameRow"},[e("DLabel",{attrs:{str:t.$t("publications"),tag:"h2"}}),t.can_edit?e("button",{staticClass:"u-button u-button_bleuvert",attrs:{type:"button"},on:{click:function(e){t.show_create_publication=!0}}},[e("svg",{staticStyle:{"enable-background":"new 0 0 168 168"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 168 168","xml:space":"preserve"}},[e("path",{staticStyle:{fill:"var(--color-publish)"},attrs:{d:"M24.6,24.4c-32.8,32.8-32.8,86.1,0,119c32.8,32.8,85.9,32.8,118.7,0c32.8-32.8,32.8-85.9,0-118.7\n\t\tC110.5-8.2,57.5-8.2,24.6,24.4z"}}),e("polygon",{staticStyle:{fill:"#ffffff"},attrs:{points:"132.3,73.4 132.3,94.4 94.6,94.4 94.6,132.1 73.6,132.1 73.6,94.4 35.9,94.4 35.9,73.4 \n\t\t73.6,73.4 73.6,35.7 94.6,35.7 94.6,73.4 \t\t"}})]),t._v("   "+t._s(t.$t("create"))+" ")]):t._e()],1)]),t.show_create_publication?e("CreatePublication",{attrs:{project_path:t.project.$path,template_options:t.template_options},on:{close:function(e){t.show_create_publication=!1},openPubli:function(e){return t.$emit("togglePubli",e)}}}):t._e(),e("br"),e("div",{staticClass:"_publications"},[0===t.sorted_publications.length?e("div",{key:"nopublis",staticClass:"u-instructions"},[t._v(" "+t._s(t.$t("no_publications"))+" ")]):e("PinnedNonpinnedFolder",{attrs:{field_name:"publications_pinned",label:t.$t("publications_pinned"),content:t.project.publications_pinned,path:t.project.$path,folders:t.sorted_publications,can_edit:t.can_edit_project},scopedSlots:t._u([{key:"default",fn:function(i){return[e("PublicationPreview",{attrs:{publication:i.item,template_options:t.template_options,can_edit:t.can_edit},on:{open:function(e){return t.openEntry(i.item.$path)}}})]}}])})],1)],1)},W=[],U=function(){var t=this,e=t._self._c;return e("BaseModal2",{attrs:{title:t.$t("create_a_publication")},on:{close:function(e){return t.$emit("close")}}},[e("form",{staticClass:"input-validation-required",on:{submit:function(e){return e.preventDefault(),t.createPublication.apply(null,arguments)}}},[e("DLabel",{attrs:{str:t.$t("title")}}),e("TextInput",{ref:"titleInput",attrs:{content:t.new_publication_title,maxlength:40,required:!0,autofocus:!0},on:{"update:content":function(e){t.new_publication_title=e},toggleValidity:e=>t.allow_save=e}}),e("br"),e("div",{},[e("ToggleInput",{attrs:{content:t.new_publication_is_private,label:t.$t("private"),options:{true:t.$t("private_status_explanations"),false:t.$t("public_status_explanations")}},on:{"update:content":function(e){t.new_publication_is_private=e}}})],1),e("br"),e("div",{staticClass:"_templates"},t._l(t.template_options,(function(i){return e("div",{key:i.key,staticClass:"_templates--item",class:{"is--active":t.new_publication_template===i.key}},[e("strong",[t._v(t._s(i.label))]),e("div",{domProps:{innerHTML:t._s(i.icon)}}),e("button",{staticClass:"u-button u-button_bleuvert_fonce",attrs:{type:"submit",name:"action",disabled:!0===i.disabled},on:{click:function(e){t.new_publication_template=i.key}}},[e("svg",{staticStyle:{"enable-background":"new 0 0 168 168"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 168 168","xml:space":"preserve"}},[e("polygon",{staticStyle:{fill:"white"},attrs:{points:"132.3,73.4 132.3,94.4 94.6,94.4 94.6,132.1 73.6,132.1 73.6,94.4 35.9,94.4 35.9,73.4 \n\t\t73.6,73.4 73.6,35.7 94.6,35.7 94.6,73.4 \t\t"}})]),e("span",[t._v(" "+t._s(t.$t("create"))+" ")])])])})),0),t.error_msg?[e("br"),e("br"),e("div",{staticClass:"u-errorMsg",domProps:{textContent:t._s(t.error_msg)}})]:t._e()],2)])},X=[],G={props:{project_path:String,template_options:Array},components:{},data(){return{new_publication_title:"",new_publication_is_private:!1,new_publication_template:"page_by_page",is_creating_publication:!1,allow_save:!1,error_msg:""}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{async createPublication(){this.is_creating_publication=!0,this.new_publication_title=this.cleanUpString(this.new_publication_title);let t={title:this.new_publication_title,template:this.new_publication_template,requested_slug:this.new_publication_title,$status:!0===this.new_publication_is_private?"private":"public",$admins:"parent_contributors"};"page_by_page"===this.new_publication_template&&(t.layout_mode="print",t.page_width=210,t.page_height=297,t.pages=[{id:"first_page"}]);try{const e=await this.$api.createFolder({path:`${this.project_path}/publications`,additional_meta:t});this.$emit("openPubli",e)}catch({code:e}){"unique_field_taken"===e&&(this.$alertify.delay(4e3).error(this.$t("title_taken")),this.$refs.titleInput.$el.querySelector("input").select()),this.is_creating_publication=!1}}}},Y=G,J=(i(42441),(0,d.A)(Y,U,X,!1,null,"aa1ebffc",null)),Q=J.exports,K=function(){var t=this,e=t._self._c;return e("div",{staticClass:"_publicationPreview"},[e("div",{staticClass:"_publicationPreview--cover"},[t.cover_thumb?e("div",[e("img",{attrs:{src:t.cover_thumb}}),(t.template_icon,t._e())]):e("div",{staticClass:"_noPreview"},[t.template_icon?e("span",{domProps:{innerHTML:t._s(t.template_icon)}}):t._e()]),e("transition",{attrs:{name:"toggleLock",mode:"out-in"}},["finished"===t.publication.$status||"private"===t.publication.$status?e("StatusTag",{key:t.publication.$status,staticClass:"_icon",attrs:{show_label:!1,status:t.publication.$status,can_edit:!1,mode:"inactive"}}):t._e()],1),e("transition",{attrs:{name:"fade_fast"}},[t.is_making_preview?e("div",{staticClass:"_previewProgress"},[e("AnimatedCounter",{attrs:{value:t.preview_progress}})],1):t._e()]),e("div",{staticClass:"_generatePreviewBtn"},[t.can_edit&&!t.is_making_preview?e("EditBtn",{attrs:{btn_type:"regenerate_thumbs",style_type:"black",label_position:"left"},on:{click:t.generatePreview}}):t._e()],1)],1),e("header",{staticClass:"_header",on:{click:function(e){return t.$emit("open")}}},[t.publication.template?e("small",{domProps:{innerHTML:t._s(t.$t(t.publication.template))}}):t._e(),e("h3",[t._v(" "+t._s(t.publication.title)+" ")])]),e("button",{staticClass:"js--showCursor _openPublication",attrs:{type:"button",title:t.$t("open")+" "+t.publication.title},on:{click:function(e){return t.$emit("open")}}})])},tt=[],et={props:{publication:Object,template_options:Array,can_edit:Boolean},components:{},data(){return{is_making_preview:!1,preview_progress:0}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{cover_thumb(){return this.makeRelativeURLFromThumbs({$thumbs:this.publication.$cover,$type:"image",$path:this.publication.$path,resolution:640})},template_icon(){const t=this.template_options.find((t=>t.key===this.publication.template));return!!t&&t.icon}},methods:{async removePublication(){await this.$api.deleteItem({path:this.publication.$path})},async generatePreview(){this.is_making_preview=!0;const t={recipe:"png",page:1,page_width:this.publication.page_width,page_height:this.publication.page_height,layout_mode:this.publication.layout_mode||"print",make_preview:!0},e=await this.$api.generatePreviewForPublication({path:this.publication.$path,instructions:t});this.$api.join({room:"task_"+e});const i=({task_id:t,progress:i})=>{t===e&&(this.preview_progress=+i)};this.$eventHub.$on("task.status",i);const n=({task_id:t})=>{t===e&&(this.preview_progress=100,setTimeout((()=>{this.is_making_preview=!1,this.preview_progress=0}),2e3),this.$eventHub.$off("task.ended",n),this.$eventHub.$off("task.status",i),this.$api.leave({room:"task_"+e}))};this.$eventHub.$on("task.ended",n)}}},it=et,nt=(i(26589),(0,d.A)(it,K,tt,!1,null,"cf3248c2",null)),st=nt.exports,at=i(49117),ot={props:{project:Object,can_edit:Boolean},components:{CreatePublication:Q,PublicationPreview:st,PinnedNonpinnedFolder:at.A},data(){return{path:`${this.project.$path}/publications`,show_create_publication:!1,publications:[],template_options:[{key:"page_by_page",label:this.$t("page_by_page"),icon:'\n        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="201px" height="201px" viewBox="0 0 201 201" style="overflow:visible;enable-background:new 0 0 201 201;" xml:space="preserve">\n          <rect x="35.68" y="8.83" width="129.64" height="183.35" style="fill: #fff"/>\n          <rect x="46.15" y="31.82" width="39.07" height="27.55" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 2.0944702326735385px"/>\n          <rect x="118.95" y="68.62" width="35.9" height="53.44" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 1.9170289512680598px"/>\n          <rect x="46.15" y="68.62" width="63.37" height="53.44" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 2.161211202864444px"/>\n          <rect x="73.36" y="136.54" width="54.27" height="4.99" style="fill: #353535"/>\n          <rect x="73.36" y="153.02" width="54.27" height="4.99" style="fill: #353535"/>\n          <rect x="73.36" y="144.78" width="54.27" height="4.99" style="fill: #353535"/>\n          <rect x="73.36" y="161.26" width="54.27" height="4.99" style="fill: #353535"/>\n          <line x1="46.15" y1="22.57" x2="154.85" y2="22.57" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 1.8953584524134504px"/>\n        </svg>\n        '},{key:"story_with_sections",label:this.$t("story_with_sections"),icon:'\n          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="201px" height="201px" viewBox="0 0 201 201" style="overflow:visible;enable-background:new 0 0 201 201;" xml:space="preserve">\n            <rect x="35.7" y="8.8" class="st1" width="129.6" height="183.4" style="fill: #fff;" />\n            <rect x="64.9" y="46.8" width="71.2" height="53.6" style="fill:none;stroke:#353535;stroke-width:1.917;stroke-miterlimit:10;" />\n            <rect x="64.9" y="145.2" width="71.2" height="39.8" style="fill:none;stroke:#353535;stroke-width:1.917;stroke-miterlimit:10;" />\n            <rect x="65" y="108" width="71.1" height="5" style="fill:#353535;" />\n            <rect x="65" y="124.5" class="st3" width="71.1" height="5"  style="fill:#353535;"/>\n            <rect x="65" y="116.2" class="st3" width="71.1" height="5" style="fill:#353535;"/>\n            <rect x="65" y="132.7" class="st3" width="71.1" height="5" style="fill:#353535;"/>\n            <rect x="64.9" y="25.9" class="st3" width="71.1" height="5" style="fill:#353535;"/>\n            <rect x="64.9" y="17.6" class="st3" width="71.1" height="5" style="fill:#353535;"/>\n            <rect x="64.9" y="34.1" class="st3" width="71.1" height="5" style="fill:#353535;"/>\n          </svg>\n          '},{key:"cartography",label:this.$t("cartography"),icon:'\n          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="101px" height="101px" viewBox="0 0 101 101" style="overflow:visible;enable-background:new 0 0 101 101;" xml:space="preserve">\n            <path fill="white" fill-rule="evenodd" clip-rule="evenodd" d="M79.257,21.725c2.267,3.934,3.667,8.167,4.2,12.7  c0.567,4.767,0.133,9.583-1.3,14.45c-1.767,5.967-4.6,12.167-8.5,18.6c-5.133,8.5-11.35,16.7-18.65,24.601  c-1.7,1.833-3.367,2.75-5,2.75c-1.6,0-3.25-0.917-4.95-2.75c-5.434-5.967-10.05-11.667-13.85-17.101  c-4.433-6.366-8.05-12.75-10.85-19.149c-2.8-6.5-4.15-12.567-4.05-18.2c0.133-8.133,3-15.316,8.6-21.55  c3.8-4.233,8.183-7.267,13.15-9.101c0.4-0.166,0.816-0.316,1.25-0.449c6.7-1.801,13.767-1.801,21.2,0  c3.667,1.166,7.05,2.967,10.15,5.399C74.157,14.625,77.024,17.892,79.257,21.725z M50.107,16.075c-6.2,0-11.517,2.183-15.95,6.55  c-4.4,4.367-6.6,9.633-6.6,15.8c-0.033,6.2,2.133,11.517,6.5,15.95c4.367,4.4,9.633,6.617,15.8,6.65  c6.233,0.033,11.567-2.134,16-6.5c4.4-4.4,6.617-9.717,6.65-15.95c0-6.2-2.183-11.5-6.55-15.9  C61.557,18.309,56.274,16.108,50.107,16.075z M57.907,46.525c-2.233,2.199-4.9,3.283-8,3.25c-3.034,0-5.65-1.101-7.85-3.301  c-2.167-2.199-3.25-4.833-3.25-7.899c0-3.101,1.1-5.75,3.3-7.95c2.2-2.2,4.85-3.3,7.95-3.3c3.066,0,5.7,1.1,7.9,3.3  c2.2,2.233,3.3,4.9,3.3,8C61.224,41.725,60.107,44.358,57.907,46.525z"/>\n          </svg>\n          '}]}},created(){},async mounted(){this.publications=await this.$api.getFolders({path:this.path}),this.$api.join({room:this.path})},beforeDestroy(){this.$api.leave({room:this.path})},watch:{},computed:{sorted_publications(){return this.publications.slice().filter((t=>!!this.can_edit||"invisible"!==t.$status&&"private"!==t.$status)).sort(((t,e)=>+new Date(e.$date_created)-+new Date(t.$date_created)))},can_edit_project(){return this.canLoggedinEditFolder({folder:this.project.$path})}},methods:{openEntry(t){const e=t.split("/").at(-1);this.$emit("togglePubli",e)},closeEntry(){this.$emit("togglePubli",!1)}}},rt=ot,lt=(i(4349),(0,d.A)(rt,q,W,!1,null,"afc0f3fa",null)),ct=lt.exports,pt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"_publicationOpen"},[t.publication?t.fetch_publication_error?e("div",[t._v(" "+t._s(t.fetch_publication_error)+" ")]):t.publication?[e("PublicationTopbar",{staticClass:"_publicationOpen--topbar",attrs:{publication:t.publication,page_opened_id:t.page_opened_id,can_edit:t.can_edit},on:{close:function(e){return t.$emit("close")}}}),"story"===t.publication.template?e("StoryTemplate",{staticClass:"_publicationOpen--content",attrs:{publication:t.publication,can_edit:t.can_edit}}):"story_with_sections"===t.publication.template?e("StorySectionTemplate",{staticClass:"_publicationOpen--content",attrs:{publication:t.publication,opened_section_meta_filename:t.page_opened_id,can_edit:t.can_edit},on:{toggleSection:function(e){return t.$emit("togglePage",e)}}}):"page_by_page"===t.publication.template?e("PageTemplate",{staticClass:"_publicationOpen--content",attrs:{publication:t.publication,can_edit:t.can_edit,page_opened_id:t.page_opened_id},on:{togglePage:function(e){return t.$emit("togglePage",e)}}}):"cartography"===t.publication.template?e("MapTemplate",{staticClass:"_publicationOpen--content",attrs:{publication:t.publication,opened_view_meta_filename:t.page_opened_id,can_edit:t.can_edit},on:{toggleView:function(e){return t.$emit("togglePage",e)}}}):t._e()]:t._e():e("LoaderSpinner")],2)},dt=[],ht=i(73261),ut={props:{project_path:String,publication_slug:String,page_opened_id:String,can_edit:Boolean},components:{PublicationTopbar:ht.A,StoryTemplate:()=>i.e(950).then(i.bind(i,95569)),StorySectionTemplate:()=>i.e(897).then(i.bind(i,20897)),PageTemplate:()=>i.e(630).then(i.bind(i,8630)),MapTemplate:()=>i.e(529).then(i.bind(i,44529))},data(){return{publication:null,fetch_publication_error:null}},created(){},async mounted(){await this.listPublication(),this.$eventHub.$on("folder.removed",this.closeOnRemove),this.$api.join({room:this.publication.$path})},beforeDestroy(){this.$eventHub.$off("folder.removed",this.closeOnRemove),this.$api.leave({room:this.publication.$path})},watch:{},computed:{},methods:{async listPublication(){const t=await this.$api.getFolder({path:`${this.project_path}/publications/${this.publication_slug}`}).catch((t=>{this.fetch_publication_error=t.response}));this.publication=t},closeOnRemove({path:t}){t===this.publication.$path&&(this.$alertify.closeLogOnClick(!0).delay(4e3).log(this.$t("publication_was_removed")),this.$emit("close"))}}},_t=ut,ft=(i(95494),(0,d.A)(_t,pt,dt,!1,null,"191ede3d",null)),mt=ft.exports,vt={props:{project:Object,publication_opened:String,page_opened_id:String,can_edit:Boolean},components:{PublicationsList:ct,PublicationOpen:mt},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{}},gt=vt,bt=(i(79622),(0,d.A)(gt,V,Z,!1,null,"b76c5f84",null)),yt=bt.exports,wt=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"fade"}},[t.show_instructions?e("div",{key:`${t.type}`,staticClass:"_floatingMsg",on:{click:function(e){return e.target!==e.currentTarget?null:t.closeInstructions.apply(null,arguments)}}},[e("div",[e("span",{domProps:{innerHTML:t._s(t.$t(`instructions.pane.${t.type}`))}}),e("b-icon",{attrs:{icon:"x-circle-fill",label:"Fermer"},on:{click:function(e){return e.stopPropagation(),t.closeInstructions.apply(null,arguments)}}})],1)]):t._e()])},xt=[],kt={props:{type:String,path:String},components:{},data(){return{show_instructions:!0,local_storage_path:this.path+"/instructions_shown_for_"+this.type}},created(){"true"===localStorage.getItem(this.local_storage_path)&&(this.show_instructions=!1)},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{closeInstructions(){this.show_instructions=!1,localStorage.setItem(this.local_storage_path,"true"),this.$emit("close")}}},$t=kt,Ct=(i(28433),(0,d.A)($t,wt,xt,!1,null,"86f27f16",null)),Pt=Ct.exports,jt={props:{projectpanes:Array,project:Object,can_edit_project:Boolean},components:{Splitpanes:m.S,Pane:m.Z,PublierPane:yt,MediaLibrary:k.A,MakePane:N,CapturePane:x,InstructionsWindow:Pt},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{project_path_wrappable(){return this.project.$path.replaceAll("/","/<wbr>")}},methods:{scrollToPanes(){"Projet"===this.$route.name&&this.can_edit_project&&this.$el.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},setItem(t,e,i){Object.prototype.hasOwnProperty.call(t,e)&&t[e]===i||!i?this.$delete(t,e):this.$set(t,e,i)},resized(t){console.log("Project / methods: resized");let e=this.projectpanes.slice();e.map(((e,i)=>(e.size=Number(t[i].size.toFixed(1)),e))),this.$emit("update:projectpanes",e)}}},St=jt,Mt=(i(1329),(0,d.A)(St,_,f,!1,null,"7c6f4148",null)),zt=Mt.exports,Dt={props:{},components:{ProjectPresentation:a.A,PaneList2:u,ProjectPanes:zt},data(){return{is_loading:!0,fetch_project_error_message:null,project:null,display_as_public:!1,projectpanes:[]}},async created(){this.$api.updateSelfPath(this.project_path),await this.listProject(),await this.getSpace(),this.can_edit_project||(this.projectpanes=[{type:"publish",size:100}]),this.$eventHub.$emit("received.project",this.project),this.$eventHub.$on("folder.removed",this.closeOnRemove),this.$api.join({room:this.project.$path})},mounted(){},beforeDestroy(){this.$eventHub.$off("folder.removed",this.closeOnRemove),this.$api.leave({room:this.project.$path})},watch:{$route:{handler(){let t=this.$route.query?.projectpanes;t&&(this.projectpanes=JSON.parse(t))},immediate:!0},projectpanes:{handler(){this.updateQueryPanes()},deep:!0},display_as_public:{handler(){this.display_as_public&&(1!==this.projectpanes.length||this.projectpanes.some((t=>"publish"!==t.type)))&&(this.projectpanes=[{type:"publish",size:100}])}}},computed:{project_path(){return this.createPath({space_slug:this.$route.params.space_slug,project_slug:this.$route.params.project_slug})},can_edit_project(){return this.canLoggedinEditFolder({folder:this.project})},can_contribute_to_project(){return this.canLoggedinContributeToFolder({folder:this.project})}},methods:{async listProject(){const t=await this.$api.getFolder({path:this.project_path}).catch((t=>{"folder_private"===t.code?this.fetch_project_error_message=this.$t("project_is_private"):this.fetch_project_error_message=t.code,this.is_loading=!1}));this.is_loading=!1,this.project=t},async getSpace(){const t=this.createPath({space_slug:this.$route.params.space_slug}),e=await this.$api.getFolder({path:t}).catch((()=>{}));this.$eventHub.$emit("received.space",e)},updateQueryPanes(){let t={};if(this.projectpanes&&(t.projectpanes=JSON.stringify(this.projectpanes)),this.$route.query&&JSON.stringify(this.$route.query)===JSON.stringify(t))return!1;this.$router.replace({query:t})},closeOnRemove({path:t}){t===this.project.$path&&(this.$alertify.closeLogOnClick(!0).delay(4e3).log(this.$t("project_was_removed")),this.$router.push(this.getParent(this.createURLFromPath(this.project.$path))))}}},Et=Dt,At=(i(18350),(0,d.A)(Et,n,s,!1,null,"231399c8",null)),Lt=At.exports},62661:function(t,e,i){var n,s;(function(a,o){"use strict";n=o,s="function"===typeof n?n.call(e,i,e,t):n,void 0===s||(t.exports=s)})(window,(function(){"use strict";var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i],s=n+"MatchesSelector";if(t[s])return s}}();return function(e,i){return e[t](i)}}))},55313:function(t,e,i){"use strict";i.d(e,{S:function(){return y},Z:function(){return j}});i(74423),i(44114);var n=Object.defineProperty,s=Object.defineProperties,a=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,c=(t,e,i)=>e in t?n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,p=(t,e)=>{for(var i in e||(e={}))r.call(e,i)&&c(t,i,e[i]);if(o)for(var i of o(e))l.call(e,i)&&c(t,i,e[i]);return t},d=(t,e)=>s(t,a(e)),h=(t,e)=>{var i={};for(var n in t)r.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&o)for(var n of o(t))e.indexOf(n)<0&&l.call(t,n)&&(i[n]=t[n]);return i};function u(t,e,i,n,s,a,o,r){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),o?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=l):s&&(l=r?function(){s.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:s),l)if(c.functional){c._injectStyles=l;var p=c.render;c.render=function(t,e){return l.call(e),p(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}const _={name:"splitpanes",props:{horizontal:{type:Boolean},pushOtherPanes:{type:Boolean,default:!0},dblClickSplitter:{type:Boolean,default:!0},rtl:{type:Boolean,default:!1},firstSplitter:{type:Boolean}},provide(){return{requestUpdate:this.requestUpdate,onPaneAdd:this.onPaneAdd,onPaneRemove:this.onPaneRemove,onPaneClick:this.onPaneClick}},data:()=>({container:null,ready:!1,panes:[],touch:{mouseDown:!1,dragging:!1,activeSplitter:null},splitterTaps:{splitter:null,timeoutId:null}}),computed:{panesCount(){return this.panes.length},indexedPanes(){return this.panes.reduce(((t,e)=>(t[e.id]=e)&&t),{})}},methods:{updatePaneComponents(){this.panes.forEach((t=>{t.update&&t.update({[this.horizontal?"height":"width"]:`${this.indexedPanes[t.id].size}%`})}))},bindEvents(){document.addEventListener("mousemove",this.onMouseMove,{passive:!1}),document.addEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.addEventListener("touchmove",this.onMouseMove,{passive:!1}),document.addEventListener("touchend",this.onMouseUp))},unbindEvents(){document.removeEventListener("mousemove",this.onMouseMove,{passive:!1}),document.removeEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.removeEventListener("touchmove",this.onMouseMove,{passive:!1}),document.removeEventListener("touchend",this.onMouseUp))},onMouseDown(t,e){this.bindEvents(),this.touch.mouseDown=!0,this.touch.activeSplitter=e},onMouseMove(t){this.touch.mouseDown&&(t.preventDefault(),this.touch.dragging=!0,this.calculatePanesSize(this.getCurrentMouseDrag(t)),this.$emit("resize",this.panes.map((t=>({min:t.min,max:t.max,size:t.size})))))},onMouseUp(){this.touch.dragging&&this.$emit("resized",this.panes.map((t=>({min:t.min,max:t.max,size:t.size})))),this.touch.mouseDown=!1,setTimeout((()=>{this.touch.dragging=!1,this.unbindEvents()}),100)},onSplitterClick(t,e){"ontouchstart"in window&&(t.preventDefault(),this.dblClickSplitter&&(this.splitterTaps.splitter===e?(clearTimeout(this.splitterTaps.timeoutId),this.splitterTaps.timeoutId=null,this.onSplitterDblClick(t,e),this.splitterTaps.splitter=null):(this.splitterTaps.splitter=e,this.splitterTaps.timeoutId=setTimeout((()=>{this.splitterTaps.splitter=null}),500)))),this.touch.dragging||this.$emit("splitter-click",this.panes[e])},onSplitterDblClick(t,e){let i=0;this.panes=this.panes.map(((t,n)=>(t.size=n===e?t.max:t.min,n!==e&&(i+=t.min),t))),this.panes[e].size-=i,this.$emit("pane-maximize",this.panes[e])},onPaneClick(t,e){this.$emit("pane-click",this.indexedPanes[e])},getCurrentMouseDrag(t){const e=this.container.getBoundingClientRect(),{clientX:i,clientY:n}="ontouchstart"in window&&t.touches?t.touches[0]:t;return{x:i-e.left,y:n-e.top}},getCurrentDragPercentage(t){t=t[this.horizontal?"y":"x"];const e=this.container[this.horizontal?"clientHeight":"clientWidth"];return this.rtl&&!this.horizontal&&(t=e-t),100*t/e},calculatePanesSize(t){const e=this.touch.activeSplitter;let i={prevPanesSize:this.sumPrevPanesSize(e),nextPanesSize:this.sumNextPanesSize(e),prevReachedMinPanes:0,nextReachedMinPanes:0};const n=0+(this.pushOtherPanes?0:i.prevPanesSize),s=100-(this.pushOtherPanes?0:i.nextPanesSize),a=Math.max(Math.min(this.getCurrentDragPercentage(t),s),n);let o=[e,e+1],r=this.panes[o[0]]||null,l=this.panes[o[1]]||null;const c=r.max<100&&a>=r.max+i.prevPanesSize,p=l.max<100&&a<=100-(l.max+this.sumNextPanesSize(e+1));if(c||p)c?(r.size=r.max,l.size=Math.max(100-r.max-i.prevPanesSize-i.nextPanesSize,0)):(r.size=Math.max(100-l.max-i.prevPanesSize-this.sumNextPanesSize(e+1),0),l.size=l.max);else{if(this.pushOtherPanes){const t=this.doPushOtherPanes(i,a);if(!t)return;({sums:i,panesToResize:o}=t),r=this.panes[o[0]]||null,l=this.panes[o[1]]||null}null!==r&&(r.size=Math.min(Math.max(a-i.prevPanesSize-i.prevReachedMinPanes,r.min),r.max)),null!==l&&(l.size=Math.min(Math.max(100-a-i.nextPanesSize-i.nextReachedMinPanes,l.min),l.max))}},doPushOtherPanes(t,e){const i=this.touch.activeSplitter,n=[i,i+1];return e<t.prevPanesSize+this.panes[n[0]].min&&(n[0]=this.findPrevExpandedPane(i).index,t.prevReachedMinPanes=0,n[0]<i&&this.panes.forEach(((e,s)=>{s>n[0]&&s<=i&&(e.size=e.min,t.prevReachedMinPanes+=e.min)})),t.prevPanesSize=this.sumPrevPanesSize(n[0]),void 0===n[0])?(t.prevReachedMinPanes=0,this.panes[0].size=this.panes[0].min,this.panes.forEach(((e,n)=>{n>0&&n<=i&&(e.size=e.min,t.prevReachedMinPanes+=e.min)})),this.panes[n[1]].size=100-t.prevReachedMinPanes-this.panes[0].min-t.prevPanesSize-t.nextPanesSize,null):e>100-t.nextPanesSize-this.panes[n[1]].min&&(n[1]=this.findNextExpandedPane(i).index,t.nextReachedMinPanes=0,n[1]>i+1&&this.panes.forEach(((e,s)=>{s>i&&s<n[1]&&(e.size=e.min,t.nextReachedMinPanes+=e.min)})),t.nextPanesSize=this.sumNextPanesSize(n[1]-1),void 0===n[1])?(t.nextReachedMinPanes=0,this.panes[this.panesCount-1].size=this.panes[this.panesCount-1].min,this.panes.forEach(((e,n)=>{n<this.panesCount-1&&n>=i+1&&(e.size=e.min,t.nextReachedMinPanes+=e.min)})),this.panes[n[0]].size=100-t.prevPanesSize-t.nextReachedMinPanes-this.panes[this.panesCount-1].min-t.nextPanesSize,null):{sums:t,panesToResize:n}},sumPrevPanesSize(t){return this.panes.reduce(((e,i,n)=>e+(n<t?i.size:0)),0)},sumNextPanesSize(t){return this.panes.reduce(((e,i,n)=>e+(n>t+1?i.size:0)),0)},findPrevExpandedPane(t){const e=[...this.panes].reverse().find((e=>e.index<t&&e.size>e.min));return e||{}},findNextExpandedPane(t){const e=this.panes.find((e=>e.index>t+1&&e.size>e.min));return e||{}},checkSplitpanesNodes(){const t=Array.from(this.container.children);t.forEach((t=>{const e=t.classList.contains("splitpanes__pane"),i=t.classList.contains("splitpanes__splitter");if(!e&&!i)return t.parentNode.removeChild(t),void console.warn("Splitpanes: Only <pane> elements are allowed at the root of <splitpanes>. One of your DOM nodes was removed.")}))},addSplitter(t,e,i=!1){const n=t-1,s=document.createElement("div");s.classList.add("splitpanes__splitter"),i||(s.onmousedown=t=>this.onMouseDown(t,n),"undefined"!==typeof window&&"ontouchstart"in window&&(s.ontouchstart=t=>this.onMouseDown(t,n)),s.onclick=t=>this.onSplitterClick(t,n+1)),this.dblClickSplitter&&(s.ondblclick=t=>this.onSplitterDblClick(t,n+1)),e.parentNode.insertBefore(s,e)},removeSplitter(t){t.onmousedown=void 0,t.onclick=void 0,t.ondblclick=void 0,t.parentNode.removeChild(t)},redoSplitters(){const t=Array.from(this.container.children);t.forEach((t=>{t.className.includes("splitpanes__splitter")&&this.removeSplitter(t)}));let e=0;t.forEach((t=>{t.className.includes("splitpanes__pane")&&(!e&&this.firstSplitter?this.addSplitter(e,t,!0):e&&this.addSplitter(e,t),e++)}))},requestUpdate(t){var e=t,{target:i}=e,n=h(e,["target"]);const s=this.indexedPanes[i._uid];Object.entries(n).forEach((([t,e])=>s[t]=e))},onPaneAdd(t){let e=-1;Array.from(t.$el.parentNode.children).some((i=>(i.className.includes("splitpanes__pane")&&e++,i===t.$el)));const i=parseFloat(t.minSize),n=parseFloat(t.maxSize);this.panes.splice(e,0,{id:t._uid,index:e,min:isNaN(i)?0:i,max:isNaN(n)?100:n,size:null===t.size?null:parseFloat(t.size),givenSize:t.size,update:t.update}),this.panes.forEach(((t,e)=>t.index=e)),this.ready&&this.$nextTick((()=>{this.redoSplitters(),this.resetPaneSizes({addedPane:this.panes[e]}),this.$emit("pane-add",{index:e,panes:this.panes.map((t=>({min:t.min,max:t.max,size:t.size})))})}))},onPaneRemove(t){const e=this.panes.findIndex((e=>e.id===t._uid)),i=this.panes.splice(e,1)[0];this.panes.forEach(((t,e)=>t.index=e)),this.$nextTick((()=>{this.redoSplitters(),this.resetPaneSizes({removedPane:d(p({},i),{index:e})}),this.$emit("pane-remove",{removed:i,panes:this.panes.map((t=>({min:t.min,max:t.max,size:t.size})))})}))},resetPaneSizes(t={}){t.addedPane||t.removedPane?this.panes.some((t=>null!==t.givenSize||t.min||t.max<100))?this.equalizeAfterAddOrRemove(t):this.equalize():this.initialPanesSizing(),this.ready&&this.$emit("resized",this.panes.map((t=>({min:t.min,max:t.max,size:t.size}))))},equalize(){const t=100/this.panesCount;let e=0,i=[],n=[];this.panes.forEach((s=>{s.size=Math.max(Math.min(t,s.max),s.min),e-=s.size,s.size>=s.max&&i.push(s.id),s.size<=s.min&&n.push(s.id)})),e>.1&&this.readjustSizes(e,i,n)},initialPanesSizing(){this.panesCount;let t=100,e=[],i=[],n=0;this.panes.forEach((s=>{t-=s.size,null!==s.size&&n++,s.size>=s.max&&e.push(s.id),s.size<=s.min&&i.push(s.id)}));let s=100;t>.1&&(this.panes.forEach((e=>{null===e.size&&(e.size=Math.max(Math.min(t/(this.panesCount-n),e.max),e.min)),s-=e.size})),s>.1&&this.readjustSizes(t,e,i))},equalizeAfterAddOrRemove({addedPane:t,removedPane:e}={}){let i=100/this.panesCount,n=0,s=[],a=[];t&&null!==t.givenSize&&(i=(100-t.givenSize)/(this.panesCount-1)),this.panes.forEach((t=>{n-=t.size,t.size>=t.max&&s.push(t.id),t.size<=t.min&&a.push(t.id)})),Math.abs(n)<.1||(this.panes.forEach((e=>{t&&null!==t.givenSize&&t.id===e.id||(e.size=Math.max(Math.min(i,e.max),e.min)),n-=e.size,e.size>=e.max&&s.push(e.id),e.size<=e.min&&a.push(e.id)})),n>.1&&this.readjustSizes(n,s,a))},readjustSizes(t,e,i){let n;n=t>0?t/(this.panesCount-e.length):t/(this.panesCount-i.length),this.panes.forEach(((s,a)=>{if(t>0&&!e.includes(s.id)){const e=Math.max(Math.min(s.size+n,s.max),s.min),i=e-s.size;t-=i,s.size=e}else if(!i.includes(s.id)){const e=Math.max(Math.min(s.size+n,s.max),s.min),i=e-s.size;t-=i,s.size=e}s.update({[this.horizontal?"height":"width"]:`${this.indexedPanes[s.id].size}%`})})),Math.abs(t)>.1&&this.$nextTick((()=>{this.ready&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints.")}))}},watch:{panes:{deep:!0,immediate:!1,handler(){this.updatePaneComponents()}},horizontal(){this.updatePaneComponents()},firstSplitter(){this.redoSplitters()},dblClickSplitter(t){const e=[...this.container.querySelectorAll(".splitpanes__splitter")];e.forEach(((e,i)=>{e.ondblclick=t?t=>this.onSplitterDblClick(t,i):void 0}))}},beforeDestroy(){this.ready=!1},mounted(){this.container=this.$refs.container,this.checkSplitpanesNodes(),this.redoSplitters(),this.resetPaneSizes(),this.$emit("ready"),this.ready=!0},render(t){return t("div",{ref:"container",class:["splitpanes","splitpanes--"+(this.horizontal?"horizontal":"vertical"),{"splitpanes--dragging":this.touch.dragging}]},this.$slots.default)}};let f,m;const v={};var g=u(_,f,m,!1,b,null,null,null);function b(t){for(let e in v)this[e]=v[e]}var y=function(){return g.exports}(),w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"splitpanes__pane",style:t.style,on:{click:function(e){return t.onPaneClick(e,t._uid)}}},[t._t("default")],2)},x=[];const k={name:"pane",inject:["requestUpdate","onPaneAdd","onPaneRemove","onPaneClick"],props:{size:{type:[Number,String],default:null},minSize:{type:[Number,String],default:0},maxSize:{type:[Number,String],default:100}},data:()=>({style:{}}),mounted(){this.onPaneAdd(this)},beforeDestroy(){this.onPaneRemove(this)},methods:{update(t){this.style=t}},computed:{sizeNumber(){return this.size||0===this.size?parseFloat(this.size):null},minSizeNumber(){return parseFloat(this.minSize)},maxSizeNumber(){return parseFloat(this.maxSize)}},watch:{sizeNumber(t){this.requestUpdate({target:this,size:t})},minSizeNumber(t){this.requestUpdate({target:this,min:t})},maxSizeNumber(t){this.requestUpdate({target:this,max:t})}}},$={};var C=u(k,w,x,!1,P,null,null,null);function P(t){for(let e in $)this[e]=$[e]}var j=function(){return C.exports}()},14073:function(t,e,i){var n,s;i(44114),function(a,o){n=o,s="function"===typeof n?n.call(e,i,e,t):n,void 0===s||(t.exports=s)}("undefined"!=typeof window&&window,(function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},n=i[t]=i[t]||{};return n[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],s=0;s<i.length;s++){var a=i[s],o=n&&n[a];o&&(this.off(t,a),delete n[a]),a.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}))},26966:function(t,e,i){var n,s;
/*!
 * Unipointer v2.4.0
 * base class for doing one thing with pointer event
 * MIT license
 */(function(a,o){n=[i(14073)],s=function(t){return o(a,t)}.apply(e,n),void 0===s||(t.exports=s)})(window,(function(t,e){"use strict";function i(){}function n(){}var s=n.prototype=Object.create(e.prototype);s.bindStartEvent=function(t){this._bindStartEvent(t,!0)},s.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},s._bindStartEvent=function(e,i){i=void 0===i||i;var n=i?"addEventListener":"removeEventListener",s="mousedown";"ontouchstart"in t?s="touchstart":t.PointerEvent&&(s="pointerdown"),e[n](s,this)},s.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},s.getTouch=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.identifier==this.pointerIdentifier)return i}},s.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t)},s.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},s.onpointerdown=function(t){this._pointerDown(t,t)},s._pointerDown=function(t,e){t.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e))},s.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])};var a={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return s._bindPostStartEvents=function(e){if(e){var i=a[e.type];i.forEach((function(e){t.addEventListener(e,this)}),this),this._boundPointerEvents=i}},s._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach((function(e){t.removeEventListener(e,this)}),this),delete this._boundPointerEvents)},s.onmousemove=function(t){this._pointerMove(t,t)},s.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},s.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},s._pointerMove=function(t,e){this.pointerMove(t,e)},s.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])},s.onmouseup=function(t){this._pointerUp(t,t)},s.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},s.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},s._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},s.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])},s._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},s._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},s.pointerDone=i,s.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},s.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},s._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},s.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])},n.getPointerPoint=function(t){return{x:t.pageX,y:t.pageY}},n}))},77946:function(t,e,i){var n,s;i(44114),function(a,o){n=o,s="function"===typeof n?n.call(e,i,e,t):n,void 0===s||(t.exports=s)}("undefined"!=typeof window&&window,(function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},n=i[t]=i[t]||{};return n[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],s=0;s<i.length;s++){var a=i[s],o=n&&n[a];o&&(this.off(t,a),delete n[a]),a.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}))},68348:function(t,e,i){var n,s;i(44114),function(a,o){n=[i(62661)],s=function(t){return o(a,t)}.apply(e,n),void 0===s||(t.exports=s)}(window,(function(t,e){"use strict";var i={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e}},n=Array.prototype.slice;i.makeArray=function(t){if(Array.isArray(t))return t;if(null===t||void 0===t)return[];var e="object"==typeof t&&"number"==typeof t.length;return e?n.call(t):[t]},i.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},i.getParent=function(t,i){while(t.parentNode&&t!=document.body)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,n){t=i.makeArray(t);var s=[];return t.forEach((function(t){if(t instanceof HTMLElement)if(n){e(t,n)&&s.push(t);for(var i=t.querySelectorAll(n),a=0;a<i.length;a++)s.push(i[a])}else s.push(t)})),s},i.debounceMethod=function(t,e,i){i=i||100;var n=t.prototype[e],s=e+"Timeout";t.prototype[e]=function(){var t=this[s];clearTimeout(t);var e=arguments,a=this;this[s]=setTimeout((function(){n.apply(a,e),delete a[s]}),i)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,(function(t,e,i){return e+"-"+i})).toLowerCase()};var s=t.console;return i.htmlInit=function(e,n){i.docReady((function(){var a=i.toDashed(n),o="data-"+a,r=document.querySelectorAll("["+o+"]"),l=document.querySelectorAll(".js-"+a),c=i.makeArray(r).concat(i.makeArray(l)),p=o+"-options",d=t.jQuery;c.forEach((function(t){var i,a=t.getAttribute(o)||t.getAttribute(p);try{i=a&&JSON.parse(a)}catch(l){return void(s&&s.error("Error parsing "+o+" on "+t.className+": "+l))}var r=new e(t,i);d&&d.data(t,n,r)}))}))},i}))},31528:function(t,e,i){var n,s;(function(a,o){n=[i(41784),i(68348)],s=function(t,e){return o(a,t,e)}.apply(e,n),void 0===s||(t.exports=s)})(window,(function(t,e,i){"use strict";function n(t){var e=document.createDocumentFragment();return t.forEach((function(t){e.appendChild(t.element)})),e}var s=e.prototype;return s.insert=function(t,e){var i=this._makeCells(t);if(i&&i.length){var s=this.cells.length;e=void 0===e?s:e;var a=n(i),o=e==s;if(o)this.slider.appendChild(a);else{var r=this.cells[e].element;this.slider.insertBefore(a,r)}if(0===e)this.cells=i.concat(this.cells);else if(o)this.cells=this.cells.concat(i);else{var l=this.cells.splice(e,s-e);this.cells=this.cells.concat(i).concat(l)}this._sizeCells(i),this.cellChange(e,!0)}},s.append=function(t){this.insert(t,this.cells.length)},s.prepend=function(t){this.insert(t,0)},s.remove=function(t){var e=this.getCells(t);if(e&&e.length){var n=this.cells.length-1;e.forEach((function(t){t.remove();var e=this.cells.indexOf(t);n=Math.min(e,n),i.removeFrom(this.cells,t)}),this),this.cellChange(n,!0)}},s.cellSizeChange=function(t){var e=this.getCell(t);if(e){e.getSize();var i=this.cells.indexOf(e);this.cellChange(i)}},s.cellChange=function(t,e){var i=this.selectedElement;this._positionCells(t),this._getWrapShiftCells(),this.setGallerySize();var n=this.getCell(i);n&&(this.selectedIndex=this.getCellSlideIndex(n)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[t]),this.select(this.selectedIndex),e&&this.positionSliderAtSelected()},e}))},65190:function(t,e,i){var n,s;(function(a,o){n=[i(68348)],s=function(t){return o(a,t)}.apply(e,n),void 0===s||(t.exports=s)})(window,(function(t,e){"use strict";var i={startAnimation:function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},animate:function(){this.applyDragForce(),this.applySelectedAttraction();var t=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(t),this.isAnimating){var e=this;requestAnimationFrame((function(){e.animate()}))}},positionSlider:function(){var t=this.x;this.options.wrapAround&&this.cells.length>1&&(t=e.modulo(t,this.slideableWidth),t-=this.slideableWidth,this.shiftWrapCells(t)),this.setTranslateX(t,this.isAnimating),this.dispatchScrollEvent()},setTranslateX:function(t,e){t+=this.cursorPosition,t=this.options.rightToLeft?-t:t;var i=this.getPositionValue(t);this.slider.style.transform=e?"translate3d("+i+",0,0)":"translateX("+i+")"},dispatchScrollEvent:function(){var t=this.slides[0];if(t){var e=-this.x-t.target,i=e/this.slidesWidth;this.dispatchEvent("scroll",null,[i,e])}},positionSliderAtSelected:function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},getPositionValue:function(t){return this.options.percentPosition?.01*Math.round(t/this.size.innerWidth*1e4)+"%":Math.round(t)+"px"},settle:function(t){var e=!this.isPointerDown&&Math.round(100*this.x)==Math.round(100*t);e&&this.restingFrames++,this.restingFrames>2&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},shiftWrapCells:function(t){var e=this.cursorPosition+t;this._shiftCells(this.beforeShiftCells,e,-1);var i=this.size.innerWidth-(t+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,i,1)},_shiftCells:function(t,e,i){for(var n=0;n<t.length;n++){var s=t[n],a=e>0?i:0;s.wrapShift(a),e-=s.size.outerWidth}},_unshiftCells:function(t){if(t&&t.length)for(var e=0;e<t.length;e++)t[e].wrapShift(0)},integratePhysics:function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},applyForce:function(t){this.velocity+=t},getFrictionFactor:function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},getRestingPosition:function(){return this.x+this.velocity/(1-this.getFrictionFactor())},applyDragForce:function(){if(this.isDraggable&&this.isPointerDown){var t=this.dragX-this.x,e=t-this.velocity;this.applyForce(e)}},applySelectedAttraction:function(){var t=this.isDraggable&&this.isPointerDown;if(!t&&!this.isFreeScrolling&&this.slides.length){var e=-1*this.selectedSlide.target-this.x,i=e*this.options.selectedAttraction;this.applyForce(i)}}};return i}))},76561:function(t,e,i){var n,s;(function(a,o){n=[i(22426)],s=function(t){return o(a,t)}.apply(e,n),void 0===s||(t.exports=s)})(window,(function(t,e){"use strict";function i(t,e){this.element=t,this.parent=e,this.create()}var n=i.prototype;return n.create=function(){this.element.style.position="absolute",this.element.setAttribute("aria-hidden","true"),this.x=0,this.shift=0,this.element.style[this.parent.originSide]=0},n.destroy=function(){this.unselect(),this.element.style.position="";var t=this.parent.originSide;this.element.style[t]="",this.element.style.transform="",this.element.removeAttribute("aria-hidden")},n.getSize=function(){this.size=e(this.element)},n.setPosition=function(t){this.x=t,this.updateTarget(),this.renderPosition(t)},n.updateTarget=n.setDefaultTarget=function(){var t="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[t]+this.size.width*this.parent.cellAlign},n.renderPosition=function(t){var e="left"===this.parent.originSide?1:-1,i=this.parent.options.percentPosition?t*e*(this.parent.size.innerWidth/this.size.width):t*e;this.element.style.transform="translateX("+this.parent.getPositionValue(i)+")"},n.select=function(){this.element.classList.add("is-selected"),this.element.removeAttribute("aria-hidden")},n.unselect=function(){this.element.classList.remove("is-selected"),this.element.setAttribute("aria-hidden","true")},n.wrapShift=function(t){this.shift=t,this.renderPosition(this.x+this.parent.slideableWidth*t)},n.remove=function(){this.element.parentNode.removeChild(this.element)},i}))},93535:function(t,e,i){var n,s;i(44114),function(a,o){n=[i(41784),i(11670),i(68348)],s=function(t,e,i){return o(a,t,e,i)}.apply(e,n),void 0===s||(t.exports=s)}(window,(function(t,e,i,n){"use strict";n.extend(e.defaults,{draggable:">1",dragThreshold:3}),e.createMethods.push("_createDrag");var s=e.prototype;n.extend(s,i.prototype),s._touchActionValue="pan-y",s._createDrag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("deactivate",this.onDeactivateDrag),this.on("cellChange",this.updateDraggable)},s.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},s.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},s.updateDraggable=function(){">1"==this.options.draggable?this.isDraggable=this.slides.length>1:this.isDraggable=this.options.draggable,this.isDraggable?this.element.classList.add("is-draggable"):this.element.classList.remove("is-draggable")},s.bindDrag=function(){this.options.draggable=!0,this.updateDraggable()},s.unbindDrag=function(){this.options.draggable=!1,this.updateDraggable()},s._uiChangeDrag=function(){delete this.isFreeScrolling},s.pointerDown=function(e,i){if(this.isDraggable){var n=this.okayPointerDown(e);n&&(this._pointerDownPreventDefault(e),this.pointerDownFocus(e),document.activeElement!=this.element&&this.pointerDownBlur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=o(),t.addEventListener("scroll",this),this._pointerDownDefault(e,i))}else this._pointerDownDefault(e,i)},s._pointerDownDefault=function(t,e){this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY},this._bindPostStartEvents(t),this.dispatchEvent("pointerDown",t,[e])};var a={INPUT:!0,TEXTAREA:!0,SELECT:!0};function o(){return{x:t.pageXOffset,y:t.pageYOffset}}return s.pointerDownFocus=function(t){var e=a[t.target.nodeName];e||this.focus()},s._pointerDownPreventDefault=function(t){var e="touchstart"==t.type,i="touch"==t.pointerType,n=a[t.target.nodeName];e||i||n||t.preventDefault()},s.hasDragStarted=function(t){return Math.abs(t.x)>this.options.dragThreshold},s.pointerUp=function(t,e){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",t,[e]),this._dragPointerUp(t,e)},s.pointerDone=function(){t.removeEventListener("scroll",this),delete this.pointerDownScroll},s.dragStart=function(e,i){this.isDraggable&&(this.dragStartPosition=this.x,this.startAnimation(),t.removeEventListener("scroll",this),this.dispatchEvent("dragStart",e,[i]))},s.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.dispatchEvent("pointerMove",t,[e,i]),this._dragMove(t,e,i)},s.dragMove=function(t,e,i){if(this.isDraggable){t.preventDefault(),this.previousDragX=this.dragX;var n=this.options.rightToLeft?-1:1;this.options.wrapAround&&(i.x%=this.slideableWidth);var s=this.dragStartPosition+i.x*n;if(!this.options.wrapAround&&this.slides.length){var a=Math.max(-this.slides[0].target,this.dragStartPosition);s=s>a?.5*(s+a):s;var o=Math.min(-this.getLastSlide().target,this.dragStartPosition);s=s<o?.5*(s+o):s}this.dragX=s,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",t,[e,i])}},s.dragEnd=function(t,e){if(this.isDraggable){this.options.freeScroll&&(this.isFreeScrolling=!0);var i=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var n=this.getRestingPosition();this.isFreeScrolling=-n>this.slides[0].target&&-n<this.getLastSlide().target}else this.options.freeScroll||i!=this.selectedIndex||(i+=this.dragEndBoostSelect());delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(i),delete this.isDragSelect,this.dispatchEvent("dragEnd",t,[e])}},s.dragEndRestingSelect=function(){var t=this.getRestingPosition(),e=Math.abs(this.getSlideDistance(-t,this.selectedIndex)),i=this._getClosestResting(t,e,1),n=this._getClosestResting(t,e,-1),s=i.distance<n.distance?i.index:n.index;return s},s._getClosestResting=function(t,e,i){var n=this.selectedIndex,s=1/0,a=this.options.contain&&!this.options.wrapAround?function(t,e){return t<=e}:function(t,e){return t<e};while(a(e,s)){if(n+=i,s=e,e=this.getSlideDistance(-t,n),null===e)break;e=Math.abs(e)}return{distance:s,index:n-i}},s.getSlideDistance=function(t,e){var i=this.slides.length,s=this.options.wrapAround&&i>1,a=s?n.modulo(e,i):e,o=this.slides[a];if(!o)return null;var r=s?this.slideableWidth*Math.floor(e/i):0;return t-(o.target+r)},s.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||new Date-this.dragMoveTime>100)return 0;var t=this.getSlideDistance(-this.dragX,this.selectedIndex),e=this.previousDragX-this.dragX;return t>0&&e>0?1:t<0&&e<0?-1:0},s.staticClick=function(t,e){var i=this.getParentCell(t.target),n=i&&i.element,s=i&&this.cells.indexOf(i);this.dispatchEvent("staticClick",t,[e,n,s])},s.onscroll=function(){var t=o(),e=this.pointerDownScroll.x-t.x,i=this.pointerDownScroll.y-t.y;(Math.abs(e)>3||Math.abs(i)>3)&&this._pointerDone()},e}))},41784:function(t,e,i){var n,s;i(44114),function(a,o){n=[i(77946),i(22426),i(68348),i(76561),i(18224),i(65190)],s=function(t,e,i,n,s,r){return o(a,t,e,i,n,s,r)}.apply(e,n),void 0===s||(t.exports=s)}(window,(function(t,e,i,n,s,a,o){"use strict";var r=t.jQuery,l=t.getComputedStyle,c=t.console;function p(t,e){t=n.makeArray(t);while(t.length)e.appendChild(t.shift())}var d=0,h={};function u(t,e){var i=n.getQueryElement(t);if(i){if(this.element=i,this.element.flickityGUID){var s=h[this.element.flickityGUID];return s&&s.option(e),s}r&&(this.$element=r(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e),this._create()}else c&&c.error("Bad element for Flickity: "+(i||t))}u.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},u.createMethods=[];var _=u.prototype;n.extend(_,e.prototype),_._create=function(){var e=this.guid=++d;for(var i in this.element.flickityGUID=e,h[e]=this,this.selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&t.addEventListener("resize",this),this.options.on){var n=this.options.on[i];this.on(i,n)}u.createMethods.forEach((function(t){this[t]()}),this),this.options.watchCSS?this.watchCSS():this.activate()},_.option=function(t){n.extend(this.options,t)},_.activate=function(){if(!this.isActive){this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize();var t=this._filterFindCellElements(this.element.children);p(t,this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate"),this.selectInitialIndex(),this.isInitActivated=!0,this.dispatchEvent("ready")}},_._createSlider=function(){var t=document.createElement("div");t.className="flickity-slider",t.style[this.originSide]=0,this.slider=t},_._filterFindCellElements=function(t){return n.filterFindElements(t,this.options.cellSelector)},_.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},_._makeCells=function(t){var e=this._filterFindCellElements(t),i=e.map((function(t){return new s(t,this)}),this);return i},_.getLastCell=function(){return this.cells[this.cells.length-1]},_.getLastSlide=function(){return this.slides[this.slides.length-1]},_.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},_._positionCells=function(t){t=t||0,this.maxCellHeight=t&&this.maxCellHeight||0;var e=0;if(t>0){var i=this.cells[t-1];e=i.x+i.size.outerWidth}for(var n=this.cells.length,s=t;s<n;s++){var a=this.cells[s];a.setPosition(e),e+=a.size.outerWidth,this.maxCellHeight=Math.max(a.size.outerHeight,this.maxCellHeight)}this.slideableWidth=e,this.updateSlides(),this._containSlides(),this.slidesWidth=n?this.getLastSlide().target-this.slides[0].target:0},_._sizeCells=function(t){t.forEach((function(t){t.getSize()}))},_.updateSlides=function(){if(this.slides=[],this.cells.length){var t=new a(this);this.slides.push(t);var e="left"==this.originSide,i=e?"marginRight":"marginLeft",n=this._getCanCellFit();this.cells.forEach((function(e,s){if(t.cells.length){var o=t.outerWidth-t.firstMargin+(e.size.outerWidth-e.size[i]);n.call(this,s,o)||(t.updateTarget(),t=new a(this),this.slides.push(t)),t.addCell(e)}else t.addCell(e)}),this),t.updateTarget(),this.updateSelectedSlide()}},_._getCanCellFit=function(){var t=this.options.groupCells;if(!t)return function(){return!1};if("number"==typeof t){var e=parseInt(t,10);return function(t){return t%e!==0}}var i="string"==typeof t&&t.match(/^(\d+)%$/),n=i?parseInt(i[1],10)/100:1;return function(t,e){return e<=(this.size.innerWidth+1)*n}},_._init=_.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},_.getSize=function(){this.size=i(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var f={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};return _.setCellAlign=function(){var t=f[this.options.cellAlign];this.cellAlign=t?t[this.originSide]:this.options.cellAlign},_.setGallerySize=function(){if(this.options.setGallerySize){var t=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=t+"px"}},_._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);var t=this.cursorPosition,e=this.cells.length-1;this.beforeShiftCells=this._getGapCells(t,e,-1),t=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(t,0,1)}},_._getGapCells=function(t,e,i){var n=[];while(t>0){var s=this.cells[e];if(!s)break;n.push(s),e+=i,t-=s.size.outerWidth}return n},_._containSlides=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length){var t=this.options.rightToLeft,e=t?"marginRight":"marginLeft",i=t?"marginLeft":"marginRight",n=this.slideableWidth-this.getLastCell().size[i],s=n<this.size.innerWidth,a=this.cursorPosition+this.cells[0].size[e],o=n-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach((function(t){s?t.target=n*this.cellAlign:(t.target=Math.max(t.target,a),t.target=Math.min(t.target,o))}),this)}},_.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),r&&this.$element){t+=this.options.namespaceJQueryEvents?".flickity":"";var s=t;if(e){var a=new r.Event(e);a.type=t,s=a}this.$element.trigger(s,i)}},_.select=function(t,e,i){if(this.isActive&&(t=parseInt(t,10),this._wrapSelect(t),(this.options.wrapAround||e)&&(t=n.modulo(t,this.slides.length)),this.slides[t])){var s=this.selectedIndex;this.selectedIndex=t,this.updateSelectedSlide(),i?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[t]),t!=s&&this.dispatchEvent("change",null,[t]),this.dispatchEvent("cellSelect")}},_._wrapSelect=function(t){var e=this.slides.length,i=this.options.wrapAround&&e>1;if(!i)return t;var s=n.modulo(t,e),a=Math.abs(s-this.selectedIndex),o=Math.abs(s+e-this.selectedIndex),r=Math.abs(s-e-this.selectedIndex);!this.isDragSelect&&o<a?t+=e:!this.isDragSelect&&r<a&&(t-=e),t<0?this.x-=this.slideableWidth:t>=e&&(this.x+=this.slideableWidth)},_.previous=function(t,e){this.select(this.selectedIndex-1,t,e)},_.next=function(t,e){this.select(this.selectedIndex+1,t,e)},_.updateSelectedSlide=function(){var t=this.slides[this.selectedIndex];t&&(this.unselectSelectedSlide(),this.selectedSlide=t,t.select(),this.selectedCells=t.cells,this.selectedElements=t.getCellElements(),this.selectedCell=t.cells[0],this.selectedElement=this.selectedElements[0])},_.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},_.selectInitialIndex=function(){var t=this.options.initialIndex;if(this.isInitActivated)this.select(this.selectedIndex,!1,!0);else{if(t&&"string"==typeof t){var e=this.queryCell(t);if(e)return void this.selectCell(t,!1,!0)}var i=0;t&&this.slides[t]&&(i=t),this.select(i,!1,!0)}},_.selectCell=function(t,e,i){var n=this.queryCell(t);if(n){var s=this.getCellSlideIndex(n);this.select(s,e,i)}},_.getCellSlideIndex=function(t){for(var e=0;e<this.slides.length;e++){var i=this.slides[e],n=i.cells.indexOf(t);if(-1!=n)return e}},_.getCell=function(t){for(var e=0;e<this.cells.length;e++){var i=this.cells[e];if(i.element==t)return i}},_.getCells=function(t){t=n.makeArray(t);var e=[];return t.forEach((function(t){var i=this.getCell(t);i&&e.push(i)}),this),e},_.getCellElements=function(){return this.cells.map((function(t){return t.element}))},_.getParentCell=function(t){var e=this.getCell(t);return e||(t=n.getParent(t,".flickity-slider > *"),this.getCell(t))},_.getAdjacentCellElements=function(t,e){if(!t)return this.selectedSlide.getCellElements();e=void 0===e?this.selectedIndex:e;var i=this.slides.length;if(1+2*t>=i)return this.getCellElements();for(var s=[],a=e-t;a<=e+t;a++){var o=this.options.wrapAround?n.modulo(a,i):a,r=this.slides[o];r&&(s=s.concat(r.getCellElements()))}return s},_.queryCell=function(t){if("number"==typeof t)return this.cells[t];if("string"==typeof t){if(t.match(/^[#.]?[\d/]/))return;t=this.element.querySelector(t)}return this.getCell(t)},_.uiChange=function(){this.emitEvent("uiChange")},_.childUIPointerDown=function(t){"touchstart"!=t.type&&t.preventDefault(),this.focus()},_.onresize=function(){this.watchCSS(),this.resize()},n.debounceMethod(u,"onresize",150),_.resize=function(){if(this.isActive&&!this.isAnimating&&!this.isDragging){this.getSize(),this.options.wrapAround&&(this.x=n.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize");var t=this.selectedElements&&this.selectedElements[0];this.selectCell(t,!1,!0)}},_.watchCSS=function(){var t=this.options.watchCSS;if(t){var e=l(this.element,":after").content;-1!=e.indexOf("flickity")?this.activate():this.deactivate()}},_.onkeydown=function(t){var e=document.activeElement&&document.activeElement!=this.element;if(this.options.accessibility&&!e){var i=u.keyboardHandlers[t.keyCode];i&&i.call(this)}},u.keyboardHandlers={37:function(){var t=this.options.rightToLeft?"next":"previous";this.uiChange(),this[t]()},39:function(){var t=this.options.rightToLeft?"previous":"next";this.uiChange(),this[t]()}},_.focus=function(){var e=t.pageYOffset;this.element.focus({preventScroll:!0}),t.pageYOffset!=e&&t.scrollTo(t.pageXOffset,e)},_.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.unselectSelectedSlide(),this.cells.forEach((function(t){t.destroy()})),this.element.removeChild(this.viewport),p(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},_.destroy=function(){this.deactivate(),t.removeEventListener("resize",this),this.allOff(),this.emitEvent("destroy"),r&&this.$element&&r.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete h[this.guid]},n.extend(_,o),u.data=function(t){t=n.getQueryElement(t);var e=t&&t.flickityGUID;return e&&h[e]},n.htmlInit(u,"flickity"),r&&r.bridget&&r.bridget("flickity",u),u.setJQuery=function(t){r=t},u.Cell=s,u.Slide=a,u}))},78365:function(t,e,i){var n,s,a;
/*!
 * Flickity v2.3.0
 * Touch, responsive, flickable carousels
 *
 * Licensed GPLv3 for open source use
 * or Flickity Commercial License for commercial use
 *
 * https://flickity.metafizzy.co
 * Copyright 2015-2021 Metafizzy
 */(function(o,r){s=[i(41784),i(93535),i(21889),i(30571),i(20460),i(31528),i(68631)],n=r,a="function"===typeof n?n.apply(e,s):n,void 0===a||(t.exports=a)})(window,(function(t){return t}))},68631:function(t,e,i){var n,s;i(44114),function(a,o){n=[i(41784),i(68348)],s=function(t,e){return o(a,t,e)}.apply(e,n),void 0===s||(t.exports=s)}(window,(function(t,e,i){"use strict";e.createMethods.push("_createLazyload");var n=e.prototype;function s(t){if("IMG"==t.nodeName){var e=t.getAttribute("data-flickity-lazyload"),n=t.getAttribute("data-flickity-lazyload-src"),s=t.getAttribute("data-flickity-lazyload-srcset");if(e||n||s)return[t]}var a="img[data-flickity-lazyload], img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]",o=t.querySelectorAll(a);return i.makeArray(o)}function a(t,e){this.img=t,this.flickity=e,this.load()}return n._createLazyload=function(){this.on("select",this.lazyLoad)},n.lazyLoad=function(){var t=this.options.lazyLoad;if(t){var e="number"==typeof t?t:0,i=this.getAdjacentCellElements(e),n=[];i.forEach((function(t){var e=s(t);n=n.concat(e)})),n.forEach((function(t){new a(t,this)}),this)}},a.prototype.handleEvent=i.handleEvent,a.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);var t=this.img.getAttribute("data-flickity-lazyload")||this.img.getAttribute("data-flickity-lazyload-src"),e=this.img.getAttribute("data-flickity-lazyload-srcset");this.img.src=t,e&&this.img.setAttribute("srcset",e),this.img.removeAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload-src"),this.img.removeAttribute("data-flickity-lazyload-srcset")},a.prototype.onload=function(t){this.complete(t,"flickity-lazyloaded")},a.prototype.onerror=function(t){this.complete(t,"flickity-lazyerror")},a.prototype.complete=function(t,e){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var i=this.flickity.getParentCell(this.img),n=i&&i.element;this.flickity.cellSizeChange(n),this.img.classList.add(e),this.flickity.dispatchEvent("lazyLoad",t,n)},e.LazyLoader=a,e}))},30571:function(t,e,i){var n,s;i(44114),function(a,o){n=[i(41784),i(26966),i(68348)],s=function(t,e,i){return o(a,t,e,i)}.apply(e,n),void 0===s||(t.exports=s)}(window,(function(t,e,i,n){"use strict";function s(t){this.parent=t,this._create()}s.prototype=Object.create(i.prototype),s.prototype._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.handleClick=this.onClick.bind(this),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},s.prototype.activate=function(){this.setDots(),this.holder.addEventListener("click",this.handleClick),this.bindStartEvent(this.holder),this.parent.element.appendChild(this.holder)},s.prototype.deactivate=function(){this.holder.removeEventListener("click",this.handleClick),this.unbindStartEvent(this.holder),this.parent.element.removeChild(this.holder)},s.prototype.setDots=function(){var t=this.parent.slides.length-this.dots.length;t>0?this.addDots(t):t<0&&this.removeDots(-t)},s.prototype.addDots=function(t){for(var e=document.createDocumentFragment(),i=[],n=this.dots.length,s=n+t,a=n;a<s;a++){var o=document.createElement("li");o.className="dot",o.setAttribute("aria-label","Page dot "+(a+1)),e.appendChild(o),i.push(o)}this.holder.appendChild(e),this.dots=this.dots.concat(i)},s.prototype.removeDots=function(t){var e=this.dots.splice(this.dots.length-t,t);e.forEach((function(t){this.holder.removeChild(t)}),this)},s.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot",this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected",this.selectedDot.setAttribute("aria-current","step"))},s.prototype.onTap=s.prototype.onClick=function(t){var e=t.target;if("LI"==e.nodeName){this.parent.uiChange();var i=this.dots.indexOf(e);this.parent.select(i)}},s.prototype.destroy=function(){this.deactivate(),this.allOff()},e.PageDots=s,n.extend(e.defaults,{pageDots:!0}),e.createMethods.push("_createPageDots");var a=e.prototype;return a._createPageDots=function(){this.options.pageDots&&(this.pageDots=new s(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},a.activatePageDots=function(){this.pageDots.activate()},a.updateSelectedPageDots=function(){this.pageDots.updateSelected()},a.updatePageDots=function(){this.pageDots.setDots()},a.deactivatePageDots=function(){this.pageDots.deactivate()},e.PageDots=s,e}))},20460:function(t,e,i){var n,s;i(44114),function(a,o){n=[i(77946),i(68348),i(41784)],s=function(t,e,i){return o(t,e,i)}.apply(e,n),void 0===s||(t.exports=s)}(window,(function(t,e,i){"use strict";function n(t){this.parent=t,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}n.prototype=Object.create(t.prototype),n.prototype.play=function(){if("playing"!=this.state){var t=document.hidden;t?document.addEventListener("visibilitychange",this.onVisibilityPlay):(this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick())}},n.prototype.tick=function(){if("playing"==this.state){var t=this.parent.options.autoPlay;t="number"==typeof t?t:3e3;var e=this;this.clear(),this.timeout=setTimeout((function(){e.parent.next(!0),e.tick()}),t)}},n.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},n.prototype.clear=function(){clearTimeout(this.timeout)},n.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},n.prototype.unpause=function(){"paused"==this.state&&this.play()},n.prototype.visibilityChange=function(){var t=document.hidden;this[t?"pause":"unpause"]()},n.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},e.extend(i.defaults,{pauseAutoPlayOnHover:!0}),i.createMethods.push("_createPlayer");var s=i.prototype;return s._createPlayer=function(){this.player=new n(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},s.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},s.playPlayer=function(){this.player.play()},s.stopPlayer=function(){this.player.stop()},s.pausePlayer=function(){this.player.pause()},s.unpausePlayer=function(){this.player.unpause()},s.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},s.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},s.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},i.Player=n,i}))},21889:function(t,e,i){var n,s;i(44114),function(a,o){n=[i(41784),i(26966),i(68348)],s=function(t,e,i){return o(a,t,e,i)}.apply(e,n),void 0===s||(t.exports=s)}(window,(function(t,e,i,n){"use strict";var s="http://www.w3.org/2000/svg";function a(t,e){this.direction=t,this.parent=e,this._create()}function o(t){return"string"==typeof t?t:"M "+t.x0+",50 L "+t.x1+","+(t.y1+50)+" L "+t.x2+","+(t.y2+50)+" L "+t.x3+",50  L "+t.x2+","+(50-t.y2)+" L "+t.x1+","+(50-t.y1)+" Z"}a.prototype=Object.create(i.prototype),a.prototype._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var t=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==t;var e=this.element=document.createElement("button");e.className="flickity-button flickity-prev-next-button",e.className+=this.isPrevious?" previous":" next",e.setAttribute("type","button"),this.disable(),e.setAttribute("aria-label",this.isPrevious?"Previous":"Next");var i=this.createSVG();e.appendChild(i),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},a.prototype.activate=function(){this.bindStartEvent(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},a.prototype.deactivate=function(){this.parent.element.removeChild(this.element),this.unbindStartEvent(this.element),this.element.removeEventListener("click",this)},a.prototype.createSVG=function(){var t=document.createElementNS(s,"svg");t.setAttribute("class","flickity-button-icon"),t.setAttribute("viewBox","0 0 100 100");var e=document.createElementNS(s,"path"),i=o(this.parent.options.arrowShape);return e.setAttribute("d",i),e.setAttribute("class","arrow"),this.isLeft||e.setAttribute("transform","translate(100, 100) rotate(180) "),t.appendChild(e),t},a.prototype.handleEvent=n.handleEvent,a.prototype.onclick=function(){if(this.isEnabled){this.parent.uiChange();var t=this.isPrevious?"previous":"next";this.parent[t]()}},a.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},a.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},a.prototype.update=function(){var t=this.parent.slides;if(this.parent.options.wrapAround&&t.length>1)this.enable();else{var e=t.length?t.length-1:0,i=this.isPrevious?0:e,n=this.parent.selectedIndex==i?"disable":"enable";this[n]()}},a.prototype.destroy=function(){this.deactivate(),this.allOff()},n.extend(e.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),e.createMethods.push("_createPrevNextButtons");var r=e.prototype;return r._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new a(-1,this),this.nextButton=new a(1,this),this.on("activate",this.activatePrevNextButtons))},r.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},r.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},e.PrevNextButton=a,e}))},18224:function(t,e,i){var n,s;i(44114),function(a,o){n=o,s="function"===typeof n?n.call(e,i,e,t):n,void 0===s||(t.exports=s)}(window,(function(){"use strict";function t(t){this.parent=t,this.isOriginLeft="left"==t.originSide,this.cells=[],this.outerWidth=0,this.height=0}var e=t.prototype;return e.addCell=function(t){if(this.cells.push(t),this.outerWidth+=t.size.outerWidth,this.height=Math.max(t.size.outerHeight,this.height),1==this.cells.length){this.x=t.x;var e=this.isOriginLeft?"marginLeft":"marginRight";this.firstMargin=t.size[e]}},e.updateTarget=function(){var t=this.isOriginLeft?"marginRight":"marginLeft",e=this.getLastCell(),i=e?e.size[t]:0,n=this.outerWidth-(this.firstMargin+i);this.target=this.x+this.firstMargin+n*this.parent.cellAlign},e.getLastCell=function(){return this.cells[this.cells.length-1]},e.select=function(){this.cells.forEach((function(t){t.select()}))},e.unselect=function(){this.cells.forEach((function(t){t.unselect()}))},e.getCellElements=function(){return this.cells.map((function(t){return t.element}))},t}))},22426:function(t,e,i){var n,s;
/*!
 * getSize v2.0.3
 * measure size of elements
 * MIT license
 */(function(a,o){n=o,s="function"===typeof n?n.call(e,i,e,t):n,void 0===s||(t.exports=s)})(window,(function(){"use strict";function t(t){var e=parseFloat(t),i=-1==t.indexOf("%")&&!isNaN(e);return i&&e}function e(){}var i="undefined"==typeof console?e:function(t){console.error(t)},n=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],s=n.length;function a(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<s;e++){var i=n[e];t[i]=0}return t}function o(t){var e=getComputedStyle(t);return e||i("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),e}var r,l=!1;function c(){if(!l){l=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var n=o(e);r=200==Math.round(t(n.width)),p.isBoxSizeOuter=r,i.removeChild(e)}}function p(e){if(c(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var i=o(e);if("none"==i.display)return a();var l={};l.width=e.offsetWidth,l.height=e.offsetHeight;for(var p=l.isBorderBox="border-box"==i.boxSizing,d=0;d<s;d++){var h=n[d],u=i[h],_=parseFloat(u);l[h]=isNaN(_)?0:_}var f=l.paddingLeft+l.paddingRight,m=l.paddingTop+l.paddingBottom,v=l.marginLeft+l.marginRight,g=l.marginTop+l.marginBottom,b=l.borderLeftWidth+l.borderRightWidth,y=l.borderTopWidth+l.borderBottomWidth,w=p&&r,x=t(i.width);!1!==x&&(l.width=x+(w?0:f+b));var k=t(i.height);return!1!==k&&(l.height=k+(w?0:m+y)),l.innerWidth=l.width-(f+b),l.innerHeight=l.height-(m+y),l.outerWidth=l.width+v,l.outerHeight=l.height+g,l}}return p}))},11670:function(t,e,i){var n,s;
/*!
 * Unidragger v2.4.0
 * Draggable base class
 * MIT license
 */(function(a,o){n=[i(26966)],s=function(t){return o(a,t)}.apply(e,n),void 0===s||(t.exports=s)})(window,(function(t,e){"use strict";function i(){}var n=i.prototype=Object.create(e.prototype);n.bindHandles=function(){this._bindHandles(!0)},n.unbindHandles=function(){this._bindHandles(!1)},n._bindHandles=function(e){e=void 0===e||e;for(var i=e?"addEventListener":"removeEventListener",n=e?this._touchActionValue:"",s=0;s<this.handles.length;s++){var a=this.handles[s];this._bindStartEvent(a,e),a[i]("click",this),t.PointerEvent&&(a.style.touchAction=n)}},n._touchActionValue="none",n.pointerDown=function(t,e){var i=this.okayPointerDown(t);i&&(this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY},t.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e]))};var s={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},a={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return n.okayPointerDown=function(t){var e=s[t.target.nodeName],i=a[t.target.type],n=!e||i;return n||this._pointerReset(),n},n.pointerDownBlur=function(){var t=document.activeElement,e=t&&t.blur&&t!=document.body;e&&t.blur()},n.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,i]),this._dragMove(t,e,i)},n._dragPointerMove=function(t,e){var i={x:e.pageX-this.pointerDownPointer.pageX,y:e.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(i)&&this._dragStart(t,e),i},n.hasDragStarted=function(t){return Math.abs(t.x)>3||Math.abs(t.y)>3},n.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]),this._dragPointerUp(t,e)},n._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e)},n._dragStart=function(t,e){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(t,e)},n.dragStart=function(t,e){this.emitEvent("dragStart",[t,e])},n._dragMove=function(t,e,i){this.isDragging&&this.dragMove(t,e,i)},n.dragMove=function(t,e,i){t.preventDefault(),this.emitEvent("dragMove",[t,e,i])},n._dragEnd=function(t,e){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(t,e)},n.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e])},n.onclick=function(t){this.isPreventingClicks&&t.preventDefault()},n._staticClick=function(t,e){this.isIgnoringMouseUp&&"mouseup"==t.type||(this.staticClick(t,e),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},n.staticClick=function(t,e){this.emitEvent("staticClick",[t,e])},i.getPointerPoint=e.getPointerPoint,i}))},3757:function(t,e,i){"use strict";i.r(e);var n=i(31601),s=i.n(n),a=i(76314),o=i.n(a),r=o()(s());r.push([t.id,"/*! Flickity v2.3.0\nhttps://flickity.metafizzy.co\n---------------------------------------------- */.flickity-enabled{position:relative}.flickity-enabled:focus{outline:none}.flickity-viewport{overflow:hidden;position:relative;height:100%}.flickity-slider{position:absolute;width:100%;height:100%}.flickity-enabled.is-draggable{-webkit-tap-highlight-color:transparent;-webkit-user-select:none;-moz-user-select:none;user-select:none}.flickity-enabled.is-draggable .flickity-viewport{cursor:move;cursor:grab}.flickity-enabled.is-draggable .flickity-viewport.is-pointer-down{cursor:grabbing}.flickity-button{position:absolute;background:hsla(0,0%,100%,.75);border:none;color:#333}.flickity-button:hover{background:#fff;cursor:pointer}.flickity-button:focus{outline:none;box-shadow:0 0 0 5px #19f}.flickity-button:active{opacity:.6}.flickity-button:disabled{opacity:.3;cursor:auto;pointer-events:none}.flickity-button-icon{fill:currentColor}.flickity-prev-next-button{top:50%;width:44px;height:44px;border-radius:50%;transform:translateY(-50%)}.flickity-prev-next-button.previous{left:10px}.flickity-prev-next-button.next{right:10px}.flickity-rtl .flickity-prev-next-button.previous{left:auto;right:10px}.flickity-rtl .flickity-prev-next-button.next{right:auto;left:10px}.flickity-prev-next-button .flickity-button-icon{position:absolute;left:20%;top:20%;width:60%;height:60%}.flickity-page-dots{position:absolute;width:100%;bottom:-25px;padding:0;margin:0;list-style:none;text-align:center;line-height:1}.flickity-rtl .flickity-page-dots{direction:rtl}.flickity-page-dots .dot{display:inline-block;width:10px;height:10px;margin:0 8px;background:#333;border-radius:50%;opacity:.25;cursor:pointer}.flickity-page-dots .dot.is-selected{opacity:1}",""]),e["default"]=r},52219:function(t,e,i){"use strict";i.r(e);var n=i(31601),s=i.n(n),a=i(76314),o=i.n(a),r=o()(s());r.push([t.id,"._nonpinned[data-v-06cbf20b],._pinned[data-v-06cbf20b]{padding:0;margin:calc(var(--spacing)/1) 0}._item[data-v-06cbf20b]{position:relative;z-index:1}._pinSpace[data-v-06cbf20b]{position:absolute;top:0;left:0;margin:calc(var(--spacing)/2);z-index:100;color:var(--c-orange);display:flex;flex-flow:row nowrap;gap:calc(var(--spacing)/8)}._pinSpace>button[data-v-06cbf20b]{display:block;pointer-events:auto}._pinSpace_indicator[data-v-06cbf20b]{pointer-events:none}._list[data-v-06cbf20b]{display:grid;grid-auto-rows:max-content;grid-gap:calc(var(--spacing)/1);align-items:stretch;grid-template-columns:repeat(auto-fill,minmax(var(--item-width,320px),1fr))}._list_pinned[data-v-06cbf20b]{background-image:radial-gradient(rgba(51,51,51,.2) 2px,transparent 0);background-size:calc(var(--spacing)/1) calc(var(--spacing)/1);padding:calc(var(--spacing)/1)}",""]),e["default"]=r},47067:function(t,e,i){"use strict";i.r(e);var n=i(31601),s=i.n(n),a=i(76314),o=i.n(a),r=o()(s());r.push([t.id,"._projetPanes[data-v-7c6f4148]{position:relative}._projetPanes[data-v-7c6f4148]:not(.is--editable) ._pane>*{min-height:100vh}._projetPanes.is--editable[data-v-7c6f4148] ._pane>*{min-height:calc(100vh - 44px)}._projetPanes.has--multiplePanes[data-v-7c6f4148] ._pane{height:calc(100vh - 44px);overflow:auto}._msg[data-v-7c6f4148]{text-align:center;max-width:70ch;margin:0 auto;padding:calc(var(--spacing)*2)}._msg[data-v-7c6f4148] ._labelLine{justify-content:center}",""]),e["default"]=r},36492:function(t,e,i){"use strict";i.r(e);var n=i(31601),s=i.n(n),a=i(76314),o=i.n(a),r=o()(s());r.push([t.id,'._projectInfos[data-v-7dea6f91]{position:relative;width:100%;background:#fff;transition:all .4s cubic-bezier(.19,1,.22,1)}._projectInfos.is--list[data-v-7dea6f91]{background-color:#fff;border-radius:4px;transition:all .25s cubic-bezier(.19,1,.22,1)}._projectInfos.is--list.is--own[data-v-7dea6f91]{border-bottom-color:var(--c-bleumarine)}._projectInfos.is--list ._projectInfos--topContent[data-v-7dea6f91]{padding:0;margin:0;gap:0;max-width:none}._projectInfos.is--list ._title h3[data-v-7dea6f91]{font-size:var(--sl-font-size-medium)}._projectInfos.is--list[data-v-7dea6f91]{display:block}._projectInfos.is--list ._projectInfos--infos[data-v-7dea6f91]{padding:calc(var(--spacing)/2);width:100%;place-content:flex-start}._projectInfos[data-context=tiny] ._projectInfos--infos[data-v-7dea6f91]{padding:calc(var(--spacing)/4) calc(var(--spacing)/2)}._projectInfos>*[data-v-7dea6f91]{flex:10 1 320px;transition:all .4s cubic-bezier(.19,1,.22,1)}._projectInfos>._projectInfos--meta[data-v-7dea6f91]{flex:1 0 260px}._projectInfos>._projectInfos--meta.is--hidden[data-v-7dea6f91]{flex:0 0 0;opacity:0}._projectInfos--topContent[data-v-7dea6f91]{max-width:min(var(--max-column-width),1180px);margin:calc(var(--spacing)/2) auto 0;overflow:hidden;display:flex;flex-flow:row wrap;justify-content:center;align-items:center;gap:calc(var(--spacing)*1)}._projectInfos--topContent>*[data-v-7dea6f91]{flex:1 1 320px}._projectInfos--infos[data-v-7dea6f91]{--short-project-height:8rem;position:relative;display:flex;flex-flow:column nowrap;place-content:center;gap:calc(var(--spacing)/1);transition:all .4s}.is--list ._projectInfos--infos[data-v-7dea6f91]{gap:calc(var(--spacing)/4);order:0;padding-top:calc(var(--spacing)/2)}.is--list ._projectInfos--infos ._showDescription[data-v-7dea6f91]{pointer-events:auto}._projectInfos--infos.is--short[data-v-7dea6f91]{max-height:var(--short-project-height)}._projectInfos--infos--settings[data-v-7dea6f91]{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:flex-end}._imageSelect[data-v-7dea6f91]{background:#fff;position:relative}._projectInfos--cover[data-v-7dea6f91]{position:relative;width:100%}.is--list ._projectInfos--cover[data-v-7dea6f91]{width:100%;height:auto}.is--mobileView ._projectInfos--cover[data-v-7dea6f91]{flex:1 1 auto;max-width:none;max-height:none;height:auto}._projectInfos--cover ._cover[data-v-7dea6f91]{position:relative;aspect-ratio:3/2;border-radius:4px;overflow:hidden;margin-right:0;margin-left:auto}.is--list ._projectInfos--cover ._cover[data-v-7dea6f91]{border-bottom-left-radius:0;border-bottom-right-radius:0}._projectInfos--cover ._icon[data-v-7dea6f91]{position:absolute;z-index:1;top:0;right:0;margin:calc(var(--spacing)/1)}._projectInfos--cover ._private[data-v-7dea6f91]{font-size:125%}._projectInfos--cover ._private[data-v-7dea6f91]:before{content:"";position:absolute;width:60%;margin-left:20%;height:100%;background:#fff;z-index:-1;border-radius:5px}._projectInfos--cover ._originalSpace[data-v-7dea6f91]{position:absolute;bottom:0;left:0;margin:calc(var(--spacing)/4);padding:calc(var(--spacing)/16) calc(var(--spacing)/2);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);background:rgba(0,0,0,.2);color:#fff;font-weight:700;border-radius:15px;font-size:var(--sl-font-size-small);max-width:calc(100% - var(--spacing)/2);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}._projectInfos--meta[data-v-7dea6f91]{margin:0 auto;padding:0}.is--mobileView ._projectInfos--meta[data-v-7dea6f91]{height:auto}._projectInfos--meta ._card[data-v-7dea6f91]{width:240px;height:240px;overflow:auto;margin:calc(var(--spacing)/2)}._projectInfos--meta ._card[data-v-7dea6f91]::-webkit-scrollbar{height:18px;width:18px;background-color:transparent}._projectInfos--meta ._card[data-v-7dea6f91]::-webkit-scrollbar-thumb,._projectInfos--meta ._card[data-v-7dea6f91]::-webkit-scrollbar-track{border:6px solid hsla(0,0%,100%,0);border-radius:24px;background-clip:padding-box;-webkit-transition:all .4s;transition:all .4s}._projectInfos--meta ._card[data-v-7dea6f91]::-webkit-scrollbar-track{background-color:transparent}._projectInfos--meta ._card[data-v-7dea6f91]::-webkit-scrollbar-thumb{background-color:var(--c-noir)}._projectInfos--meta ._card[data-v-7dea6f91]::-webkit-scrollbar-thumb:hover{background-color:var(--c-gris);border:6px solid hsla(0,0%,100%,0)}._projectInfos--open[data-v-7dea6f91]{position:absolute;top:0;left:0;width:100%;height:100%}._showMeta[data-v-7dea6f91]{position:absolute;top:0;right:0;z-index:100;background:#fff;margin:calc(var(--spacing)/4)}._showDescription[data-v-7dea6f91]{position:relative;z-index:100;padding:0;text-align:left}._allTags[data-v-7dea6f91]{position:relative;z-index:1;display:flex;flex-flow:row wrap;gap:calc(var(--spacing)/4)}._compactExpandButton[data-v-7dea6f91]{--expand-button-height:2rem;position:absolute;z-index:2;top:calc(var(--short-project-height) - var(--expand-button-height));height:var(--expand-button-height);left:0;right:0;padding:calc(var(--spacing)/4);background:linear-gradient(transparent,#fff);text-align:right;pointer-events:none}._compactExpandButton>button[data-v-7dea6f91]{pointer-events:auto;border-radius:50%}',""]),e["default"]=r},202:function(t,e,i){"use strict";i.r(e);var n=i(31601),s=i.n(n),a=i(76314),o=i.n(a),r=o()(s());r.push([t.id,"._make[data-v-2691bbd8]{padding:calc(var(--spacing)/4)}._topbar[data-v-2691bbd8]{display:flex;flex-flow:row wrap;justify-content:space-between;gap:calc(var(--spacing)*1);align-items:center;width:100%;background:#fff;padding:calc(var(--spacing)/2) calc(var(--spacing)*1);margin:calc(var(--spacing)/2) auto 0;box-shadow:0 1px 4px rgba(0,0,0,.1)}._mediaPicker[data-v-2691bbd8]{padding:calc(var(--spacing)/2)}",""]),e["default"]=r},36468:function(t,e,i){"use strict";i.r(e);var n=i(31601),s=i.n(n),a=i(76314),o=i.n(a),r=o()(s());r.push([t.id,"._makes[data-v-6fb40f6a]{display:grid;grid-auto-rows:max-content;grid-gap:calc(var(--spacing)*1);align-items:end;grid-template-columns:repeat(auto-fill,minmax(280px,1fr))}._makes--item[data-v-6fb40f6a]{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:center;background:#fff;margin-bottom:2px;padding:calc(var(--spacing)/2) calc(var(--spacing)*1);gap:calc(var(--spacing)*1)}",""]),e["default"]=r},84747:function(t,e,i){"use strict";i.r(e);var n=i(31601),s=i.n(n),a=i(76314),o=i.n(a),r=o()(s());r.push([t.id,"._singleBaseMediaPicker[data-v-9feb6796]{display:flex}._singleBaseMediaPicker>._mpContent[data-v-9feb6796]{position:relative;display:flex;flex-flow:row wrap;align-items:center;margin:0 auto;width:100%;max-width:440px;color:#fff;background:var(--c-bleumarine_fonce);gap:calc(var(--spacing)/4);padding:calc(var(--spacing)/4);border-radius:4px}._singleBaseMediaPicker>._mpContent[data-v-9feb6796] ._mediaContent ._mediaContent--image{position:absolute;width:100%;height:100%;-o-object-fit:cover;object-fit:cover;max-width:none;border-radius:1px}._singleBaseMediaPicker[data-context=full][data-v-9feb6796] ._mediaContent{width:440px;height:auto;aspect-ratio:1/1}._singleBaseMediaPicker[data-context=full][data-v-9feb6796] ._mediaContent ._mediaContent--image{-o-object-fit:scale-down;object-fit:scale-down}._singleBaseMediaPicker[data-context=preview][data-v-9feb6796] ._mediaContent{width:50px;height:50px}._changeBtn[data-v-9feb6796]{line-height:1;flex:1 0 auto;text-align:center}",""]),e["default"]=r},32499:function(t,e,i){"use strict";i.r(e);var n=i(31601),s=i.n(n),a=i(76314),o=i.n(a),r=o()(s());r.push([t.id,"._paneList[data-v-c8262318]{position:relative;top:0;overflow:visible;z-index:100;width:100%;min-height:44px;padding:calc(var(--spacing)/4) 0;padding:0;margin:0 auto;background-color:#fff;border-top:1px solid var(--c-gris);background:var(--panel-color)}._paneList.has--noPanes[data-v-c8262318]{border-bottom:1px solid var(--c-gris)}._paneList2[data-v-c8262318]{display:flex;flex-flow:row nowrap;align-items:center;overflow:hidden;min-height:44px}._paneList2>*[data-v-c8262318]{flex:1 1 0}._paneList2>._projectPanes[data-v-c8262318]{flex:0 0 auto}._paneList.is--mobile ._paneList2>._projectPanes[data-v-c8262318]{flex:1 0 auto}._paneList--list[data-v-c8262318]{display:flex;flex-flow:row wrap;justify-content:center;gap:calc(var(--spacing)/4);white-space:nowrap;height:auto}._paneList--list>*[data-v-c8262318]{flex:0 0 0;justify-content:center;-webkit-user-select:none;-moz-user-select:none;user-select:none}._paneItem[data-v-c8262318],._paneList--list>*[data-v-c8262318]{display:flex;align-items:center;transition:all .2s cubic-bezier(.19,1,.22,1)}._paneItem[data-v-c8262318]{flex-flow:row nowrap;border-radius:44px;text-decoration:none;text-transform:uppercase;font-weight:500;letter-spacing:.03em;color:var(--color-active)}._paneItem.is--animating[data-v-c8262318],._paneItem.is--enabled[data-v-c8262318],._paneItem[data-v-c8262318]:focus,._paneItem[data-v-c8262318]:hover{color:#fff;background-color:var(--color-active)}._inlineBtn[data-v-c8262318]{position:relative;display:block;--sl-transition-medium:0;line-height:0;padding:calc(var(--spacing)/4);border-radius:50%;transition:all .1s cubic-bezier(.19,1,.22,1)}._addPaneBtn[data-v-c8262318]:focus,._addPaneBtn[data-v-c8262318]:hover,._removePaneBtn[data-v-c8262318]:focus,._removePaneBtn[data-v-c8262318]:hover{background:#fff;color:var(--color-active)}._btn[data-v-c8262318]{display:flex;justify-content:center;align-items:center;padding:calc(var(--spacing)/4);transition:all .2s cubic-bezier(.19,1,.22,1);cursor:pointer;width:100%;height:100%}._btn .u-icon[data-v-c8262318],._btn .u-icon svg[data-v-c8262318]{width:2rem;height:2rem}._count[data-v-c8262318],._name[data-v-c8262318]{padding:0 calc(var(--spacing)/2)}._projectTitle[data-v-c8262318]{padding:calc(var(--spacing)/4);font-weight:700;opacity:0;transform:translateY(-100%);transition:.25s cubic-bezier(.19,1,.22,1)}._projectTitle.is--shown[data-v-c8262318]{opacity:1;transform:translateY(0)}._projectTitle>button[data-v-c8262318]{padding:calc(var(--spacing)/4) calc(var(--spacing)/4);display:flex;justify-content:flex-start;align-items:center;gap:calc(var(--spacing)/2)}._projectTitle img[data-v-c8262318]{width:2rem;height:2rem;-o-object-fit:cover;object-fit:cover}._projectTitle span[data-v-c8262318]{min-height:2rem;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:flex;align-items:center}",""]),e["default"]=r},73825:function(t,e,i){"use strict";i.r(e);var n=i(31601),s=i.n(n),a=i(76314),o=i.n(a),r=o()(s());r.push([t.id,"._capturePane[data-v-64693681]{height:100%;overflow:auto}",""]),e["default"]=r},18267:function(t,e,i){"use strict";i.r(e);var n=i(31601),s=i.n(n),a=i(76314),o=i.n(a),r=o()(s());r.push([t.id,"._makePane[data-v-5dede47a]{background:var(--color-make);height:100%;overflow:auto}._makePane--content[data-v-5dede47a]{width:100%;margin:0 auto;padding:calc(var(--spacing)*1);padding-bottom:calc(var(--spacing)*10)}.m_recipes--type[data-v-5dede47a]{margin-bottom:calc(var(--spacing)*1)}.m_recipes--type--grid[data-v-5dede47a]{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));grid-auto-rows:max-content;grid-gap:calc(var(--spacing)/2);align-items:stretch}.m_recipe[data-v-5dede47a]{border-radius:8px;background:#fff;padding:calc(var(--spacing)/2);border-radius:10px}.m_recipe[data-v-5dede47a]>:not(:last-child){margin-bottom:calc(var(--spacing)/2)}.m_recipe--icon[data-v-5dede47a]{border-radius:6px;background:var(--c-bleumarine);flex:0 1 160px;min-width:120px;height:160px;margin:0;padding:0}.m_recipe--icon[data-v-5dede47a] svg{width:100%;max-width:160px;margin:0 auto}.m_recipe--text[data-v-5dede47a]{flex-basis:50%;max-width:44ch;color:#000}.m_recipe--text p[data-v-5dede47a]{line-height:1.4}.m_recipe--text hr[data-v-5dede47a]{border:none;border-top:2px solid #000;width:1em}.m_recipe--buttons[data-v-5dede47a]{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:center}.u-buttonLink.is--active[data-v-5dede47a]{color:var(--c-bleumarine)}",""]),e["default"]=r},80032:function(t,e,i){"use strict";i.r(e);var n=i(31601),s=i.n(n),a=i(76314),o=i.n(a),r=o()(s());r.push([t.id,"._publierPane[data-v-b76c5f84]{background:#fff;background:var(--c-gris_clair);background-color:var(--c-bodybg)}._publierPane.is--editable[data-v-b76c5f84]{background:var(--color-publish)}._editMediaModal[data-v-b76c5f84]{position:fixed;z-index:100}",""]),e["default"]=r},21067:function(t,e,i){"use strict";i.r(e);var n=i(31601),s=i.n(n),a=i(76314),o=i.n(a),r=o()(s());r.push([t.id,"._floatingMsg[data-v-86f27f16]{position:absolute;left:0;top:0;width:100%;height:100%;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);z-index:1000;text-align:center;padding:calc(var(--spacing)*2);cursor:pointer}._floatingMsg>div[data-v-86f27f16]{position:relative;background:var(--color-type);background:#fff;max-width:54ch;padding:calc(var(--spacing)/2);margin:0 auto;border:2px solid var(--c-gris);border-radius:4px;pointer-events:auto;cursor:default}",""]),e["default"]=r},70914:function(t,e,i){"use strict";i.r(e);var n=i(31601),s=i.n(n),a=i(76314),o=i.n(a),r=o()(s());r.push([t.id,"",""]),e["default"]=r},10940:function(t,e,i){"use strict";i.r(e);var n=i(31601),s=i.n(n),a=i(76314),o=i.n(a),r=o()(s());r.push([t.id,"._list[data-v-59d6e751]{display:flex;flex-flow:row wrap}",""]),e["default"]=r},85803:function(t,e,i){"use strict";i.r(e);var n=i(31601),s=i.n(n),a=i(76314),o=i.n(a),r=o()(s());r.push([t.id,"._templates[data-v-aa1ebffc]{display:grid;grid-auto-rows:max-content;grid-gap:calc(var(--spacing)/4);align-items:stretch;grid-template-columns:repeat(auto-fill,minmax(140px,1fr))}._templates--item[data-v-aa1ebffc]{display:flex;flex-flow:column nowrap;justify-content:space-between;text-align:center;align-items:center;background:var(--c-bleuvert);border-radius:4px;padding:calc(var(--spacing)/2)}._templates--item.is--active[data-v-aa1ebffc]{border:2px solid #fff;outline:2px solid var(--c-bleuvert_fonce)}._label[data-v-aa1ebffc] label{color:#000!important}",""]),e["default"]=r},2240:function(t,e,i){"use strict";i.r(e);var n=i(31601),s=i.n(n),a=i(76314),o=i.n(a),r=o()(s());r.push([t.id,"._preview[data-v-3a0700a8]{border:2px solid var(--c-gris_clair);background-color:var(--c-gris_clair);aspect-ratio:1}._preview[data-v-3a0700a8],._saveNotice[data-v-3a0700a8]{display:flex;justify-content:center;align-items:center}._saveNotice[data-v-3a0700a8]{position:absolute;inset:-2px;background:hsla(0,0%,100%,.95)}",""]),e["default"]=r},32300:function(t,e,i){"use strict";i.r(e);var n=i(31601),s=i.n(n),a=i(76314),o=i.n(a),r=o()(s());r.push([t.id,"._publicationOpen[data-v-191ede3d]{position:relative;min-height:calc(100vh - 45px);display:flex;flex-flow:column nowrap;background-color:var(--c-bodybg);background-color:#fff}._publicationOpen--topbar[data-v-191ede3d]{flex:0 0 auto}._publicationOpen--content[data-v-191ede3d]{flex:1 1 auto}",""]),e["default"]=r},12791:function(t,e,i){"use strict";i.r(e);var n=i(31601),s=i.n(n),a=i(76314),o=i.n(a),r=o()(s());r.push([t.id,"._publicationPreview[data-v-cf3248c2]{display:flex;flex-flow:column nowrap;gap:calc(var(--spacing)/2);padding:calc(var(--spacing)/2)}._publicationPreview--cover[data-v-cf3248c2]{position:relative;background:#fff;box-shadow:0 1px 4px rgba(0,0,0,.1)}._header[data-v-cf3248c2]{cursor:pointer;overflow:hidden}._generatePreviewBtn[data-v-cf3248c2]{position:absolute;bottom:0;right:0;z-index:1;margin:calc(var(--spacing)/2)}._previewProgress[data-v-cf3248c2]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:2;display:flex;justify-content:center;align-items:center;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);pointer-events:none;padding:calc(var(--spacing)*1);font-family:Fira Code}._iconPreview[data-v-cf3248c2]{width:30px;height:30px;position:absolute;bottom:0;left:0;z-index:1;background:var(--c-bleuvert);margin:calc(var(--spacing)/4);padding:calc(var(--spacing)/4);border-radius:4px}._noPreview[data-v-cf3248c2]{display:flex;justify-content:center;align-content:center;align-items:center;padding:calc(var(--spacing)/1);width:100%;aspect-ratio:1;min-height:50px}._icon[data-v-cf3248c2]{position:absolute;top:0;right:0;margin:calc(var(--spacing)/1);font-size:125%}._check[data-v-cf3248c2]{color:var(--c-bleuvert)}._openPublication[data-v-cf3248c2]{position:absolute;top:0;left:0;width:100%;height:100%;background:transparent}._openPublication[data-v-cf3248c2]:focus-visible{outline:2px solid var(--active-color)}",""]),e["default"]=r},12978:function(t,e,i){"use strict";i.r(e);var n=i(31601),s=i.n(n),a=i(76314),o=i.n(a),r=o()(s());r.push([t.id,"._topbar[data-v-4d06861e]{display:flex;flex-flow:row wrap;gap:calc(var(--spacing)/2);align-items:center;width:100%;background:#fff;padding:calc(var(--spacing)/2);margin:0;border-bottom:1px solid var(--c-gris)}._publiTitle[data-v-4d06861e]{flex:10 1 auto}._buttonRow[data-v-4d06861e]{display:flex;flex-flow:row wrap;flex:1 1 auto;justify-content:flex-end;gap:calc(var(--spacing)/2)}._exportBtn[data-v-4d06861e]{position:relative}._backPubli[data-v-4d06861e]{font-size:1.1rem}",""]),e["default"]=r},84439:function(t,e,i){"use strict";i.r(e);var n=i(31601),s=i.n(n),a=i(76314),o=i.n(a),r=o()(s());r.push([t.id,"._publicationsList[data-v-afc0f3fa]{--item-width:140px;width:100%;max-width:var(--max-column-width);margin:0 auto;padding-top:calc(var(--spacing)*1)}._publications--list[data-v-afc0f3fa]{display:grid;grid-auto-rows:max-content;grid-gap:calc(var(--spacing)*1);align-items:end;grid-template-columns:repeat(auto-fill,minmax(180px,1fr))}",""]),e["default"]=r},29956:function(t,e,i){"use strict";i.r(e);var n=i(31601),s=i.n(n),a=i(76314),o=i.n(a),r=o()(s());r.push([t.id,"._projectView[data-v-231399c8]{position:relative;min-height:calc(100vh - 60px)}._projectPanesAndList[data-v-231399c8]{position:relative;z-index:6;display:flex;flex-flow:column nowrap}._projectPanesAndList ._paneList[data-v-231399c8]{flex:0 0 auto}._projectPanesAndList ._panes[data-v-231399c8]{flex:1 1 auto}._topContent[data-v-231399c8]{position:relative}._tabButton[data-v-231399c8]{text-align:center;background:var(--c-gris);padding:calc(var(--spacing)/2)}._tabButton>*[data-v-231399c8]{background:#fff;border-radius:4px}._separator[data-v-231399c8]{margin:0}._errNotice[data-v-231399c8]{padding:calc(var(--spacing)/2)}",""]),e["default"]=r},13486:function(t,e,i){var n=i(3757);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(43197).A;s("144ee1f4",n,!0,{sourceMap:!1,shadowMode:!1})},94221:function(t,e,i){var n=i(52219);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(43197).A;s("45a3727a",n,!0,{sourceMap:!1,shadowMode:!1})},1329:function(t,e,i){var n=i(47067);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(43197).A;s("5299ce4e",n,!0,{sourceMap:!1,shadowMode:!1})},67358:function(t,e,i){var n=i(36492);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(43197).A;s("fdd6e9ac",n,!0,{sourceMap:!1,shadowMode:!1})},27112:function(t,e,i){var n=i(202);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(43197).A;s("07e6dca7",n,!0,{sourceMap:!1,shadowMode:!1})},28098:function(t,e,i){var n=i(36468);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(43197).A;s("c2e2d9b0",n,!0,{sourceMap:!1,shadowMode:!1})},34181:function(t,e,i){var n=i(84747);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(43197).A;s("d92ddee6",n,!0,{sourceMap:!1,shadowMode:!1})},26385:function(t,e,i){var n=i(32499);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(43197).A;s("0469caa4",n,!0,{sourceMap:!1,shadowMode:!1})},17531:function(t,e,i){var n=i(73825);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(43197).A;s("521e0788",n,!0,{sourceMap:!1,shadowMode:!1})},40473:function(t,e,i){var n=i(18267);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(43197).A;s("a158dcf4",n,!0,{sourceMap:!1,shadowMode:!1})},79622:function(t,e,i){var n=i(80032);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(43197).A;s("68b6ab5a",n,!0,{sourceMap:!1,shadowMode:!1})},28433:function(t,e,i){var n=i(21067);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(43197).A;s("86716502",n,!0,{sourceMap:!1,shadowMode:!1})},83740:function(t,e,i){var n=i(70914);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(43197).A;s("132bff98",n,!0,{sourceMap:!1,shadowMode:!1})},36806:function(t,e,i){var n=i(10940);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(43197).A;s("5acd873e",n,!0,{sourceMap:!1,shadowMode:!1})},42441:function(t,e,i){var n=i(85803);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(43197).A;s("713f6da4",n,!0,{sourceMap:!1,shadowMode:!1})},35466:function(t,e,i){var n=i(2240);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(43197).A;s("33cbb586",n,!0,{sourceMap:!1,shadowMode:!1})},95494:function(t,e,i){var n=i(32300);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(43197).A;s("2baed077",n,!0,{sourceMap:!1,shadowMode:!1})},26589:function(t,e,i){var n=i(12791);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(43197).A;s("ecd65fa0",n,!0,{sourceMap:!1,shadowMode:!1})},73932:function(t,e,i){var n=i(12978);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(43197).A;s("02053ae5",n,!0,{sourceMap:!1,shadowMode:!1})},4349:function(t,e,i){var n=i(84439);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(43197).A;s("5890d175",n,!0,{sourceMap:!1,shadowMode:!1})},18350:function(t,e,i){var n=i(29956);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(43197).A;s("cc79bf7e",n,!0,{sourceMap:!1,shadowMode:!1})}}]);