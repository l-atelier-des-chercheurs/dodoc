(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[947],{7947:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return Dt}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_lumaView",class:{"is--mobile_view":t.$root.is_mobile_view}},[t.shared_folder_path?[a("div",{staticClass:"_panes"},[a("div",{key:"myContent",staticClass:"_myContent",class:{"is--shown":t.show_chutier}},[t.show_chutier?a("MyChutier",{attrs:{shared_space_path:t.shared_folder_path},on:{close:function(e){t.show_chutier=!1}}}):t._e(),a("div",{staticClass:"_chutierBtn",class:{"is--showingChutier":t.show_chutier}},[a("button",{attrs:{type:"button"},on:{click:function(e){t.show_chutier=!t.show_chutier}}},[a("svg",{attrs:{width:"17",height:"9",viewBox:"0 0 17 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M0.999812 4.546V4.726C1.87581 5.098 2.67381 5.602 3.39381 6.238C4.11381 6.874 4.77381 7.546 5.37381 8.254L5.75181 7.894C5.53581 7.594 5.30181 7.3 5.04981 7.012C4.78581 6.712 4.51581 6.418 4.23981 6.13C4.07181 5.962 3.98781 5.788 3.98781 5.608C3.98781 5.512 4.02381 5.428 4.09581 5.356C4.16781 5.284 4.28781 5.248 4.45581 5.248H14.5718V8.254H15.5078V1H14.5718V4.024H4.43781C4.26981 4.024 4.14981 3.982 4.07781 3.898C4.00581 3.802 3.96981 3.712 3.96981 3.628C3.96981 3.484 4.05381 3.328 4.22181 3.16C4.48581 2.908 4.75581 2.62 5.03181 2.296C5.29581 1.972 5.52981 1.66 5.73381 1.36L5.35581 1C4.75581 1.696 4.10181 2.368 3.39381 3.016C2.67381 3.664 1.87581 4.174 0.999812 4.546Z",fill:"currentColor",stroke:"currentColor"}})])])])],1),a("div",{key:"sharedContent",staticClass:"_sharedContent",class:{"has--chutier":t.show_chutier}},[a("SharedFolder",{attrs:{shared_folder_path:t.shared_folder_path}})],1)])]:a("LoaderSpinner")],2)},s=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.chutier?a("div",{staticClass:"_myChutier",on:{click:function(e){t.last_clicked=!1}}},[a("div",{staticClass:"_itemsList"},[a("div",{staticClass:"_topBar"},[t.is_instance_admin?a("button",{staticClass:"u-buttonLink _adminBtn",attrs:{type:"button"},on:{click:function(e){t.show_admin_settings=!0}}},[t._v(" "+t._s(t.$t("admin_settings"))+" ")]):t._e(),t.show_admin_settings?a("AdminLumaSettings",{on:{close:function(e){t.show_admin_settings=!1}}}):t._e()],1),a("div",{staticClass:"_topContent"},[a("div",{staticClass:"_subscribeBtn"},[a("button",{staticClass:"u-button u-button_bleumarine _authorBtn",attrs:{type:"button"},on:{click:function(e){return t.$eventHub.$emit("showAuthorModal")}}},[t.connected_as?[t._v(" "+t._s(t.connected_as.name)+" ")]:[t._v(t._s(t.$t("login")))]],2)]),a("div",{staticClass:"_importBtn"},[a("input",{staticClass:"inputfile-2",attrs:{type:"file",multiple:"multiple",id:t.id+"-add_file",name:"file",accept:""},on:{change:function(e){return t.updateInputFiles(e)}}}),a("label",{attrs:{for:t.id+"-add_file"}},[t._v(" "+t._s(t.$t("import"))+" ")])]),a("div",{},[a("button",{staticClass:"u-button u-button_white _qrBtn",attrs:{type:"button"},on:{click:t.createNote}},[a("sl-icon",{attrs:{name:"file-text"}}),t._v(" note ")],1)]),a("div",{},[a("button",{staticClass:"u-button u-button_white _qrBtn",attrs:{type:"button"},on:{click:function(e){t.show_link_picker=!0}}},[a("sl-icon",{attrs:{name:"link-45deg"}}),t._v(" url ")],1),t.show_link_picker?a("LinkPicker",{on:{embed:t.createEmbed,close:function(e){t.show_link_picker=!1}}}):t._e()],1),a("div",{staticClass:"_qrOpt"},[a("button",{staticClass:"u-button u-button_transparent _qrBtn",attrs:{type:"button"},on:{click:function(e){t.show_qr_code_modal=!0}}},[a("sl-icon",{attrs:{name:"qr-code"}})],1),t.show_qr_code_modal?a("QRModal",{attrs:{url_to_access:t.url_to_page},on:{close:function(e){t.show_qr_code_modal=!1}}}):t._e()],1)]),t.selected_files.length>0?a("UploadFiles",{staticClass:"_uploadFilesList",attrs:{files_to_import:t.selected_files,path:t.path},on:{close:function(e){t.selected_files=[]},importedMedias:t.importedMedias}}):t._e(),a("div",{staticClass:"_middleContent"},[a("label",{attrs:{for:""},on:{click:function(e){t.all_items_selected?t.deselectAll():t.selectAll()}}},[t.chutier_items.length>0?a("button",{staticClass:"u-buttonLink u-selectBtn",attrs:{type:"button"}},[a("sl-icon",{attrs:{name:t.all_items_selected?"dash-square-dotted":"plus-square-dotted"}})],1):t._e(),t._v(" Éléments à traiter : "+t._s(t.chutier_items.length)+" ")]),a("br")]),a("div",{staticClass:"_items"},t._l(t.chutier_items_grouped,(function(e){return a("div",{key:e.label,staticClass:"_item"},[a("div",{staticClass:"_item--label",on:{click:function(a){t.rangeIsSelected(e.files.map((function(t){return t.$path})))?t.deselectRange(e.files.map((function(t){return t.$path}))):t.selectRange(e.files.map((function(t){return t.$path})))}}},[t.rangeIsSelected(e.files.map((function(t){return t.$path})))?a("button",{staticClass:"u-buttonLink u-selectBtn",attrs:{type:"button"}},[a("sl-icon",{attrs:{name:"dash-square-dotted"}})],1):a("button",{staticClass:"u-buttonLink u-selectBtn",attrs:{type:"button"}},[a("sl-icon",{attrs:{name:"plus-square-dotted"}})],1),t._v(" "+t._s(t.formatDateToHuman(e.label))+" ")]),a("transition-group",{attrs:{tag:"div",name:"listComplete"}},t._l(e.files,(function(e){return a("div",{key:e.$path,on:{click:function(a){a.stopPropagation(),t.last_clicked=e.$path}}},[a("ChutierItem",{attrs:{file:e,is_clicked:t.last_clicked===e.$path,is_selected:t.selected_items_slugs.includes(e.$path),shared_space_path:t.shared_space_path},on:{toggleSelect:function(a){return t.toggleSelect(e.$path)},unclicked:function(e){t.last_clicked=!1}}})],1)})),0)],1)})),0)],1),a("transition",{attrs:{name:"slideup",mode:"out-in"}},[t.selected_items.length>0?a("div",{key:"selection",staticClass:"_selectionBar"},[a("div",{staticClass:"_selectionBar--previews"},[t._l(t.selected_items,(function(e){return[e.$path?a("MediaContent",{key:e.$path,staticClass:"_selectionBar--previews--preview",attrs:{file:e,context:"preview"}}):t._e()]}))],2),a("button",{staticClass:"u-button u-button_bleuvert",attrs:{type:"button"},on:{click:function(e){t.show_mediastack_modal=!0}}},[t._v(" "+t._s(t.$t("create_stack"))+" ("+t._s(t.selected_items.length)+") ")]),a("div",{staticClass:"u-sameRow"},[a("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:t.deselectAll}},[a("sl-icon",{attrs:{name:"dash-square-dotted"}}),t._v(" Déselectionner tout ")],1),a("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){t.show_confirm_remove_menu=!0}}},[a("sl-icon",{attrs:{name:"trash3"}}),t._v(" Supprimer les éléments ")],1)])]):t._e()]),a("transition",{attrs:{name:"slideup",mode:"out-in"}},[t.show_confirm_remove_menu?a("div",{key:"remove",staticClass:"_removeMenu"},[a("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){t.show_confirm_remove_menu=!1}}},[t._v(" "+t._s(t.$t("cancel"))+" ")]),a("button",{staticClass:"u-button u-button_red",attrs:{type:"button",autofocus:""},on:{click:t.removeItemsInSelection}},[t._v(" "+t._s(t.$t("confirm_removal"))+" ")])]):t._e()]),a("transition",{attrs:{name:"slideup"}},[t.show_mediastack_modal?a("MediaStack",{staticClass:"_mediaStack",attrs:{files:t.selected_items,shared_space_path:t.shared_space_path},on:{updateFocusedMedia:function(e){t.selected_items_slugs=e},stackCreated:function(e){t.selected_items_slugs=[],t.show_mediastack_modal=!1},close:function(e){t.show_mediastack_modal=!1}}}):t._e()],1)],1):t._e()},r=[],n=(a(6699),a(7658),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("BaseModal2",{on:{close:function(e){return t.$emit("close")}}},[a("div",{staticClass:"_linkPicker"},[a("div",{staticClass:"_urlBox"},[a("DLabel",{attrs:{str:t.$t("input_url"),instructions:t.$t("input_url_instr")}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.full_url,expression:"full_url"}],attrs:{type:"url",placeholder:"https://"},domProps:{value:t.full_url},on:{input:function(e){e.target.composing||(t.full_url=e.target.value)}}})],1),a("div",{staticClass:"u-instructions"},[t._v(" PeerTube, YouTube, Vimeo, etc. "+t._s(t.$t("for_example"))+"  "),t._l(["https://peertube.fr/w/wB6M6CHdfpWXpozVnqjbde","https://www.youtube.com/watch?v=Bn6zdyCAwJs","https://vimeo.com/447785086","https://observablehq.com/embed/@fil/bertin1953-glsl?cells=canvas"],(function(e,i){return a("button",{key:i,staticClass:"u-buttonLink",attrs:{type:"button"},domProps:{innerHTML:t._s(e)},on:{click:function(a){t.full_url=e}}})}))],2),a("br"),a("div",{key:t.full_url},["any"===t.url_to_site.type?[a("iframe",{staticClass:"_siteIframe",attrs:{src:t.url_to_site.src,frameborder:"0"}})]:a("vue-plyr",[a("div",{staticClass:"plyr__video-embed"},[a("iframe",{attrs:{src:t.url_to_site.src,allowfullscreen:"",allowtransparency:"",allow:"autoplay; fullscreen",sandbox:"allow-same-origin allow-scripts allow-popups",frameborder:"0"}})])])],2),a("br"),t.full_url?a("div",{staticClass:"_selectBtn"},[a("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v(" "+t._s(t.$t("cancel"))+" ")]),a("button",{staticClass:"u-button u-button_bleuvert",attrs:{type:"button"},on:{click:function(e){return t.$emit("embed",t.full_url)}}},[t._v(" "+t._s(t.$t("embed"))+" ")])]):t._e()])])}),c=[],l={props:{},components:{},data(){return{full_url:"https://"}},async created(){},beforeDestroy(){},watch:{},computed:{url_to_site(){return!!this.full_url&&this.transformURL({url:this.full_url,autoplay:!1})}},methods:{}},d=l,u=(a(148),a(1001)),_=(0,u.Z)(d,n,c,!1,null,"a5930508",null),p=_.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_chutierRow",class:{"is--clicked":t.is_clicked,"is--selected":t.is_selected,"is--edited":t.edit_mode,"is--mousedown":t.is_mousedown},on:{click:function(e){!t.edit_mode&&t.$emit("toggleSelect")},mousedown:function(e){t.is_mousedown=!0},mouseup:function(e){t.is_mousedown=!1}}},[a("div",{staticClass:"_chutierRow--rows"},[a("div",{staticClass:"_infos"},[!t.edit_mode&&t.$listeners&&t.$listeners.toggleSelect?a("label",{staticClass:"_selectBox",attrs:{for:t.id},on:{click:function(t){t.stopPropagation()}}},[a("input",{attrs:{type:"checkbox",name:t.id,id:t.id},domProps:{checked:t.is_selected},on:{change:function(e){return t.$emit("toggleSelect")}}})]):t._e(),"text"===t.file.$type&&t.edit_mode?t._e():a("div",{staticClass:"_chutierRow--openLarge",on:{click:function(e){e.stopPropagation(),t.show_large=!0}}},[a("MediaContent",{staticClass:"_chutierRow--preview",attrs:{file:t.file,context:"preview"}})],1),a("div",{staticClass:"_titleDateField"},[a("div",[a("div",{},[a("small",[t.edit_mode?[a("input",{directives:[{name:"model",rawName:"v-model",value:t.date_created_corrected,expression:"date_created_corrected"}],staticClass:"is--dark",attrs:{type:"datetime-local",step:"1"},domProps:{value:t.date_created_corrected},on:{input:function(e){e.target.composing||(t.date_created_corrected=e.target.value)}}})]:[t._v(" "+t._s("stack"===t.context?t.formatDateTimeToPrecise(t.date_created_corrected):t.formatTime(t.date_created_corrected,{hour:"2-digit",minute:"2-digit"}))+" ")]],2)]),t.edit_mode?[a("input",{directives:[{name:"model",rawName:"v-model",value:t.text_title,expression:"text_title"}],staticClass:"is--dark",attrs:{type:"text",autofocus:"",required:"",placeholder:"Titre"},domProps:{value:t.text_title},on:{keydown:[function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault(),"stack"===t.context&&t.$emit("unclicked")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:(e.preventDefault(),t.cancelEdit.apply(null,arguments))}],input:function(e){e.target.composing||(t.text_title=e.target.value)}}})]:a("div",[t._v(" "+t._s(t.text_title)+" ")])],2)]),t.edit_mode?t._e():a("EditBtn",{on:{click:function(e){t.edit_mode=!0}}})],1)]),"stack"!==t.context&&(t.edit_mode||t.keywords.length>0||t.description.length>0)?a("div",{staticClass:"_fields"},[t.edit_mode?a("div",[a("span",{staticClass:"u-instructions"},[t._v(" Corrigez ou complétez le titre et les mots-clés pour partager cette pile. ")])]):t._e(),"url"===t.file.$type?a("div",{},[a("div",[a("input",{staticClass:"is--dark",attrs:{type:"url",autofocus:"",disabled:""},domProps:{value:t.file.$content}})])]):t._e(),t.keywords&&t.keywords.length>0||t.edit_mode?a("div",{},[a("KeywordsField",{attrs:{edit_mode:t.edit_mode,keywords:t.keywords},on:{"update:keywords":function(e){t.keywords=e},cancelEdit:t.cancelEdit}})],1):t._e(),t.description||t.edit_mode?a("div",{},[t.edit_mode?["text"!==t.file.$type?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"is--dark _descriptionField",attrs:{placeholder:"Description"},domProps:{value:t.description},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:(e.preventDefault(),t.cancelEdit.apply(null,arguments))},input:function(e){e.target.composing||(t.description=e.target.value)}}}):a("CollaborativeEditor2",{staticClass:"_content",attrs:{path:t.file.$path,content:t.file.$content,edit_on_mounted:!0,can_edit:!0,custom_formats:["bold","italic","underline","link"]}})]:a("div",[t._v(" "+t._s(t.description)+" ")])],2):t._e(),a("div",{staticClass:"_publierBtn"},[a("button",{key:t.share_button_is_enabled,staticClass:"u-buttonLink",attrs:{type:"button",disabled:!t.share_button_is_enabled},on:{click:t.shareButtonClicked}},[t._v(" Publier  "),a("sl-icon",{staticStyle:{"font-size":"1rem"},attrs:{name:"arrow-right-square",circle:""}})],1)])]):t._e(),t.show_large?a("div",{staticClass:"_chutierRow--largePreview",attrs:{"data-type":t.file.$type},on:{click:function(e){if(e.target!==e.currentTarget)return null;t.show_large=!1}}},[a("MediaContent",{attrs:{file:t.file,context:"full",resolution:1600}}),a("button",{staticClass:"u-button u-button_round u-button_black _closeBtn",attrs:{type:"button"},on:{click:function(e){t.show_large=!1}}},[a("sl-icon",{attrs:{name:"x-lg",label:t.$t("close")}})],1)],1):t._e()])},f=[],g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.keywords.length>0?a("div",{staticClass:"u-keywords"},t._l(t.keywords,(function(e){return a("SingleKeyword",{key:e,attrs:{keyword:e,can_remove:t.edit_mode},on:{remove:function(a){return t.removeKeyword(e)}}})})),1):t._e(),t.edit_mode?[a("KeywordsFieldEditor",{attrs:{keywords:t.keywords},on:{"update:keywords":function(e){return t.$emit("update:keywords",e)}}})]:t._e()],2)},m=[],v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_keywordsFieldEditor"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user_suggestion,expression:"user_suggestion"}],ref:"keywordField",staticClass:"is--dark",attrs:{type:"text",required:"",placeholder:"Mot-clé, matériaux, lieux, etc."},domProps:{value:t.user_suggestion},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:(e.preventDefault(),t.$emit("cancelEdit"))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.newKeyword.apply(null,arguments))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.shiftKey?e.ctrlKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.submitFirstSuggestion.apply(null,arguments)):null}],input:function(e){e.target.composing||(t.user_suggestion=e.target.value)}}}),a("div",{staticClass:"u-instructions"},[a("small",[t.suggested_keywords.length>0?[t._v(" Validez la première suggestion avec SHIFT+ENTRÉE, ou créez un nouveau mot-clé avec ENTRÉE. ")]:t.user_suggestion.length>0?[t._v("Créez un nouveau mot-clé avec ENTRÉE.")]:t._e()],2)]),a("div",{staticClass:"_catSug"},[a("div",{staticClass:"_categories"},t._l(t.categories_with_keywords,(function(e){return a("button",{key:e,staticClass:"u-button _category",class:{"is--active":t.suggestion_from_category===e},attrs:{type:"button","data-category":e},on:{click:function(a){return t.toggleCategory(e)}}},[t._v(" "+t._s(e)+" ("+t._s(t.matchingKeywordsWithCategory(e).length)+") ")])})),0),t.suggested_keywords.length>0?a("div",{staticClass:"_suggestions"},[a("div",{staticClass:"u-keywords"},t._l(t.suggested_keywords,(function(e,i){return a("SingleKeyword",{key:e,class:{"is--first":0===i},attrs:{keyword:e,can_add:!0},on:{add:function(a){return t.addKeyword(e)}}})})),1)]):t._e()])])},w=[],y=(a(5827),a(2262),a(4506),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_singleKeyword",class:{"is--clickable":t.can_add},style:t.kw_styles},[a("div",{},[t.category?a("div",{staticClass:"_category"},[t._v(" "+t._s(t.category.toUpperCase())+" ")]):t._e(),a("div",{staticClass:"_name"},[t._v(" "+t._s(t.name)+" ")])]),t.can_remove?a("sl-icon-button",{staticClass:"_white",attrs:{name:"dash-circle"},on:{click:function(e){return t.$emit("remove")}}}):t._e(),t.can_add?a("button",{staticClass:"_addBtn",attrs:{type:"button"},on:{click:function(e){return t.$emit("add")}}}):t._e()],1)}),b=[],k={props:{keyword:String,cat_color:String,can_remove:Boolean,can_add:Boolean},components:{},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{category(){return!!this.keyword.includes("/")&&this.keyword.split("/").at(0)},name(){return this.keyword.includes("/")?this.keyword.split("/").at(1):this.keyword},kw_styles(){let t=!1;if(this.cat_color)t=this.cat_color;else{const e=window.app_infos.custom_suggested_categories.find((t=>t.title===this.category));t=null===e||void 0===e?void 0:e.tag_color}return t?`--cat-color: ${t}`:""}},methods:{}},C=k,x=(a(1696),(0,u.Z)(C,y,b,!1,null,"89ab98be",null)),$=x.exports,F={props:{keywords:Array},components:{SingleKeyword:$},data(){return{user_suggestion:"",suggestion_from_category:!1,categories:[],path:"categories"}},async created(){this.categories=await this.$api.getFolders({path:this.path}),this.$api.join({room:this.path})},async mounted(){},beforeDestroy(){this.$api.leave({room:this.path})},watch:{},computed:{all_categories(){return this.categories.map((t=>t.title))},all_keywords(){return this.categories.reduce(((t,e)=>(e.title&&e.list_of_suggestions&&e.list_of_suggestions.map((a=>{t.push(e.title+"/"+a)})),t)),[])},categories_with_keywords(){return this.all_categories.filter((t=>this.matchingKeywordsWithCategory(t).length>0))},suggested_keywords(){return this.matchingKeywordsWithCategory(this.suggestion_from_category)}},methods:{matchingKeywordsWithCategory(t){return this.all_keywords.filter((e=>{const a=!!e.includes("/")&&e.split("/").at(0),i=e.includes("/")?e.split("/").at(1):e;return!this.keywords.includes(e)&&((!t||t===a)&&(!(!t&&0===this.user_suggestion.length)&&i.toLowerCase().startsWith(this.user_suggestion.toLowerCase())))}))},toggleCategory(t){this.suggestion_from_category===t?this.suggestion_from_category=!1:this.suggestion_from_category=t},newKeyword(){this.user_suggestion.length>0&&this.addKeyword(this.user_suggestion)},submitFirstSuggestion(){if(0===this.suggested_keywords.length)return!1;const t=this.suggested_keywords.at(0);this.addKeyword(t)},keywordKey(t){return t.category+"/"+t.name},addKeyword(t){let e=this.keywords.slice();e.push(t),e.sort(((t,e)=>e)),this.$emit("update:keywords",e),this.user_suggestion="",this.$refs.keywordField.focus()}}},S=F,B=(a(4677),(0,u.Z)(S,v,w,!1,null,"b0d92850",null)),M=B.exports,j={props:{keywords:Array,edit_mode:Boolean},components:{KeywordsFieldEditor:M,SingleKeyword:$},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{removeKeyword(t){this.$emit("update:keywords",this.keywords.filter((e=>e!==t)))}}},z=j,E=(0,u.Z)(z,g,m,!1,null,"7ad5f15e",null),R=E.exports,I={props:{file:Object,is_selected:Boolean,is_clicked:Boolean,shared_space_path:String,context:{type:String,default:"list"}},components:{KeywordsField:R},data(){return{opened_pane:void 0,show_large:!1,is_mousedown:!1,edit_mode:!1,id:`select_chutier_item_${(Math.random().toString(36)+"00000000000000000").slice(2,5)}`,text_title:this.file.title||this.cleanFilename(this.file.$media_filename)||"",date_created_corrected:this.datetimeLocal(this.file.date_created_corrected||this.file.$date_created||this.file.$date_uploaded||new Date),description:this.file.description||"",keywords:this.file.keywords||[]}},created(){},mounted(){this.$eventHub.$on("chutier.item.edit",this.setEdit)},beforeDestroy(){this.$eventHub.$off("chutier.item.edit",this.setEdit)},watch:{"file.title"(){this.text_title=this.file.title},is_clicked(){!this.is_clicked&&this.edit_mode&&(this.saveFields(),this.edit_mode=!1)},edit_mode(){this.edit_mode&&this.$nextTick((()=>{this.$el.querySelector("[autofocus]").select()}))}},computed:{share_button_is_enabled(){return this.text_title.length>0&&this.keywords.length>0}},methods:{setEdit(t){const e=this.getFilename(this.file.$path);t===e&&(this.edit_mode=!0)},async moveToSharedSpace(){const t=this.shared_space_path;await this.$api.copyFile({path:this.file.$path,path_to_destination_folder:t,new_meta:{$authors:[this.connected_as.$path]}}),await this.remove()},async remove(){this.$api.deleteItem({path:this.file.$path})},cleanFilename(){return this.file.$media_filename.substring(0,this.file.$media_filename.lastIndexOf("."))},cancelEdit(){this.text_title=this.file.title||this.cleanFilename(this.file.$media_filename)||"",this.date_created_corrected=this.file.date_created_corrected||this.file.$date_created||this.file.$date_uploaded||"",this.description=this.file.description||"",this.keywords=this.file.keywords||"",this.edit_mode=!1},async shareButtonClicked(){if(this.share_button_is_enabled){if(this.edit_mode)return await this.saveFields(),void await this.moveToSharedSpace();await this.moveToSharedSpace()}else this.edit_mode=!0},openLarge(){this.$emit("")},async saveFields(){""===this.date_created_corrected&&(this.date_created_corrected=this.file.date_created_corrected||this.file.$date_created||this.file.$date_uploaded);let t={title:this.text_title,date_created_corrected:this.date_created_corrected,description:this.description,keywords:this.keywords};await this.$api.updateMeta({path:this.file.$path,new_meta:t}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t}))},save(){},cancel(){this.edit_mode=!1}}},P=I,L=(a(8830),(0,u.Z)(P,h,f,!1,null,"88e3315a",null)),K=L.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ChutierPane",{on:{close:function(e){return t.$emit("close")}}},[a("div",{staticClass:"_mediaFocus",on:{click:function(e){t.last_clicked=!1}}},[a("div",{staticClass:"_fileStack"},[a("transition-group",{staticClass:"_itemsList",attrs:{tag:"div",name:"listComplete"}},t._l(t.files,(function(e,i){return a("div",{key:e.$path,staticClass:"u-sameRow",on:{click:function(a){a.stopPropagation(),t.last_clicked=e.$path}}},[a("div",{staticClass:"_removeFile"},[a("sl-icon-button",{attrs:{name:"dash-square-dotted"},on:{click:function(a){return t.removeFromSelection(e.$path)}}})],1),a("select",{staticClass:"is--dark _changeOrderSelect",domProps:{value:i+1},on:{change:function(e){return t.changeMediaOrder(i,+e.target.value-1)}}},t._l(new Array(t.files.length).fill(null),(function(e,i){return a("option",{key:i+1,domProps:{textContent:t._s(i+1)}})})),0),a("ChutierItem",{attrs:{file:e,is_clicked:t.last_clicked===e.$path,is_selected:!1,context:"stack"},on:{unclicked:function(e){t.last_clicked=!1}}})],1)})),0)],1),a("div",{staticClass:"_fields"},[a("small",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.date_created_corrected,expression:"date_created_corrected"}],staticClass:"is--dark",attrs:{type:"datetime-local",step:"1"},domProps:{value:t.date_created_corrected},on:{input:function(e){e.target.composing||(t.date_created_corrected=e.target.value)}}})]),a("span",{staticClass:"u-instructions"},[t._v(" Corrigez ou complétez le titre et les mots-clés pour partager cette pile. ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"is--dark",attrs:{type:"text",required:"",placeholder:"Titre"},domProps:{value:t.title},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:(e.preventDefault(),t.$emit("close"))},input:function(e){e.target.composing||(t.title=e.target.value)}}}),a("KeywordsField",{attrs:{edit_mode:!0,keywords:t.keywords},on:{"update:keywords":function(e){t.keywords=e},cancelEdit:function(e){return t.$emit("close")}}}),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"is--dark _descriptionField",attrs:{placeholder:"Description"},domProps:{value:t.description},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:(e.preventDefault(),t.$emit("close"))},input:function(e){e.target.composing||(t.description=e.target.value)}}})],1),a("div",{staticClass:"_shareBtn"},[a("transition",{attrs:{name:"scaleInFade",mode:"out-in"}},[t.shared_space_path?a("button",{key:t.share_button_is_enabled,staticClass:"u-buttonLink",attrs:{type:"button",disabled:!t.share_button_is_enabled},on:{click:t.shareButtonClicked}},[t._v(" Publier  "),a("sl-icon",{staticStyle:{"font-size":"1rem"},attrs:{name:"arrow-right-square",circle:""}})],1):t._e()])],1)])])},D=[],T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_chutierPane"},[a("sl-button",{staticClass:"_closeBtn",attrs:{variant:"neutral",size:"medium",circle:""},on:{click:function(e){return t.$emit("close")}}},[a("sl-icon",{attrs:{name:"x-lg",label:t.$t("close")}})],1),t._t("default")],2)},Z=[],N={props:{},components:{},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{}},O=N,A=(a(4252),(0,u.Z)(O,T,Z,!1,null,"1cb65e24",null)),H=A.exports,V={props:{files:Array,shared_space_path:String},components:{ChutierPane:H,KeywordsField:R,ChutierItem:K},data(){return{last_clicked:void 0,title:"",description:"",keywords:[],date_created_corrected:""}},created(){const t=this.files.map((t=>t.date_created_corrected||t.$date_created||t.$date_uploaded));t.sort(((t,e)=>+new Date(e)-+new Date(t))),this.date_created_corrected=this.datetimeLocal(t[0])},mounted(){},beforeDestroy(){},watch:{},computed:{share_button_is_enabled(){return this.title.length>0&&this.keywords.length>0}},methods:{changeMediaOrder(t,e){let a=this.files.map((t=>t.$path));function i(t,e,a){if(a>=t.length){var i=a-t.length+1;while(i--)t.push(void 0)}return t.splice(a,0,t.splice(e,1)[0]),t}i(a,t,e),this.$emit("updateFocusedMedia",a)},removeFromSelection(t){let e=this.files.map((t=>t.$path));e=e.filter((e=>e!==t)),this.$emit("updateFocusedMedia",e)},async shareButtonClicked(){const t=this.shared_space_path;this.title,this.description,this.keywords;const e={title:this.title,description:this.description,keywords:this.keywords,date_created_corrected:this.date_created_corrected,requested_slug:"stack",is_stack:!0,stack_files_metas:[],$authors:[this.connected_as.$path]},a=await this.$api.uploadFile({path:t,additional_meta:e}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t})),i=[];for(const s of this.files){const e=await this.$api.copyFile({path:s.$path,path_to_destination_folder:t,new_meta:{$authors:[this.connected_as.$path],belongs_to_stack:a}});i.push(e),await this.$api.deleteItem({path:s.$path})}await this.$api.updateMeta({path:t+"/"+a,new_meta:{stack_files_metas:i}}),this.$emit("stackCreated")}}},J=V,W=(a(4031),(0,u.Z)(J,q,D,!1,null,"491f60b2",null)),U=W.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("BaseModal2",{attrs:{title:t.$t("settings")},on:{close:function(e){return t.$emit("close")}}},[a("div",{},[t.is_loading?a("div",{key:"loader",staticClass:"_spinner"},[a("LoaderSpinner")],1):a("div",[a("sl-tab-group",{on:{"sl-tab-show":t.newTabShown}},[a("sl-tab",{attrs:{slot:"nav",panel:"administration_and_access_control"},slot:"nav"},[t._v(" "+t._s(t.$t("administration_and_access_control"))+" ")]),a("sl-tab",{attrs:{slot:"nav",panel:"suggested_cat_kw"},slot:"nav"},[t._v(" "+t._s(t.$t("suggested_cat_kw"))+" ")]),a("sl-tab-panel",{attrs:{name:"administration_and_access_control"}},["administration_and_access_control"===t.current_tab?a("AdminsAndContributorsField",{attrs:{folder:t.settings,can_edit:!0,admin_label:t.$t("admin"),admin_instructions:t.$t("instance_admin_instructions"),contrib_instructions:t.$t("instance_contrib_instructions")}}):t._e()],1),a("sl-tab-panel",{attrs:{name:"suggested_cat_kw"}},["suggested_cat_kw"===t.current_tab?a("SuggestedCategories"):t._e()],1)],1)],1)])])},G=[],Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.opened_category_path?[a("SingleCategory",{attrs:{path:t.opened_category_path},on:{close:function(e){t.opened_category_path=!1}}})]:[a("div",t._l(t.categories,(function(e){return a("div",{key:e.$path,staticClass:"_categoryRow"},[a("div",{staticClass:"_title",style:t.categoryStyles(e)},[t._v(" "+t._s(e.title)+" ")]),a("button",{staticClass:"u-buttonLink",attrs:{type:"button"},domProps:{textContent:t._s(t.$t("open"))},on:{click:function(a){return t.openCategory(e.$path)}}})])})),0),a("button",{staticClass:"u-buttonLink",class:{"is--active":t.show_create_category},attrs:{type:"button"},on:{click:function(e){t.show_create_category=!t.show_create_category}}},[t._v(" "+t._s(t.$t("add_category"))+" ")]),t.show_create_category?a("form",{staticClass:"input-validation-required",on:{submit:function(e){return e.preventDefault(),t.createCategory.apply(null,arguments)}}},[a("fieldset",[a("legend",{staticClass:"u-label"},[t._v(t._s(t.$t("add_category")))]),a("TextInput",{staticClass:"u-spacingBottom",attrs:{content:t.new_category_title,label_str:"category_name",required:!0,input_type:"text"},on:{"update:content":function(e){t.new_category_title=e}}}),t._m(0),a("button",{staticClass:"u-button u-button_bleuvert",attrs:{slot:"footer",disabled:0===t.new_category_title.length,type:"submit"},slot:"footer"},[t._v(" "+t._s(t.$t("create"))+" ")])],1)]):t._e()]],2)},X=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"u-instructions"},[a("small",[t._v(" Tout en majuscule ")])])}],tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[a("sl-icon",{attrs:{name:"arrow-left-short"}}),t._v(" "+t._s(t.$t("back"))+" ")],1),a("div",{staticClass:"u-spacingBottom"}),t.is_loading?a("div",{key:"loader",staticClass:"_spinner"},[a("LoaderSpinner")],1):a("div",[a("div",{staticClass:"_top"},[a("div",{staticClass:"u-spacingBottom"},[a("TitleField",{staticClass:"_title",attrs:{label:t.$t("category_title"),field_name:"title",content:t.category.title,path:t.category.$path,tag:"h3",required:!0,maxlength:20,can_edit:!1}})],1),a("ColorInput",{attrs:{label:t.$t("custom_color"),default_value:"#ffffff",value:t.category.tag_color,can_toggle:!0},on:{save:t.saveNewColor}})],1),a("div",{staticClass:"u-spacingBottom _kwSimulation"},[a("SingleKeyword",{attrs:{keyword:t.category.title+"/couleur",cat_color:t.category.tag_color}})],1),a("div",{staticClass:"u-spacingBottom u-keywords"},t._l(t.new_list_of_suggestions,(function(e){return a("SingleKeyword",{key:e,attrs:{keyword:e,can_remove:!0},on:{remove:function(a){return t.removeSuggestion(e)}}})})),1),a("div",{staticClass:"u-spacingBottom"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.new_suggestion,expression:"new_suggestion"}],attrs:{type:"text",placeholder:"Nouveau mot-clé"},domProps:{value:t.new_suggestion},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.newKeyword.apply(null,arguments))},input:function(e){e.target.composing||(t.new_suggestion=e.target.value)}}}),t.new_keyword_already_exists?a("div",{staticClass:"u-instructions"},[a("small",[t._v("Ce mot-clé existe déjà, vous ne pouvez pas l’ajouter. Si vous souhaitez changer la case, supprimez le de la liste puis ajoutez le à nouveau.")])]):t.new_keyword_contains_slash?a("div",{staticClass:"u-instructions"},[a("small",[t._v('Ce mot-clé contient le caractère "/", qui est interdit.')])]):t.new_suggestion.length>0?a("div",{staticClass:"u-instructions"},[a("small",[t._v("Validez avec la touche entrée.")])]):t._e()]),0===t.new_suggestion.length?a("SaveCancelButtons",{staticClass:"_scb",on:{save:t.saveNewSuggestion,cancel:t.cancel}}):t._e()],1)])},et=[],at={props:{path:String},components:{SingleKeyword:$},data(){return{category:void 0,is_loading:!0,new_list_of_suggestions:[],new_suggestion:""}},created(){},async mounted(){this.category=await this.$api.getFolder({path:this.path}),this.$api.join({room:this.path}),this.new_list_of_suggestions=this.category.list_of_suggestions||[],this.is_loading=!1},beforeDestroy(){this.$api.leave({room:this.path})},watch:{},computed:{new_keyword_already_exists(){return this.new_list_of_suggestions.some((t=>t.toLowerCase()===this.new_suggestion.toLowerCase()))},new_keyword_contains_slash(){return this.new_suggestion.includes("/")}},methods:{removeSuggestion(t){this.new_list_of_suggestions=this.new_list_of_suggestions.filter((e=>e!==t))},newKeyword(){if(0===this.new_suggestion.length||this.new_keyword_already_exists||this.new_keyword_contains_slash)return!1;this.new_list_of_suggestions.push(this.new_suggestion),this.new_suggestion=""},cancel(){this.new_list_of_suggestions=this.category.list_of_suggestions,this.new_suggestion="",this.$emit("close")},async saveNewSuggestion(){await this.$api.updateMeta({path:this.path,new_meta:{list_of_suggestions:this.new_list_of_suggestions}}),this.$emit("close")},async saveNewColor(t){await this.$api.updateMeta({path:this.path,new_meta:{tag_color:t||""}})}}},it=at,st=(a(7865),(0,u.Z)(it,tt,et,!1,null,"2cc836ca",null)),ot=st.exports,rt={props:{},components:{SingleCategory:ot},data(){return{categories:void 0,show_create_category:!1,opened_category_path:!1,new_category_title:"",path:"categories"}},created(){},async mounted(){this.categories=await this.$api.getFolders({path:this.path}).catch((t=>{this.fetch_categories_error=t.response})),this.$api.join({room:this.path})},beforeDestroy(){this.$api.leave({room:this.path})},watch:{},computed:{},methods:{async createCategory(){const t=await this.$api.createFolder({path:this.path,additional_meta:{title:this.new_category_title.toUpperCase(),requested_slug:this.new_category_title,$status:"public"}});this.openCategory(this.path+"/"+t)},openCategory(t){this.opened_category_path=t},categoryStyles(t){return t.tag_color?`\n        color: ${t.tag_color}\n      `:""}}},nt=rt,ct=(a(6029),(0,u.Z)(nt,Q,X,!1,null,"07d97431",null)),lt=ct.exports,dt={props:{},components:{SuggestedCategories:lt},data(){return{settings:void 0,is_loading:!0,current_tab:"administration_and_access_control"}},created(){},async mounted(){this.settings=await this.$api.getFolder({path:""}).catch((t=>(this.is_loading=!1,t))),this.is_loading=!1,this.$api.join({room:this.settings.$path})},beforeDestroy(){this.$api.leave({room:this.settings.$path})},watch:{},computed:{},methods:{newTabShown(t){this.current_tab=t.detail.name}}},ut=dt,_t=(0,u.Z)(ut,Y,G,!1,null,"304347bc",null),pt=_t.exports,ht={props:{shared_space_path:String},components:{LinkPicker:p,ChutierItem:K,MediaStack:U,AdminLumaSettings:pt},data(){return{chutier:void 0,selected_files:[],id:`image_select_${(Math.random().toString(36)+"00000000000000000").slice(2,5)}`,show_admin_settings:!1,last_clicked:void 0,selected_items_slugs:[],show_mediastack_modal:!1,max_items_selected:15,show_link_picker:!1,show_qr_code_modal:!1,show_confirm_remove_menu:!1}},created(){},mounted(){this.listChutier(),this.$api.join({room:this.path})},beforeDestroy(){this.$api.leave({room:this.path})},watch:{selected_items_slugs(){this.show_confirm_remove_menu&&(this.show_confirm_remove_menu=!1),this.selected_items_slugs.length>this.max_items_selected&&(this.selected_items_slugs=this.selected_items_slugs.slice(0,this.max_items_selected),this.$alertify.delay(4e3).error(this.$t("notifications.too_many_items_selected")),setTimeout((()=>{this.$alertify.delay(4e3).error(this.$t("notifications.max_items_is")+" "+this.max_items_selected)}),500))},chutier_items(){const t=this.selected_items_slugs.filter((t=>this.chutier_items.some((e=>e.$path===t))));JSON.stringify(this.selected_items_slugs)!==JSON.stringify(t)&&(this.selected_items_slugs=t)}},computed:{path(){return this.connected_as.$path},url_to_page(){return this.$route.path,window.location.href},selected_items(){return this.selected_items_slugs.map((t=>this.chutier_items.find((e=>e.$path===t))||!1))},all_items_selected(){return this.selected_items.length===this.chutier_items.length},chutier_items(){if(!this.chutier||!this.chutier.$files)return[];const t=JSON.parse(JSON.stringify(this.chutier.$files));return t.sort(((t,e)=>{const a=t=>new Date(t.date_created_corrected||t.$date_created||t.$date_uploaded);return+a(e)-+a(t)})),t},chutier_items_grouped(){return this.groupFilesBy(this.chutier_items,["date_created_corrected","$date_created","$date_uploaded"],"day")}},methods:{async listChutier(){this.chutier=await this.$api.getFolder({path:this.path}).catch((t=>{this.fetch_project_error=t.response,this.is_loading=!1}))},toggleSelect(t){this.selected_items_slugs.includes(t)?this.selected_items_slugs=this.selected_items_slugs.filter((e=>e!==t)):this.selected_items_slugs.push(t)},updateInputFiles(t){this.selected_files=Array.from(t.target.files),t.target.value=""},async createNote(){const t=await this.$api.uploadText({path:this.path,filename:"note.txt",content:"",additional_meta:{title:"Sans titre"}});setTimeout((()=>{this.$eventHub.$emit("chutier.item.edit",t)}),100)},async createEmbed(t){const e=await this.$api.uploadText({path:this.path,filename:"url.txt",content:t,additional_meta:{title:"Titre du lien",$type:"url"}});this.show_link_picker=!1,setTimeout((()=>{this.$eventHub.$emit("chutier.item.edit",e)}),100)},async importedMedias(t){},selectAll(){this.selected_items_slugs=this.chutier_items.map((t=>t.$path))},deselectAll(){this.selected_items_slugs=[]},selectRange(t){this.selected_items_slugs=this.selected_items_slugs.concat(t),this.selected_items_slugs=[...new Set(this.selected_items_slugs)]},deselectRange(t){this.selected_items_slugs=this.selected_items_slugs.filter((e=>!t.includes(e)))},rangeIsSelected(t){return 0!==this.selected_items_slugs.length&&!t.find((t=>!1===this.selected_items_slugs.includes(t)))},async removeItemsInSelection(){for(const t of this.selected_items_slugs)await this.$api.deleteItem({path:t});this.show_confirm_remove_menu=!1}}},ft=ht,gt=(a(8569),(0,u.Z)(ft,o,r,!1,null,"2d05d026",null)),mt=gt.exports,vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.shared_folder?a("div",{staticClass:"_sharedFolder",on:{scroll:t.updatedScroll}},[a("div",{staticClass:"_topbar"},[a("div",{staticClass:"_topbar--content"},[a("div",{staticClass:"_title"},[a("transition",{attrs:{name:"showBTTBtn"}},[t.current_scroll>100?a("button",{attrs:{type:"button"},on:{click:t.scrollTop}},[a("sl-icon",{attrs:{name:"arrow-up-circle-fill"}})],1):t._e()]),t._v(" ESPACE PARTAGÉ / ARCHIVE ")],1),a("div",{staticClass:"_groupBy"},t._l(t.group_options,(function(e){return a("div",{key:e.key},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.group_mode,expression:"group_mode"}],attrs:{type:"radio",id:e.key},domProps:{value:e.key,checked:t._q(t.group_mode,e.key)},on:{change:function(a){t.group_mode=e.key}}}),a("label",{class:{"is--selected":e.key===t.group_mode},attrs:{for:e.key},domProps:{textContent:t._s(e.label)}})])})),0),a("div",{staticClass:"_sortSelect"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.sort_order,expression:"sort_order"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.sort_order=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"date_created"},domProps:{textContent:t._s(t.$t("date_created"))}}),a("option",{attrs:{value:"date_uploaded"},domProps:{textContent:t._s(t.$t("date_uploaded"))}})])])])]),t.opened_files?a("ItemModal",{attrs:{file:t.opened_files},on:{close:t.closeFile}}):t._e(),a("transition",{attrs:{name:"pagechange",mode:"out-in"}},[a("transition-group",{key:t.sort_order+"-"+t.group_mode,attrs:{tag:"div",name:"projectsList",appear:""}},t._l(t.grouped_files,(function(e){var i=e.label,s=e.files;return a("div",{key:i,staticClass:"_dayFileSection"},[a("div",{staticClass:"_label"},[t._v(" "+t._s(i)+" ")]),a("transition-group",{staticClass:"_grid",attrs:{tag:"div",name:"listComplete",appear:""}},t._l(s,(function(e){return a("SharedFolderItem",{key:e.$path,staticClass:"_file",attrs:{file:e,is_opened:t.opened_files&&t.opened_files.$path===e.$path},on:{open:function(a){return t.openFile(e.$path)}}})})),1)],1)})),0)],1),a("footer",{staticClass:"_footer"},[a("small",[a("a",{attrs:{href:"mailto:ckernreuter@luma-arles.org",target:"_blank"}},[t._v("aide/contact")]),a("br"),t._v(" version "+t._s(t.$root.app_infos.version)+" ")])])],1):t._e()},wt=[],yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_sharedFolderItem",class:{"is--opened":t.is_opened},on:{click:function(e){return t.$emit("open")}}},[a("div",{staticClass:"_title"},[t._v(" "+t._s(t.file.title)+" ")]),a("MediaContent",{staticClass:"_sharedFolderItem--preview",attrs:{file:t.file.is_stack?t.file._stack_files[0]:t.file,context:"preview"}}),t.file.is_stack?[t.file._stack_files.length>1?a("MediaContent",{staticClass:"_sharedFolderItem--preview _sharedFolderItem--preview_stacked",attrs:{file:t.file._stack_files[1],context:"preview"}}):t._e(),t.file._stack_files.length>2?a("MediaContent",{staticClass:"_sharedFolderItem--preview _sharedFolderItem--preview_stacked",attrs:{file:t.file._stack_files[2],context:"preview"}}):t._e()]:t._e()],2)},bt=[],kt={props:{file:Object,is_opened:Boolean},components:{},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{}},Ct=kt,xt=(a(2103),(0,u.Z)(Ct,yt,bt,!1,null,"599c4d4e",null)),$t=xt.exports,Ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("BaseModal2",{attrs:{size:"full"},on:{close:function(e){return t.$emit("close")}}},[a("div",{staticClass:"_modalContent"},[a("div",{staticClass:"_topContent"},[a("div",{staticClass:"_openedFile"},[a("transition",{attrs:{name:"scaleInFade_fast",mode:"out-in"}},[t.current_file_shown?a("div",{key:t.current_file_shown.$path,staticClass:"_openedFile--container"},[a("div",{staticClass:"_openedFile--media"},[a("MediaContent",{attrs:{file:t.current_file_shown,context:"full",resolution:1600}})],1),t.file._stack_files?a("div",{staticClass:"_openedFile--title"},[a("div",{staticClass:"_date"},[t.file.date_created_corrected?a("DateDisplay",{attrs:{date:t.file.date_created_corrected}}):a("span",{domProps:{innerHTML:t._s("–")}})],1),a("div",{staticClass:"_title",domProps:{textContent:t._s(t.current_file_shown.title||"–")}})]):t._e()]):t._e()])],1),a("div",{staticClass:"_otherFromStacks"},[t.file._stack_files?t._l(t.file._stack_files,(function(e,i){return a("div",{key:e.$path,class:{"is--shown":t.current_file_index_shown===i},on:{click:function(e){t.current_file_index_shown=i}}},[a("MediaContent",{attrs:{file:e,context:"full",resolution:1600}})],1)})):t._e(),a("sl-icon-button",{staticClass:"_appendMedia",attrs:{name:"plus-circle",circle:"",disabled:""}})],2)]),a("div",{staticClass:"_bottomContent"},[t.file._stack_files?t._e():a("div",[t.file.date_created_corrected?a("DateDisplay",{attrs:{date:t.file.date_created_corrected}}):t._e()],1),a("h1",[t._v(" "+t._s(t.file.title)+" ")]),a("hr"),a("p",[t._v(" "+t._s(t.file.description||"–")+" ")]),a("hr"),t.file.keywords&&Array.isArray(t.file.keywords)&&t.file.keywords.length>0||t.edit_mode?a("div",{},[a("KeywordsField",{attrs:{edit_mode:t.edit_mode,keywords:t.file.keywords},on:{cancelEdit:function(t){}}})],1):t._e(),a("sl-icon-button",{staticClass:"_removeBtn",attrs:{name:"trash3",circle:""},on:{click:function(e){return t.removeMedia(t.file.$path)}}})],1)])])},St=[],Bt={props:{file:Object},components:{KeywordsField:R},data(){return{current_file_index_shown:0,edit_mode:!1}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{current_file_shown(){return this.file._stack_files?this.file._stack_files[this.current_file_index_shown]:this.file}},methods:{removeMedia(t){this.$api.deleteItem({path:t})}}},Mt=Bt,jt=(a(8061),(0,u.Z)(Mt,Ft,St,!1,null,"c6ce1e7e",null)),zt=jt.exports,Et={props:{shared_folder_path:String},components:{SharedFolderItem:$t,ItemModal:zt},data(){return{shared_folder:void 0,sort_order:"date_created",show_backtotop_btn:!1,current_scroll:0,group_mode:"day",group_options:[{key:"day",label:this.$t("day")},{key:"month",label:this.$t("month")},{key:"year",label:this.$t("year")}]}},created(){},async mounted(){this.shared_folder=await this.$api.getFolder({path:this.shared_folder_path}),this.$api.join({room:this.shared_folder_path})},beforeDestroy(){},watch:{},computed:{opened_files(){var t;return!(null===(t=this.$route.query)||void 0===t||!t.file)&&this.shared_files.find((t=>this.getFilename(t.$path)===this.$route.query.file))},shared_files(){var t;if(null===(t=this.shared_folder)||void 0===t||!t.$files)return[];const e=JSON.parse(JSON.stringify(this.shared_folder.$files)),a=e.filter((t=>t.belongs_to_stack)),i=e.reduce(((t,e)=>(e.belongs_to_stack||(e.is_stack&&e.stack_files_metas&&(e._stack_files=e.stack_files_metas.map((t=>a.find((e=>e.$path.endsWith("/"+t)))))),t.push(e)),t)),[]);return i.sort(((t,e)=>+new Date(e.$date_uploaded)-+new Date(t.$date_uploaded))),i},grouped_files(){let t;return"date_created"===this.sort_order?t=["date_created_corrected","$date_created","$date_uploaded"]:"date_uploaded"===this.sort_order&&(t=["$date_uploaded"]),this.groupFilesBy(this.shared_files,t,this.group_mode)}},methods:{updatedScroll(){this.current_scroll=this.$el.scrollTop},scrollTop(){this.$el.scrollTo({top:0,behavior:"smooth"})},openFile(t){let e=Object.assign({},this.$route.query)||{};const a=this.getFilename(t);e.file=a,this.$router.push({query:e})},closeFile(){let t=Object.assign({},this.$route.query)||{};delete t.file,this.$router.push({query:t})}}},Rt=Et,It=(a(4771),(0,u.Z)(Rt,vt,wt,!1,null,"553f0cfa",null)),Pt=It.exports,Lt={props:{},components:{MyChutier:mt,SharedFolder:Pt},data(){return{path:"folders",folders:void 0,shared_folder_path:void 0,show_chutier:!0}},created(){},async mounted(){this.$i18n.locale="fr",await this.loadFolder()},beforeDestroy(){},watch:{connected_as(){}},computed:{},methods:{async loadFolder(){await this.$api.getFolders({path:"authors"}),this.folders=await this.$api.getFolders({path:this.path}).catch((t=>{this.fetch_spaces_error=t.response})),0===this.folders.length?(await this.createFolder(),window.location.reload()):this.shared_folder_path=this.folders[0].$path},async createFolder(){try{const t=await this.$api.createFolder({path:this.path});return t}catch(t){}}}},Kt=Lt,qt=(a(1481),(0,u.Z)(Kt,i,s,!1,null,"47623bdf",null)),Dt=qt.exports},4421:function(t,e,a){"use strict";a.r(e);var i=a(8081),s=a.n(i),o=a(3645),r=a.n(o),n=r()(s());n.push([t.id,"._linkPicker[data-v-a5930508]{width:100%;margin:0 auto}._addMediaBtn[data-v-a5930508]{text-align:center;padding:calc(var(--spacing)*1)}._selectBtn[data-v-a5930508]{display:flex;place-items:center;justify-content:center;width:100%;gap:calc(var(--spacing)/1);background:#fff}iframe[data-v-a5930508]{width:100%;aspect-ratio:4/3}",""]),e["default"]=n},8707:function(t,e,a){"use strict";a.r(e);var i=a(8081),s=a.n(i),o=a(3645),r=a.n(o),n=r()(s());n.push([t.id,"._kwSimulation[data-v-2cc836ca]{display:flex}",""]),e["default"]=n},7223:function(t,e,a){"use strict";a.r(e);var i=a(8081),s=a.n(i),o=a(3645),r=a.n(o),n=r()(s());n.push([t.id,"._categoryRow[data-v-07d97431]{display:flex;justify-content:space-between;align-content:center;padding:calc(var(--spacing)/8) 0}._title[data-v-07d97431]{background:var(--c-noir);padding:calc(var(--spacing)/4) calc(var(--spacing)/2);border-radius:4px}",""]),e["default"]=n},1004:function(t,e,a){"use strict";a.r(e);var i=a(8081),s=a.n(i),o=a(3645),r=a.n(o),n=r()(s());n.push([t.id,"._catBtn[data-v-88e3315a]{background:#ffbe32;border-radius:5px;margin:2px;padding:2px}._fields[data-v-88e3315a]{display:flex;flex-flow:column nowrap;gap:calc(var(--spacing)/1);justify-content:center;padding:calc(var(--spacing)/2)}._selectBox[data-v-88e3315a]{width:20px;display:flex;place-content:center;cursor:pointer;color:var(--c-gris)}._selectBox input[data-v-88e3315a]{cursor:inherit;--form-background:transparent!important;--form-control-color:var(--c-jaune);border-color:#555}._selectBox:hover input[data-v-88e3315a]{border:2px solid var(--c-orange)}._infos[data-v-88e3315a]{flex:1 1 auto;display:flex;flex-flow:row nowrap;justify-content:stretch;align-items:center;gap:calc(var(--spacing)/2);padding:0 calc(var(--spacing)/2);width:100%}._infos ._titleDateField[data-v-88e3315a]{flex:1 1 0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}._chutierRow[data-v-88e3315a]{width:100%;padding:calc(var(--spacing)/4) 0;margin-bottom:2px;overflow:hidden;border-radius:4px;transition:all .1s cubic-bezier(.19,1,.22,1)}._chutierRow[data-v-88e3315a]:not(.is--selected):not(.is--edited):hover{background:hsla(0,0%,100%,.05)}._chutierRow.is--mousedown[data-v-88e3315a]:not(.is--selected):not(.is--edited){background:rgba(0,0,0,.2)}._chutierRow.is--edited[data-v-88e3315a],._chutierRow.is--selected[data-v-88e3315a]{background:hsla(0,0%,100%,.15)}._chutierRow ._chutierRow--openLarge[data-v-88e3315a]{display:block;cursor:pointer}._chutierRow ._chutierRow--openLarge[data-v-88e3315a]:hover{opacity:.8}._chutierRow ._chutierRow--rows[data-v-88e3315a]{display:flex;flex-flow:row nowrap;justify-content:space-between;align-items:center}._chutierRow[data-v-88e3315a]:not(.is--edited){cursor:pointer}._chutierRow ._chutierRow--preview[data-v-88e3315a]{position:relative;height:60px;border-radius:2px;width:60px;flex:0 0 auto;overflow:hidden;color:#fff;background:#000;font-size:70%}._chutierRow ._chutierRow--preview[data-v-88e3315a]  ._mediaContent--image{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center}._chutierRow ._chutierRow--preview[data-v-88e3315a]  .ql-container{font-size:50%}._chutierRow ._chutierRow--largePreview[data-v-88e3315a]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:2;overflow:auto;background:#000}._chutierRow ._chutierRow--largePreview[data-type=text][data-v-88e3315a]{padding:calc(var(--spacing))}._chutierRow ._chutierRow--largePreview[data-v-88e3315a]  ._mediaContent{width:100%;height:100%;pointer-events:none}._chutierRow ._chutierRow--largePreview[data-v-88e3315a]  ._mediaContent .u-floatingFsButton{display:none}._chutierRow ._chutierRow--largePreview[data-v-88e3315a]  ._mediaContent ._mediaContent--pdfIframe,._chutierRow ._chutierRow--largePreview[data-v-88e3315a]  ._mediaContent .plyr__control{pointer-events:auto}._chutierRow ._chutierRow--largePreview[data-v-88e3315a]  ._mediaContent ._mediaContent--image{width:100%;height:100%;-o-object-fit:contain;object-fit:contain;-o-object-position:center;object-position:center}._chutierRow ._chutierRow--largePreview[data-v-88e3315a]  ._mediaContent .plyr__video-wrapper{pointer-events:none}._chutierRow ._chutierRow--largePreview ._closeBtn[data-v-88e3315a]{position:absolute;top:0;right:0;margin:calc(var(--spacing)/2)}._descriptionField[data-v-88e3315a]{resize:vertical}._publierBtn[data-v-88e3315a]{text-align:center;margin:calc(var(--spacing)/4) auto}._content[data-v-88e3315a]  .ql-editor{background-color:#363636;border-color:#fff;color:#fff;padding:calc(var(--spacing)*.5)}._content[data-v-88e3315a]  ._editBtn{display:none}._content[data-v-88e3315a]  .ql-toolbar.ql-toolbar{top:50px;border-radius:8px;display:flex;flex-flow:row wrap;justify-content:space-between}._content[data-v-88e3315a]  .ql-toolbar.ql-toolbar ._TEbtnContainer{width:auto;flex:1 0 auto;display:flex;justify-content:flex-end}",""]),e["default"]=n},9774:function(t,e,a){"use strict";a.r(e);var i=a(8081),s=a.n(i),o=a(3645),r=a.n(o),n=r()(s());n.push([t.id,"._modalContent[data-v-c6ce1e7e]{background:#efefef;padding:0;min-height:100%}._topContent[data-v-c6ce1e7e]{background:#d9d9d9;height:50vh;display:flex;flex-flow:row wrap}._topContent>*[data-v-c6ce1e7e]{flex:4 1 320px;position:relative}._topContent>._otherFromStacks[data-v-c6ce1e7e]{flex:1 1 100px}._openedFile[data-v-c6ce1e7e]{position:relative;width:100%;height:100%;overflow:hidden}._openedFile--container[data-v-c6ce1e7e]{position:absolute;top:0;left:0;bottom:0;right:0;margin:calc(var(--spacing)/2) calc(var(--spacing)*2);display:flex;flex-flow:column nowrap;justify-content:stretch}._openedFile--media[data-v-c6ce1e7e]{flex:1 1 auto;overflow:hidden;position:relative;margin:calc(var(--spacing)*2)}._openedFile--media[data-v-c6ce1e7e]  ._mediaContent{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden}._openedFile--media[data-v-c6ce1e7e]  ._mediaContent ._mediaContent--image{position:absolute;width:100%;height:100%;-o-object-fit:contain;object-fit:contain;max-width:none}._openedFile--title[data-v-c6ce1e7e]{flex:0 0 auto;background:#efefef;padding:calc(var(--spacing)*1) calc(var(--spacing)*1);margin:calc(var(--spacing)*1);margin-top:0}._date[data-v-c6ce1e7e]{margin-bottom:calc(var(--spacing)*1)}._otherFromStacks[data-v-c6ce1e7e]{flex:1 1 100px;display:flex;flex-flow:column nowrap;gap:calc(var(--spacing)*2);padding:calc(var(--spacing)*2);overflow:auto;height:100%}._otherFromStacks>*[data-v-c6ce1e7e]{cursor:pointer}._otherFromStacks>.is--shown[data-v-c6ce1e7e]{opacity:.5}._appendMedia[data-v-c6ce1e7e]{display:flex;align-content:center;justify-content:center;font-size:175%}._bottomContent[data-v-c6ce1e7e]{padding:calc(var(--spacing)*2) calc(var(--spacing)*3)}._bottomContent h1[data-v-c6ce1e7e]{font-weight:300;font-size:var(--sl-font-size-x-large)}._bottomContent hr[data-v-c6ce1e7e]{border-color:#ccc;max-width:50px;margin:calc(var(--spacing)*2) 0}",""]),e["default"]=n},6961:function(t,e,a){"use strict";a.r(e);var i=a(8081),s=a.n(i),o=a(3645),r=a.n(o),n=r()(s());n.push([t.id,"._keywordsFieldEditor[data-v-b0d92850]{margin-top:calc(var(--spacing)/4)}._suggestions[data-v-b0d92850]{padding-top:calc(var(--spacing)/2);border-top:2px solid var(--c-noir)}._suggestions ._keyword[data-v-b0d92850]{cursor:pointer}._catSug[data-v-b0d92850]{border-left:2px solid #000;padding-left:calc(var(--spacing)/2)}._categories[data-v-b0d92850]{display:flex;flex-flow:row wrap;padding:calc(var(--spacing)/2) 0;gap:calc(var(--spacing)/2)}._category[data-v-b0d92850]{background-color:hsla(0,0%,100%,.2);padding:calc(var(--spacing)/4) calc(var(--spacing)/2);border-radius:4px;color:#fff;font-weight:600}._category[data-category=techniques][data-v-b0d92850]{color:var(--color-vert)}._category[data-category=gisement][data-v-b0d92850]{color:var(--color-rouge)}._category[data-category=lieu][data-v-b0d92850]{color:var(--color-bleu)}._category[data-category=domaine][data-v-b0d92850]{color:var(--color-jaune)}._category.is--active[data-v-b0d92850]{background:#000}",""]),e["default"]=n},6477:function(t,e,a){"use strict";a.r(e);var i=a(8081),s=a.n(i),o=a(3645),r=a.n(o),n=r()(s());n.push([t.id,"._mediaFocus[data-v-491f60b2]{background:var(--chutier-bg)}._itemsList[data-v-491f60b2],._mediaFocus[data-v-491f60b2]{padding:calc(var(--spacing)/2)}._itemsList[data-v-491f60b2]{border:2px solid #999}._openLarge[data-v-491f60b2]{display:block;cursor:pointer}._openLarge[data-v-491f60b2]:hover{opacity:.8}._docPreview[data-v-491f60b2]{position:relative;height:70px;border-radius:2px;width:70px;flex:0 0 auto;overflow:hidden}._docPreview[data-v-491f60b2]  ._mediaContent--image{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center}._changeOrderSelect[data-v-491f60b2]{flex:0 0 50px}._fields[data-v-491f60b2]{padding:calc(var(--spacing)*1);display:flex;flex-flow:column nowrap;gap:calc(var(--spacing)/1)}sl-icon-button[data-v-491f60b2]::part(base){color:#fff}._shareBtn[data-v-491f60b2]{display:flex;justify-content:center}._descriptionField[data-v-491f60b2]{resize:vertical}",""]),e["default"]=n},3472:function(t,e,a){"use strict";a.r(e);var i=a(8081),s=a.n(i),o=a(3645),r=a.n(o),n=r()(s());n.push([t.id,"._myChutier[data-v-2d05d026]{overflow:hidden;background:#f9f9f9;background:var(--chutier-bg);color:#fff}._itemsList[data-v-2d05d026],._myChutier[data-v-2d05d026]{position:relative;top:0;height:100%}._itemsList[data-v-2d05d026]{overflow:auto;padding-bottom:100px}._topBar[data-v-2d05d026]{text-align:center;padding:0 calc(var(--spacing)/1)}._topContent[data-v-2d05d026]{position:sticky;z-index:1;display:flex;gap:calc(var(--spacing)/2);top:0;padding:calc(var(--spacing)/1);-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);-webkit-mask:linear-gradient(#000 75%,transparent);mask:linear-gradient(#000 75%,transparent)}._qrBtn sl-icon[data-v-2d05d026]{font-size:130%}._middleContent[data-v-2d05d026]{padding:0 calc(var(--spacing)/1)}._items[data-v-2d05d026]{flex:1 1 auto;padding:calc(var(--spacing)*2) calc(var(--spacing)/1)}._item[data-v-2d05d026]{margin-bottom:calc(var(--spacing)*2)}._item--label[data-v-2d05d026]{display:inline-block;cursor:pointer;font-weight:500;margin-bottom:4px}._item--label[data-v-2d05d026]:hover{opacity:.9}._removeMenu[data-v-2d05d026],._selectionBar[data-v-2d05d026]{position:sticky;bottom:0;width:100%;display:flex;flex-flow:column nowrap;justify-content:center;align-items:center;gap:calc(var(--spacing)/2);background:var(--chutier-bg);border-top:2px solid #000;padding:calc(var(--spacing)/4);padding-bottom:calc(var(--spacing)*2)}._removeMenu[data-v-2d05d026]{position:absolute;padding-top:calc(var(--spacing)*2);min-height:130px}._selectionBar--previews[data-v-2d05d026]{width:100%;display:flex;flex-flow:row nowrap;justify-content:center;padding:calc(var(--spacing)/2);gap:calc(var(--spacing)/4)}._selectionBar--previews[data-v-2d05d026]  ._mediaContent--image{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center}._selectionBar--previews--preview[data-v-2d05d026]{flex:0 1 20px;aspect-ratio:1/1;overflow:hidden}._uploadFilesList[data-v-2d05d026]{position:absolute;bottom:0;left:0;right:0;background:var(--chutier-bg);z-index:1}",""]),e["default"]=n},6400:function(t,e,a){"use strict";a.r(e);var i=a(8081),s=a.n(i),o=a(3645),r=a.n(o),n=r()(s());n.push([t.id,"._sharedFolder[data-v-553f0cfa]{padding-bottom:calc(var(--spacing)*4);border-radius:4px;overflow:auto;height:100%}._topbar[data-v-553f0cfa]{position:sticky;top:0;z-index:10;background:var(--c-bodybg);-webkit-mask:linear-gradient(#000 80%,transparent);mask:linear-gradient(#000 80%,transparent)}._topbar[data-v-553f0cfa],._topbar--content[data-v-553f0cfa]{padding:calc(var(--spacing)*1)}._topbar--content[data-v-553f0cfa]{display:flex;flex-flow:row nowrap;justify-content:space-between;align-items:flex-end}._title[data-v-553f0cfa]{font-size:1.5em;font-weight:600}._dayFileSection[data-v-553f0cfa]{padding:calc(var(--spacing)*2)}._label[data-v-553f0cfa]{z-index:2;padding-bottom:calc(var(--spacing)*2);font-weight:600;font-size:var(--sl-font-size-normal)}._grid[data-v-553f0cfa],._label[data-v-553f0cfa]{position:relative}._grid[data-v-553f0cfa]{z-index:1;display:flex;flex-flow:row wrap;justify-content:flex-start;align-items:flex-end;gap:calc(var(--spacing)*4) calc(var(--spacing)*2)}._file[data-v-553f0cfa]{width:150px}._removeBtn[data-v-553f0cfa]{position:absolute;top:0;right:0;z-index:1}._floatingTopBtn[data-v-553f0cfa]{position:sticky;top:0;z-index:1;width:100%;display:flex;justify-content:center;padding:calc(var(--spacing)/1);pointer-events:none}._floatingTopBtn>*[data-v-553f0cfa]{border-radius:25px;padding:calc(var(--spacing)/1) calc(var(--spacing)*2);background:#000;color:#fff;pointer-events:auto}._footer[data-v-553f0cfa]{margin-top:calc(var(--spacing)*6);text-align:center}._footer a[data-v-553f0cfa]{color:inherit}._sortSelect[data-v-553f0cfa]{width:33ch}._sortSelect select[data-v-553f0cfa]{background:#fff}._groupBy[data-v-553f0cfa]{display:flex;flex-flow:row nowrap}._groupBy input[data-v-553f0cfa]{visibility:hidden;width:1px;height:1px}._groupBy label[data-v-553f0cfa]{cursor:pointer}._groupBy label.is--selected[data-v-553f0cfa]{font-weight:600}",""]),e["default"]=n},5617:function(t,e,a){"use strict";a.r(e);var i=a(8081),s=a.n(i),o=a(3645),r=a.n(o),n=r()(s());n.push([t.id,"._sharedFolderItem[data-v-599c4d4e]{--stack-step:10px;position:relative;cursor:pointer;border-radius:4px;box-shadow:0 0 5px hsla(0,0%,100%,.06);transition:all .4s cubic-bezier(.19,1,.22,1)}._sharedFolderItem.is--opened[data-v-599c4d4e],._sharedFolderItem[data-v-599c4d4e]:focus,._sharedFolderItem[data-v-599c4d4e]:hover{transform:translateY(-15px);transition:all .25s cubic-bezier(.19,1,.22,1)}._sharedFolderItem ._title[data-v-599c4d4e]{position:absolute;width:100%;top:100%;word-break:break-word;background:#fff;padding:calc(var(--spacing)/2);font-size:var(--sl-font-size-small);transform:translateY(-100%);opacity:0;transition:all .4s cubic-bezier(.19,1,.22,1)}._sharedFolderItem.is--opened[data-v-599c4d4e],._sharedFolderItem[data-v-599c4d4e]:focus,._sharedFolderItem[data-v-599c4d4e]:hover{z-index:20;--stack-step:30px}._sharedFolderItem.is--opened ._title[data-v-599c4d4e],._sharedFolderItem:focus ._title[data-v-599c4d4e],._sharedFolderItem:hover ._title[data-v-599c4d4e]{transform:translate(0);opacity:1}._sharedFolderItem--preview[data-v-599c4d4e]{background:#fff;z-index:10;border-radius:4px 4px 0 0;border:2px solid #fff;min-height:50px;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;overflow:hidden}._sharedFolderItem--preview[data-v-599c4d4e]  ._mediaContent--image{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center}._sharedFolderItem--preview[data-v-599c4d4e]  .ql-container{font-size:50%}._sharedFolderItem--preview_stacked[data-v-599c4d4e]{position:absolute;top:0;left:0;height:50px;--back-position:1;transform:translate(calc(var(--stack-step)*var(--back-position)/2),calc(var(--stack-step)*-1*var(--back-position)));width:calc(100% - var(--stack-step)*var(--back-position));transition:all .25s cubic-bezier(.19,1,.22,1);z-index:2}._sharedFolderItem--preview_stacked+._sharedFolderItem--preview_stacked[data-v-599c4d4e]{z-index:1;--back-position:2}._sharedFolderItem--preview_stacked[data-v-599c4d4e]  ._mediaContent--image{-o-object-position:top left;object-position:top left}._titleKeywords[data-v-599c4d4e]{position:absolute;bottom:0;left:0;width:100%}._removeBtn[data-v-599c4d4e]{position:absolute;bottom:0;right:0}",""]),e["default"]=n},7023:function(t,e,a){"use strict";a.r(e);var i=a(8081),s=a.n(i),o=a(3645),r=a.n(o),n=r()(s());n.push([t.id,"._singleKeyword[data-v-89ab98be]{position:relative;background-color:#333;padding:calc(var(--spacing)/4) calc(var(--spacing)/2);border-radius:4px;color:#fff;line-height:1.2;display:flex;flex-flow:row nowrap;align-items:center;gap:calc(var(--spacing)/1)}._singleKeyword sl-icon-button[data-v-89ab98be]::part(base){color:currentColor;padding:0}._singleKeyword.is--clickable[data-v-89ab98be]:hover{background-color:#292929}._category[data-v-89ab98be]{font-size:80%;color:var(--cat-color)}._name[data-v-89ab98be]{font-size:110%}._addBtn[data-v-89ab98be]{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;background:transparent}",""]),e["default"]=n},3720:function(t,e,a){"use strict";a.r(e);var i=a(8081),s=a.n(i),o=a(3645),r=a.n(o),n=r()(s());n.push([t.id,"._chutierPane[data-v-1cb65e24]{position:absolute;z-index:10;top:-2px;width:100%;height:100%;overflow:auto;background:var(--chutier-bg);padding:calc(var(--spacing)/2);border-top:2px solid #000}._closeBtn[data-v-1cb65e24]{position:absolute;top:0;right:0;padding:4px}",""]),e["default"]=n},8905:function(t,e,a){"use strict";a.r(e);var i=a(8081),s=a.n(i),o=a(3645),r=a.n(o),n=r()(s());n.push([t.id,"._lumaView[data-v-47623bdf]{height:100%;--chutier-bar-width:40px;--chutier-width:420px}._lumaView.is--mobile_view[data-v-47623bdf]{--chutier-width:100%}._panes[data-v-47623bdf]{height:100%}._myContent[data-v-47623bdf]{position:absolute;z-index:2;width:var(--chutier-width);height:100%;background:var(--chutier-bg);box-shadow:0 0 10px rgba(0,0,0,.52);overflow:hidden;transform:translate(calc((var(--chutier-width) - var(--chutier-bar-width))*-1));transition:transform .275s cubic-bezier(.19,1,.22,1)}._myContent.is--shown[data-v-47623bdf]{transform:translate(0)}._sharedContent[data-v-47623bdf]{position:relative;z-index:1;height:100%;flex:1 1 auto;margin-left:var(--chutier-bar-width);width:calc(100% - var(--chutier-bar-width));transition:margin-left .5s cubic-bezier(.19,1,.22,1)}._sharedContent.has--chutier[data-v-47623bdf]{width:calc(100% - var(--chutier-width));margin-left:var(--chutier-width)}._chutierBtn[data-v-47623bdf]{top:0;right:0;width:var(--chutier-bar-width);height:var(--chutier-bar-width);z-index:1;transition:transform .25s cubic-bezier(.19,1,.22,1)}._chutierBtn[data-v-47623bdf],._chutierBtn>button[data-v-47623bdf]{position:absolute;background:transparent}._chutierBtn>button[data-v-47623bdf]{width:100%;height:100%;color:#fff;border-radius:50%;left:0;font-size:1.5rem;padding:0;display:flex;justify-content:center;align-items:center;transform-origin:center;transition:transform .4s cubic-bezier(.19,1,.22,1)}._chutierBtn>button[data-v-47623bdf]:focus-visible,._chutierBtn>button[data-v-47623bdf]:hover{color:#ccc}._chutierBtn[data-v-47623bdf]:not(.is--showingChutier){height:100%}._chutierBtn:not(.is--showingChutier)>button[data-v-47623bdf]{transform:rotate(-180deg)}",""]),e["default"]=n},148:function(t,e,a){var i=a(4421);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var s=a(1982).Z;s("d9648a00",i,!0,{sourceMap:!1,shadowMode:!1})},7865:function(t,e,a){var i=a(8707);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var s=a(1982).Z;s("e7f43344",i,!0,{sourceMap:!1,shadowMode:!1})},6029:function(t,e,a){var i=a(7223);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var s=a(1982).Z;s("888e33b8",i,!0,{sourceMap:!1,shadowMode:!1})},8830:function(t,e,a){var i=a(1004);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var s=a(1982).Z;s("0fca62fc",i,!0,{sourceMap:!1,shadowMode:!1})},8061:function(t,e,a){var i=a(9774);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var s=a(1982).Z;s("274eef7e",i,!0,{sourceMap:!1,shadowMode:!1})},4677:function(t,e,a){var i=a(6961);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var s=a(1982).Z;s("2314eb2e",i,!0,{sourceMap:!1,shadowMode:!1})},4031:function(t,e,a){var i=a(6477);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var s=a(1982).Z;s("2ecf9d56",i,!0,{sourceMap:!1,shadowMode:!1})},8569:function(t,e,a){var i=a(3472);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var s=a(1982).Z;s("5c63bbde",i,!0,{sourceMap:!1,shadowMode:!1})},4771:function(t,e,a){var i=a(6400);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var s=a(1982).Z;s("f5c56652",i,!0,{sourceMap:!1,shadowMode:!1})},2103:function(t,e,a){var i=a(5617);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var s=a(1982).Z;s("1b994b0f",i,!0,{sourceMap:!1,shadowMode:!1})},1696:function(t,e,a){var i=a(7023);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var s=a(1982).Z;s("1ceed4a4",i,!0,{sourceMap:!1,shadowMode:!1})},4252:function(t,e,a){var i=a(3720);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var s=a(1982).Z;s("d55a2b86",i,!0,{sourceMap:!1,shadowMode:!1})},1481:function(t,e,a){var i=a(8905);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var s=a(1982).Z;s("7a4b1388",i,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=LumaView.js.map