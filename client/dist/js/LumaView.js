(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[947],{59636:function(t,e,i){"use strict";i.d(e,{Z:function(){return c}});var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BaseModal2",{on:{close:function(e){return t.$emit("close")}}},[i("div",{staticClass:"_linkPicker"},[i("div",{staticClass:"_urlBox"},[i("TextInput",{attrs:{label_str:t.$t("input_url"),instructions:t.$t("input_url_instr"),content:t.full_url,placeholder:"https://",required:!0,input_type:"url"},on:{"update:content":function(e){t.full_url=e},toggleValidity:function(e){return t.allow_save=e}}})],1),i("div",{staticClass:"u-instructions"},[t._v(" PeerTube, YouTube, Vimeo, etc. "+t._s(t.$t("for_example"))+"  "),t._l(["https://peertube.fr/w/wB6M6CHdfpWXpozVnqjbde","https://www.youtube.com/watch?v=Bn6zdyCAwJs","https://vimeo.com/447785086","https://observablehq.com/embed/@fil/bertin1953-glsl?cells=canvas"],(function(e,s){return i("button",{key:s,staticClass:"u-buttonLink",attrs:{type:"button"},domProps:{innerHTML:t._s(e)},on:{click:function(i){t.full_url=e}}})}))],2),i("br"),i("div",{key:t.full_url},["any"===t.url_to_site.type?[i("iframe",{staticClass:"_siteIframe",attrs:{src:t.url_to_site.src,frameborder:"0"}})]:i("vue-plyr",[i("div",{staticClass:"plyr__video-embed"},[i("iframe",{attrs:{src:t.url_to_site.src,allowfullscreen:"",allowtransparency:"",allow:"autoplay; fullscreen",sandbox:"allow-same-origin allow-scripts allow-popups",frameborder:"0"}})])])],2),i("br"),t.full_url?i("div",{staticClass:"_selectBtn"},[i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v(" "+t._s(t.$t("cancel"))+" ")]),i("button",{staticClass:"u-button u-button_bleuvert",attrs:{type:"button"},on:{click:function(e){return t.$emit("embed",t.full_url)}}},[t._v(" "+t._s(t.$t("embed"))+" ")])]):t._e()])])},a=[],n={props:{},components:{},data(){return{full_url:""}},async created(){},beforeDestroy(){},watch:{},computed:{url_to_site(){return!!this.full_url&&this.transformURL({url:this.full_url,autoplay:!1})}},methods:{}},o=n,r=(i(82356),i(1001)),l=(0,r.Z)(o,s,a,!1,null,"3b7f81aa",null),c=l.exports},34780:function(t,e,i){"use strict";i.d(e,{Z:function(){return k}});var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_sectionsList"},[i("SectionsSummary",{directives:[{name:"show",rawName:"v-show",value:t.can_edit||t.sections.length>1,expression:"can_edit || sections.length > 1"}],attrs:{publication:t.publication,sections:t.sections,opened_section_meta_filename:t.opened_section_meta_filename,can_edit:t.can_edit},on:{toggleSection:function(e){return t.$emit("toggleSection",e)}}}),i("transition",{attrs:{name:"pagechange",mode:"out-in"}},[t.opened_section_meta_filename?i("OpenedSection",{key:t.opened_section_meta_filename,attrs:{publication:t.publication,sections:t.sections,opened_section_meta_filename:t.opened_section_meta_filename,can_edit:t.can_edit},on:{toggleSection:t.toggleSection}}):t._e()],1)],1)},a=[],n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_sectionsSummary",style:t.story_styles},[i("ReorderedList",{attrs:{field_name:"sections_list",items:t.sections,path:t.publication.$path,active_item_meta:t.opened_section_meta_filename,can_edit:t.can_edit},on:{openItem:t.openSection,createItem:t.createSection},scopedSlots:t._u([{key:"default",fn:function(e){return[e.item.section_title?[t._v(" "+t._s(e.item.section_title)+" ")]:[i("i",[t._v(t._s(t.$t("untitled")))])]]}}])})],1)},o=[],r={props:{publication:Object,sections:Array,opened_section_meta_filename:String,can_edit:Boolean},components:{},inject:{$getMapOptions:{default:!1}},data(){return{}},i18n:{messages:{fr:{create_section:"Créer un chapitre"},en:{create_section:"Create chapter"}}},created(){},mounted(){this.can_edit&&0===this.sections.length&&this.createSection(),this.openFirstSectionIfNoneOpened(),this.openExistingSectionIfNotExisting()},beforeDestroy(){},watch:{opened_section_meta_filename(){this.openFirstSectionIfNoneOpened()}},computed:{is_associated_to_map(){return this.$getMapOptions},default_view_color(){return this.$getMapOptions().default_view_color},story_styles(){return this.makeStoryStyles({publication:this.publication})},new_section_title(){let t=this.sections.length+1;const e=t=>this.$t("section")+" "+t;let i=e(t);while(this.sections.some((t=>t.section_title===i)))t++,i=e(t);return i},opened_section(){return this.sections.find((t=>this.getFilename(t.$path)===this.opened_section_meta_filename))}},methods:{openSection(t){this.$emit("toggleSection",this.getFilename(t))},openFirstSectionIfNoneOpened(){this.sections.length>0&&!this.opened_section_meta_filename&&this.openFirstSection()},openFirstSection(){const t=this.sections[0].$path;this.openSection(t)},openExistingSectionIfNotExisting(){this.opened_section_meta_filename&&!this.opened_section&&this.openFirstSection()},async createSection(){const t=await this.createSection2({publication:this.publication,type:"section",group:"sections_list",title:this.new_section_title});this.$emit("toggleSection",t)}}},l=r,c=(i(15364),i(1001)),d=(0,c.Z)(l,n,o,!1,null,"558acd15",null),h=d.exports,u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_openedSection"},[i("SingleSection",{ref:"section",attrs:{publication:t.publication,section:t.opened_section,can_edit:t.can_edit},on:{prevSection:t.prevSection}}),i("div",{staticClass:"_navBtns"},[i("div",{staticClass:"_navBtns--content"},[t.prev_section?i("button",{staticClass:"u-linkList",attrs:{type:"button"},on:{click:t.prevSection}},[i("b-icon",{attrs:{icon:"arrow-left-circle"}}),i("span",[t._v(" "+t._s(t.prev_section.section_title)+" ")])],1):t._e(),t.next_section?i("button",{staticClass:"u-linkList",attrs:{type:"button"},on:{click:t.nextSection}},[i("span",[t._v(" "+t._s(t.next_section.section_title)+" ")]),i("b-icon",{attrs:{icon:"arrow-right-circle"}})],1):t._e()])])],1)},p=[],_=i(24991),f={props:{publication:Object,sections:Array,opened_section_meta_filename:String,can_edit:Boolean},components:{SingleSection:_.Z},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{opened_section(){return this.sections.find((t=>this.getFilename(t.$path)===this.opened_section_meta_filename))},opened_section_index(){return this.sections.findIndex((t=>t.$path===this.opened_section?.$path))},next_section(){return this.opened_section_index<this.sections.length-1&&this.sections[this.opened_section_index+1]},prev_section(){return this.opened_section_index>0&&this.sections[this.opened_section_index-1]}},methods:{nextSection(){this.scrollToTop(),this.$emit("toggleSection",this.getFilename(this.next_section.$path))},prevSection(){this.scrollToTop(),this.$emit("toggleSection",this.getFilename(this.prev_section.$path))},async scrollToTop(){const t=function(t){const e=t.scrollHeight>t.clientHeight,i=window.getComputedStyle(t).overflowY,s=-1!==i.indexOf("hidden");return e&&!s},e=function(i){return i&&i!==document.body?t(i)?i:e(i.parentNode):document.body},i=e(this.$el);i.scrollTo({top:0,left:0,behavior:"smooth"})}}},m=f,g=(i(53539),(0,c.Z)(m,u,p,!1,null,"452cb012",null)),v=g.exports,b={props:{publication:Object,opened_section_meta_filename:String,can_edit:Boolean},components:{SectionsSummary:h,OpenedSection:v},provide(){return{$getMetaFilenamesAlreadyPresent:()=>this.meta_filenames_already_present}},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{sections(){return this.getSectionsWithProps({publication:this.publication,group:"sections_list"})},meta_filenames_already_present(){const{current:t,other:e}=this.getMediasAlreadyPresentInPublication({publication:this.publication,sections:this.sections,opened_section_meta_filename:this.opened_section_meta_filename});return[{label:this.$t("in_this_section"),medias:t,color:"var(--c-orange)"},{label:this.$t("in_another_section"),medias:e,color:"var(--c-bleuvert)"}]}},methods:{toggleSection(t){this.$emit("toggleSection",t)},unselectModule(){this.$eventHub.$emit("module.none_edited")}}},y=b,w=(i(88247),(0,c.Z)(y,s,a,!1,null,"8bad846e",null)),k=w.exports},24991:function(t,e,i){"use strict";i.d(e,{Z:function(){return nt}});var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_singleSection"},[i("div",{staticClass:"_storyContainer"},[t.section?i("div",{staticClass:"_storyContent",style:t.story_styles},[t.can_edit||t.section.section_title||t.section.section_description?i("div",{staticClass:"_topbar"},[i("div",{staticClass:"_text"},[i("div",{staticClass:"_sectionTitle"},[i("TitleField",{attrs:{field_name:"section_title",content:t.section.section_title||t.$t("untitled"),path:t.section.$path,required:!0,maxlength:60,tag:"h1",can_edit:t.can_edit}}),t.can_edit?i("RemoveMenu",{attrs:{remove_text:t.$t("remove_section"),show_button_text:!1},on:{remove:t.removeSection}}):t._e()],1),t.section.section_description?i("TitleField",{attrs:{field_name:"section_description",label:t.can_edit?t.$t("description"):"",content:t.section.section_description,path:t.section.$path,maxlength:1280,input_type:"markdown",can_edit:t.can_edit}}):t._e()],1),t.can_edit?i("div",{staticClass:"_buttons"}):t._e()]):t._e(),i("transition-group",{staticClass:"_storyModules",attrs:{tag:"div",name:"StoryModules",appear:"",duration:700}},[t._l(t.section_modules_list,(function(e,s){return[i("div",{key:"mc_"+s,staticClass:"_spacer"},[t.can_edit?i("ModuleCreator",{attrs:{publication_path:t.publication.$path,types_available:["text","link"]},on:{addModules:function(e){var i=e.meta_filenames;return t.insertModules({meta_filenames:i,index:s})}}}):t._e()],1),i("PublicationModule",{key:e.$path,staticClass:"_mediaPublication",attrs:{publimodule:e,module_being_edited:t.module_being_edited,module_position:1===t.section_modules_list.length?"alone":0===s?"first":s===t.section_modules_list.length-1?"last":"inbetween",can_edit:t.can_edit},on:{"update:module_being_edited":function(e){t.module_being_edited=e},moveUp:function(i){return t.moveModuleTo({path:e.$path,new_position:s-1})},moveDown:function(i){return t.moveModuleTo({path:e.$path,new_position:s+1})},duplicate:function(i){return t.duplicatePublicationMedia({source_module_path:e.$path,copy_meta_filename:i})},remove:function(i){return t.removeModule(e.$path)}}})]}))],2),t.can_edit?i("ModuleCreator",{staticClass:"_lastModule",attrs:{start_collapsed:!1,publication_path:t.publication.$path,types_available:["text","link"]},on:{addModules:t.addModules}}):t._e()],1):t._e()])])},a=[],n=(i(52262),i(24506),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_moduleCreator",class:{"is--collapsed":!t.show_module_selector}},[i("transition",{attrs:{name:"pagechange",mode:"out-in"}},[t.show_module_selector||!t.start_collapsed?i("div",{staticClass:"_typePicker"},[t.types_available.includes("text")?i("button",{staticClass:"u-button u-button_black",attrs:{type:"button"},on:{click:t.createText}},[i("b-icon",{staticStyle:{"font-size":"var(--icon-size)"},attrs:{icon:"fonts",label:t.$t("add_text")}}),t.show_labels?[t._v(t._s(t.$t("text")))]:t._e()],2):t._e(),t.types_available.includes("medias")?i("button",{staticClass:"u-button u-button_black",attrs:{type:"button"},on:{click:function(e){t.show_media_picker=!0}}},[i("b-icon",{staticStyle:{"font-size":"var(--icon-size)"},attrs:{icon:"image",label:t.$t("add_medias")}}),t.show_labels?[t._v(t._s(t.$t("medias")))]:t._e()],2):t._e(),t.show_media_picker?i("MediaPicker",{attrs:{publication_path:t.publication_path,select_mode:t.select_mode},on:{addMedias:t.createMosaic,close:function(e){t.show_media_picker=!1}}}):t._e(),t.types_available.includes("link")?i("button",{staticClass:"u-button u-button_black",attrs:{type:"button"},on:{click:function(e){t.show_link_picker=!0}}},[i("b-icon",{staticStyle:{"font-size":"var(--icon-size)"},attrs:{icon:"link",label:t.$t("add_link")}}),t.show_labels?[t._v(t._s(t.$t("link")))]:t._e()],2):t._e(),t.show_link_picker?i("LinkPicker",{on:{embed:t.createEmbed,close:function(e){t.show_link_picker=!1}}}):t._e(),t.types_available.includes("shapes")?t._l(t.shapes,(function(e){return i("button",{key:e.type,staticClass:"u-button u-button_black",attrs:{type:"button"},on:{click:function(i){return t.createCustomModule({module_type:e.type,addtl_meta:e.addtl_meta})}}},[i("b-icon",{staticStyle:{"font-size":"var(--icon-size)"},attrs:{icon:e.icon,label:t.$t(e.type)}}),t.show_labels?[t._v(t._s(t.$t(e.type)))]:t._e()],2)})):t._e(),t.start_collapsed?i("EditBtn",{key:"addmodule",attrs:{btn_type:"close",is_unfolded:!1},on:{click:function(e){t.show_module_selector=!1}}}):t._e()],2):t.start_collapsed&&!t.show_module_selector?i("EditBtn",{key:"addmodule",staticClass:"_addBtn",attrs:{btn_type:"add",is_unfolded:!1},on:{click:function(e){t.show_module_selector=!0}}}):t._e()],1),i("DropZone",{on:{mediaDropped:t.createMosaic}})],1)}),o=[],r=(i(57658),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_mediaPicker"})}),l=[],c={props:{publication_path:String,select_mode:{type:String,default:"multiple"}},components:{},data(){return{}},async created(){},beforeDestroy(){},watch:{},computed:{},methods:{}},d=c,h=(i(5281),i(1001)),u=(0,h.Z)(d,r,l,!1,null,"4464807a",null),p=u.exports,_=i(59636),f={props:{publication_path:String,pre_addtl_meta:Object,post_addtl_meta:Object,select_mode:String,show_labels:{type:Boolean,default:!0},context:String,types_available:{type:Array,default:()=>["text","medias","files","link","shapes"]},start_collapsed:{type:Boolean,default:!0}},components:{MediaPicker:p,LinkPicker:_.Z},data(){return{show_module_selector:!1,show_media_picker:!1,show_file_picker:!1,show_link_picker:!1,shapes:[{type:"ellipsis",icon:"circle-fill",addtl_meta:{background_color:"#1d327f"}},{type:"rectangle",icon:"square-fill",addtl_meta:{background_color:"#ffbe32"}},{type:"line",icon:"dash-lg",addtl_meta:{outline_width:1,outline_color:"#000000"}},{type:"arrow",icon:"arrow-right-square",addtl_meta:{outline_width:1,outline_color:"#000000"}}],is_saving:!1}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{async createMosaic({meta_filename:t,path_to_source_media_metas:e}){let i=[];if(t)i.push({meta_filename:t});else if(e)for(const s of e){const t=await this.prepareMediaForPublication({path_to_source_media_meta:s,publication_path:this.publication_path});i.push(t)}"page_by_page"===this.context&&(i=i.map((t=>(t.objectFit="contain",t)))),"page_by_page"===this.context?await this.createMultipleModules({module_type:"mosaic",source_medias:i}):await this.createModule({module_type:"mosaic",source_medias:i}),this.show_media_picker=!1},async createEmbed(t){const e="url-"+ +new Date+".txt",i=await this.$api.uploadText({path:this.publication_path,filename:e,content:t,additional_meta:{$type:"url"}});this.createMosaic({meta_filename:i}),this.show_link_picker=!1},async createFiles({path_to_source_media_metas:t}){let e=[];t.map((t=>{const i=this.getFilename(t);e.push({meta_filename_in_project:i})})),await this.createModule({module_type:"files",source_medias:e}),this.show_file_picker=!1},async createCustomModule({module_type:t,addtl_meta:e}){await this.createModule({module_type:t,addtl_meta:e})},async createText(){const t="text-"+ +new Date+".txt",e=await this.$api.uploadText({path:this.publication_path,filename:t,content:""}),i=[{meta_filename:e}];await this.createModule({module_type:"text",source_medias:i})},async createModule({module_type:t,source_medias:e=[],addtl_meta:i={}}){if(e.length>0){const t=this.getSourceMedia({source_media:e[0],folder_path:this.publication_path});t?.$infos?.gps&&(i.location=t.$infos.gps)}const s=await this.createMetaForModule({module_type:t,source_medias:e,addtl_meta:i});return this.$emit("addModules",{meta_filenames:[s]}),this.show_module_selector=!1,s},async createMultipleModules({module_type:t,source_medias:e=[]}){let i=[];for(const s of e){const e=this.getSourceMedia({source_media:s,folder_path:this.publication_path});let a={};"page_by_page"===this.context&&e?.$infos?.ratio&&(a.height=this.$root.default_new_module_width*e.$infos.ratio),e?.$infos?.gps&&(a.location=e.$infos.gps);const n=await this.createMetaForModule({module_type:t,source_medias:[s],addtl_meta:a});i.push(n)}this.show_module_selector=!1,this.$emit("addModules",{meta_filenames:i})},async createMetaForModule({module_type:t,source_medias:e,addtl_meta:i}){let s={module_type:t,source_medias:e,requested_slug:"module"};return this.pre_addtl_meta&&Object.assign(s,this.pre_addtl_meta),i&&Object.assign(s,i),this.post_addtl_meta&&Object.assign(s,this.post_addtl_meta),await this.$api.uploadFile({path:this.publication_path,additional_meta:s}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t}))}}},m=f,g=(i(69070),(0,h.Z)(m,n,o,!1,null,"ac4f8db4",null)),v=g.exports,b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_publicationModule",attrs:{"data-type":t.module_type},on:{click:t.preventClickTraversing}},[i("transition",{attrs:{name:"toggleLock",mode:"out-in"}},[t.edit_mode&&"page_by_page"!==t.page_template?i("div",{staticClass:"_sideOptions"},[i("div",{staticClass:"_sideOptions--content"},[i("div",{staticClass:"_arrows"},[t.$listeners.hasOwnProperty("moveUp")?i("button",{staticClass:"u-button _sideBtns _moveBefore",attrs:{disabled:"first"===t.module_position||"alone"===t.module_position,type:"button"},on:{click:function(e){return t.$emit("moveUp")}}},[i("svg",{staticStyle:{transform:"rotate(90deg)"},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 168 168"}},[i("path",{staticStyle:{fill:"currentColor"},attrs:{d:"M87.46,49.46,73.39,64.77a65.3,65.3,0,0,1-6.15,6.15A47.8,47.8,0,0,1,61,75.29H131.6V91.14H61A39.1,39.1,0,0,1,67,95.51q2.81,2.46,6.36,6.15L87.46,117,74.48,128,34.17,83.21,74.48,38.39Z"}})])]):t._e(),t.$listeners.hasOwnProperty("moveDown")?i("button",{staticClass:"u-button _sideBtns _moveAfter",attrs:{type:"button",disabled:"last"===t.module_position||"alone"===t.module_position},on:{click:function(e){return t.$emit("moveDown")}}},[i("svg",{staticStyle:{transform:"rotate(90deg)"},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 168 168"}},[i("path",{staticStyle:{fill:"currentColor"},attrs:{d:"M78.31,117l14.07-15.31a65.3,65.3,0,0,1,6.15-6.15,47.52,47.52,0,0,1,6.29-4.37H34.17V75.29h70.65a39.1,39.1,0,0,1-6.08-4.37q-2.8-2.46-6.36-6.15L78.31,49.46l13-11.07L131.6,83.21,91.29,128Z"}})])]):t._e()]),i("div",{staticClass:"_options"},[i("div",{staticClass:"_advanced_menu"},[i("div",[i("select",{attrs:{disabled:t.available_module_types.length<=1},domProps:{value:t.publimodule.module_type},on:{change:t.changeModuleType}},t._l(t.available_module_types,(function(e){return i("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(t.$t("module.label."+e))+" ")])})),0)]),i("div",{staticClass:"_buttonRow"},t._l([100,66.6,50,33.3],(function(e){return i("button",{key:e,staticClass:"u-buttonLink",class:{"is--active":!t.publimodule.size&&100===e||t.publimodule.size===e},attrs:{type:"button"},on:{click:function(i){return t.updateMeta({size:e})}}},[t._v(" "+t._s(e)+"% ")])})),0),t.publimodule.size&&100!==t.publimodule.size?i("div",{staticClass:"_buttonRow"},t._l(["left","center","right"],(function(e){return i("button",{key:e,staticClass:"u-buttonLink",class:{"is--active":!t.publimodule.align&&"left"===e||t.publimodule.align===e},attrs:{type:"button"},on:{click:function(i){return t.updateMeta({align:e})}}},["left"===e?i("sl-icon",{attrs:{name:"align-start"}}):t._e(),"center"===e?i("sl-icon",{attrs:{name:"align-center"}}):t._e(),"right"===e?i("sl-icon",{attrs:{name:"align-end"}}):t._e()],1)})),0):t._e(),i("div",{staticClass:"_buttonRow"},[i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:t.duplicateModule}},[i("b-icon",{attrs:{icon:"file-plus"}})],1),t.can_edit?i("RemoveMenu",{attrs:{remove_text:t.$t("remove"),show_button_text:!0},on:{remove:t.removeModule}}):t._e()],1)]),t.is_associated_to_map?i("div",{staticClass:"_carto"},[t._e(),i("div",{},[i("button",{staticClass:"u-button u-button_red",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.repickLocation.apply(null,arguments)}}},[t.has_coordinates?[i("b-icon",{attrs:{icon:"pin-map-fill"}}),t._v(" "+t._s(t.$t("change_location"))+" ")]:[i("b-icon",{attrs:{icon:"pin-map"}}),t._v(" "+t._s(t.$t("place_on_map"))+" ")]],2)]),t.has_coordinates?i("div",{},[i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:t.eraseCoords}},[i("b-icon",{attrs:{icon:"x-circle"}}),t._v(" "+t._s(t.$t("erase"))+" ")],1)]):t._e()]):t._e()]),i("div",{staticClass:"_saveBtn"},[i("EditBtn",{attrs:{btn_type:"check",label_position:"left"},on:{click:t.disableEdit}})],1),t.is_repicking_location?i("div",{staticClass:"_repickNotice"},[i("div",{staticClass:"_repickNotice--content"},[i("div",[t._v(" "+t._s(t.$t("click_on_map_to_repick_location_for_media"))+" ")]),i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){t.is_repicking_location=!1}}},[t._v(" "+t._s(t.$t("cancel"))+" ")])])]):t._e()])]):t._e()]),i("div",{staticClass:"_content",style:t.media_styles},[i("div",{ref:"sentinel"}),t.is_associated_to_map&&t.has_coordinates?i("button",{ref:"pinButton",staticClass:"u-button _pinButton",class:{"is--active":t.is_active_on_map},style:"--pin-color: "+(t.pin_options?t.pin_options.color:""),attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.pinButtonClick.apply(null,arguments)}}},[i("img",{attrs:{src:t.pin_options.pin_preview_src}})]):t._e(),t.can_edit?i("div",{staticClass:"_floatingEditBtn"},[t.edit_mode?t._e():i("EditBtn",{attrs:{label_position:"left"},on:{click:t.enableEdit}})],1):t._e(),["mosaic","carousel","files"].includes(t.publimodule.module_type)?i("MediasModule",{attrs:{publimodule:t.publimodule,can_edit:t.edit_mode,context:t.context,page_template:t.page_template,number_of_max_medias:t.number_of_max_medias,show_fs_button:t.show_fs_button},on:{updateMeta:t.updateMeta,remove:t.removeModule}}):"text"===t.publimodule.module_type&&t.first_media?i("CollaborativeEditor2",{ref:"textBloc",attrs:{path:t.first_media.$path,content:t.first_media.$content,scrollingContainer:t.$el,line_selected:!1,can_edit:t.edit_mode},on:{lineClicked:function(e){return t.$emit("lineClicked",e)},contentIsEdited:function(e){return t.$emit("contentIsEdited",e)},contentIsNotEdited:function(e){return t.$emit("contentIsNotEdited",e)}}}):"shape"===t.module_type?[i("svg",{attrs:{viewBox:"0 0 100 100",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg"}},["ellipsis"===t.publimodule.module_type?i("circle",{attrs:{cx:"50",cy:"50",r:50-t.publimodule.outline_width*t.magnification/8,"vector-effect":"non-scaling-stroke"}}):"rectangle"===t.publimodule.module_type?i("rect",{attrs:{x:t.publimodule.outline_width*t.magnification/4,y:t.publimodule.outline_width*t.magnification/4,width:100-t.publimodule.outline_width*t.magnification/2,height:100-t.publimodule.outline_width*t.magnification/2,"vector-effect":"non-scaling-stroke",rx:t.border_radius.x,ry:t.border_radius.y}}):"line"===t.publimodule.module_type?i("g",[i("rect",{attrs:{width:"100",height:"100","vector-effect":"non-scaling-stroke",stroke:"none",rx:t.border_radius.x,ry:t.border_radius.y}}),i("line",{attrs:{x1:t.publimodule.outline_width*t.magnification/4||0,y1:"50",x2:100-(t.publimodule.outline_width*t.magnification/4||0),y2:"50","vector-effect":"non-scaling-stroke"}})]):"arrow"===t.publimodule.module_type?i("g",[i("rect",{attrs:{width:"100",height:"100","vector-effect":"non-scaling-stroke",stroke:"none",rx:t.border_radius.x,ry:t.border_radius.y}}),i("line",{attrs:{x1:t.publimodule.outline_width*t.magnification/4||0,y1:"50",x2:100-(t.publimodule.outline_width*t.magnification/4||0),y2:"50","vector-effect":"non-scaling-stroke"}}),i("g",{attrs:{transform:"\n              translate("+(100-(t.publimodule.outline_width*t.magnification/4||0))+", 50)",preserveAspectRatio:""}},[i("line",{attrs:{x1:"0",y1:"0",x2:"-10",y2:"-10","vector-effect":"non-scaling-stroke"}}),i("line",{attrs:{x1:"0",y1:"0",x2:"-10",y2:"10","vector-effect":"non-scaling-stroke"}})])]):t._e()])]:i("small",[t._v(t._s(t.$t("nothing_to_show")))]),(t.publimodule.caption||t.edit_mode)&&"shape"!==t.module_type&&"text"!==t.module_type?i("div",{staticClass:"_captionField"},[i("TitleField",{attrs:{label:t.edit_mode&&!t.publimodule.caption&&"page_by_page"!==t.page_template?t.$t("add_caption"):void 0,field_name:"caption",content:t.publimodule.caption,path:t.publimodule.$path,input_type:"markdown",tag:"small",can_edit:t.edit_mode&&t.can_edit}}),t.edit_mode&&t.first_media&&t.first_media.caption&&!t.publimodule.caption&&"page_by_page"!==t.page_template?i("div",{},[i("div",{staticClass:"u-instructions"},[t._v(" "+t._s(t.$t("copy_first_media_caption"))+" ")]),i("button",{attrs:{type:"button"},on:{click:function(e){return t.updateMeta({caption:t.first_media.caption})}}},[t._v(" "+t._s(t.first_media.caption)+" ")])]):t._e()],1):t._e()],2),t.edit_mode&&"page_by_page"!==t.page_template?i("div",{staticClass:"_selectorIndicator"}):t._e()],1)},y=[],w=(i(26699),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade_fast",mode:"out-in"}},[i("div",{key:t.medias_with_linked.length>1?"multiple":"single",staticClass:"_mediasModule",style:"--number_of_medias: "+t.medias_with_linked.length},[i("transition",{attrs:{name:"pagechange",mode:"out-in"}},["mosaic"===t.publimodule.module_type?i("MosaicMediaGrid",{key:"mosaic",attrs:{medias_with_linked:t.medias_with_linked,publimodule:t.publimodule,context:t.context,page_template:t.page_template,show_fs_button:t.show_fs_button,number_of_max_medias:t.number_of_max_medias,publication_path:t.publication_path,can_edit:t.can_edit},on:{addMedias:t.addMedias,removeMediaAtIndex:t.removeMediaAtIndex,updateMediaOpt:t.updateMediaOpt}}):"files"===t.publimodule.module_type?i("FilesList",{key:"filelist",attrs:{medias_with_linked:t.medias_with_linked,publication_path:t.publication_path,can_edit:t.can_edit},on:{addMedias:t.addMedias,reorderMedias:t.reorderMedias,removeMediaAtIndex:t.removeMediaAtIndex}}):"carousel"===t.publimodule.module_type?i("MediaCarousel",{attrs:{medias_with_linked:t.medias_with_linked,context:t.context,page_template:t.page_template,show_fs_button:t.show_fs_button,publication_path:t.publication_path,publi_width:t.publimodule.size,can_edit:t.can_edit},on:{addMedias:t.addMedias,removeMediaAtIndex:t.removeMediaAtIndex,updateMediaOpt:t.updateMediaOpt}}):t._e()],1)],1)])}),k=[],x=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_mediaGrid",class:{"is--multipleMedias":t.is_multiple_medias}},[t._l(t.medias_with_linked,(function(e,s){return[i("div",{key:e._linked_media&&e._linked_media.$path||"no_media_"+s,staticClass:"_mediaGrid--item",style:t.itemStyle({media_with_linked:e})},[e._linked_media?i("MediaContent",{attrs:{file:e._linked_media,resolution:"preview"===t.context?220:1600,context:t.context,show_fs_button:t.show_fs_button,is_draggable:t.can_edit}}):i("div",{staticClass:"u-instructions _noSourceMedia",domProps:{textContent:t._s(t.$t("source_media_missing"))}}),t.can_edit?i("div",{staticClass:"_btnRow"},[!t.is_multiple_medias&&("page_by_page"!==t.page_template||t.single_media_displayed_at_full_ratio)||t.mediaIsSquare(e._linked_media)||"stl"===e._linked_media.$type||"obj"===e._linked_media.$type||"other"===e._linked_media.$type?t._e():[e.objectFit&&"cover"!==e.objectFit?i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("updateMediaOpt",{index:s,opt:{objectFit:"cover"}})}}},[i("sl-icon",{attrs:{name:"aspect-ratio"}})],1):t._e(),"contain"!==e.objectFit?i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("updateMediaOpt",{index:s,opt:{objectFit:"contain"}})}}},[i("sl-icon",{attrs:{name:"aspect-ratio-fill"}})],1):t._e()],t.is_multiple_medias?i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("removeMediaAtIndex",s)}}},[i("sl-icon",{attrs:{name:"trash3"}})],1):t._e()],2):t._e()],1)]})),t.can_edit&&(!t.number_of_max_medias||t.medias_with_linked.length<t.number_of_max_medias)?i("div",{staticClass:"_mediaPickerTile"},[i("button",{staticClass:"u-button u-button_transparent u-addBtn",attrs:{type:"button"},on:{click:function(e){t.show_media_picker=!0}}},[i("sl-icon",{attrs:{name:"plus-circle"}})],1),t.show_media_picker?i("MediaPicker",{attrs:{publication_path:t.publication_path},on:{addMedias:function(e){return t.$emit("addMedias",e)},close:function(e){t.show_media_picker=!1}}}):t._e(),!t.number_of_max_medias||t.medias_with_linked.length<t.number_of_max_medias?[i("DropZone",{on:{mediaDropped:function(e){return t.$emit("addMedias",e)}}})]:t._e()],2):t._e()],2)},C=[],S={props:{medias_with_linked:Array,context:String,publimodule:Object,page_template:String,show_fs_button:Boolean,number_of_max_medias:[Boolean,Number],publication_path:String,can_edit:Boolean},components:{MediaPicker:p},data(){return{show_media_picker:!1}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{is_multiple_medias(){return this.medias_with_linked.length>1},single_media_displayed_at_full_ratio(){if(this.medias_with_linked.length>1)return!1;const t=this.medias_with_linked[0]._linked_media.$infos?.ratio,e=!(!this.publimodule?.height||!this.publimodule?.width)&&this.publimodule?.height/this.publimodule?.width;if(!t||!e)return!1;const i=10;return Math.round(t*i)===Math.round(e*i)}},methods:{itemStyle({media_with_linked:t}){let e={};return e["--object-fit"]=t.objectFit||"cover",e},mediaIsSquare(t){return 1===t.$infos?.ratio}}},$=S,M=(i(87660),(0,h.Z)($,x,C,!1,null,"73040d67",null)),E=M.exports,P=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_filesList"},[i("DLabel",{attrs:{str:t.$t("source_files")}}),i("SlickList",{key:t.can_edit,staticClass:"_listOfFiles",attrs:{axis:"y",value:t.medias_with_linked,useDragHandle:!0},on:{input:function(e){return t.$emit("reorderMedias",e)}}},t._l(t.medias_with_linked,(function(e,s){var a=e._linked_media;return i("SlickItem",{key:a.$path,staticClass:"_reorderedFile",attrs:{index:s}},[t.can_edit?i("button",{staticClass:"u-button u-button_icon",attrs:{type:"button"}},[i("b-icon",{directives:[{name:"handle",rawName:"v-handle"}],attrs:{icon:"hand-index-thumb",label:t.$t("move")}})],1):t._e(),a&&a.$path?i("span",{staticClass:"_link"},[["image","video","audio","pdf","stl","url"].includes(a.$type)?i("MediaContent",{staticClass:"_preview",attrs:{file:a,resolution:220}}):i("div",{staticClass:"_preview _preview--none"},[i("sl-icon",{attrs:{name:"file-earmark-arrow-down"}})],1),i("span",{staticClass:"_link--filename",domProps:{textContent:t._s(a.$media_filename)}}),a.$infos.size?[i("span",{staticClass:"u-instructions _link--filesize",domProps:{textContent:t._s(t.formatBytes(a.$infos.size))}})]:t._e()],2):t._e(),a&&a.$path?i("DownloadFile",{attrs:{file:a}},[i("sl-icon-button",{attrs:{name:"file-earmark-arrow-down-fill"}})],1):t._e(),t.can_edit?i("sl-icon-button",{attrs:{name:"x",size:"small"},on:{click:function(e){return t.$emit("removeMediaAtIndex",s)}}}):t._e()],1)})),1),t.can_edit?i("div",{staticClass:"_addBtnSection"},[i("button",{staticClass:"u-button u-button_transparent u-addBtn",attrs:{type:"button"},on:{click:function(e){t.show_media_picker=!0}}},[i("sl-icon",{attrs:{name:"plus-circle"}}),t._v(" "+t._s(t.$t("add_files"))+" ")],1),t.show_media_picker?i("MediaPicker",{attrs:{publication_path:t.publication_path},on:{addMedias:function(e){return t.$emit("addMedias",e)},close:function(e){t.show_media_picker=!1}}}):t._e(),i("DropZone",{on:{mediaDropped:function(e){return t.$emit("addMedias",e)}}})],1):t._e()],1)},D=[],z=i(55656),L={props:{medias_with_linked:Array,publication_path:String,can_edit:Boolean},components:{SlickItem:z.SlickItem,SlickList:z.SlickList,MediaPicker:p},directives:{handle:z.HandleDirective},data(){return{show_media_picker:!1}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{}},F=L,A=(i(29259),(0,h.Z)(F,P,D,!1,null,"f366315c",null)),B=A.exports,I=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_carousel",class:{}},[i("transition",{attrs:{name:"fade",mode:"out-in"}},[i("flickity",{key:t.slider_key,ref:"flickity",staticClass:"_mainCarousel",attrs:{options:t.flickityOptions}},t._l(t.medias_with_linked,(function(e,s){return i("div",{key:e._linked_media&&e._linked_media.$path||"no_media_"+s,staticClass:"carousel-cell",style:t.itemStyle({media_with_linked:e})},[e._linked_media?i("MediaContent",{attrs:{file:e._linked_media,resolution:"preview"===t.context?220:1600,context:t.context,show_fs_button:t.show_fs_button}}):i("span",{staticClass:"_noSourceMedia u-instructions",domProps:{textContent:t._s(t.$t("source_media_missing"))}}),t.can_edit?i("div",{staticClass:"_btnRow"},[e.objectFit&&"cover"!==e.objectFit&&!t.mediaIsSquare(e._linked_media)?i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("updateMediaOpt",{index:s,opt:{objectFit:"cover"}})}}},[i("sl-icon",{attrs:{name:"aspect-ratio"}})],1):t._e(),"contain"===e.objectFit||t.mediaIsSquare(e._linked_media)?t._e():i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("updateMediaOpt",{index:s,opt:{objectFit:"contain"}})}}},[i("sl-icon",{attrs:{name:"aspect-ratio-fill"}})],1),i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("removeMediaAtIndex",s)}}},[i("sl-icon",{attrs:{name:"trash3"}})],1)]):t._e()],1)})),0)],1),t.can_edit?i("div",{staticClass:"_mediaPickerTile"},[i("EditBtn",{attrs:{btn_type:"add",is_unfolded:!1},on:{click:function(e){t.show_media_picker=!0}}}),t.show_media_picker?i("MediaPicker",{attrs:{publication_path:t.publication_path},on:{addMedias:function(e){return t.$emit("addMedias",e)},close:function(e){t.show_media_picker=!1}}}):t._e(),i("DropZone",{on:{mediaDropped:function(e){return t.$emit("addMedias",e)}}})],1):t._e()],1)},T=[],O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._t("default")],2)},j=[],N={props:{options:Object},mounted(){this.init()},beforeDestroy(){this.$flickity.destroy(),this.$flickity=null},methods:{init(){const t=i(11693);this.$flickity=new t(this.$el,this.options),this.$emit("init",this.$flickity)},flickity(){return this.$flickity},select(t,e,i){this.$flickity.select(t,e,i)},next(t,e){this.$flickity.next(t,e)},previous(t,e){this.$flickity.previous(t,e)},selectCell(t,e,i){this.$flickity.selectCell(t,e,i)},resize(){this.$flickity.resize()},reposition(){this.$flickity.reposition()},prepend(t){this.$flickity.prepend(t)},append(t){this.$flickity.append(t)},insert(t,e){this.$flickity.insert(t,e)},remove(t){this.$flickity.remove(t)},playPlayer(){this.$flickity.playPlayer()},stopPlayer(){this.$flickity.stopPlayer()},pausePlayer(){this.$flickity.pausePlayer()},unpausePlayer(){this.$flickity.unpausePlayer()},rerender(){this.$flickity.destroy(),this.init()},destroy(){this.$flickity.destroy()},reloadCells(){this.$flickity.reloadCells()},getCellElements(){return this.$flickity.getCellElements()},data(){const t=i(11693);return t.data(this.$el)},on(t,e){this.$flickity.on(t,e)},off(t,e){this.$flickity.off(t,e)},once(t,e){this.$flickity.once(t,e)},selectedElement(){return this.$flickity.selectedElement},selectedElements(){return this.$flickity.selectedElements},selectedIndex(){return this.$flickity.selectedIndex},cells(){return this.$flickity.cells},slides(){return this.$flickity.slides},disableDrag(){this.$flickity.options.draggable=!1,this.$flickity.updateDraggable()},enableDrag(){this.$flickity.options.draggable=!0,this.$flickity.updateDraggable()}}},R=N,W=(i(84825),(0,h.Z)(R,O,j,!1,null,null,null)),q=W.exports,H=(i(26845),{props:{medias_with_linked:Array,context:String,page_template:String,show_fs_button:Boolean,number_of_max_medias:[Boolean,Number],publication_path:String,publi_width:Number,can_edit:Boolean},components:{Flickity:q,MediaPicker:p},data(){return{show_media_picker:!1,flickityOptions:{initialIndex:0,groupCells:!1,imagesLoaded:!0,pageDots:!0,selectedAttraction:.2,percentPosition:!1,friction:.8,cellAlign:"left",contain:!0}}},created(){},mounted(){setTimeout((()=>{}),500)},beforeDestroy(){},watch:{publi_width(){setTimeout((()=>{this.$refs.flickity&&this.$refs.flickity.resize()}),250)}},computed:{slider_key(){const t=this.medias_with_linked.map(((t,e)=>t.meta_filename_in_project+"-index-"+e));return t?JSON.stringify(t):"none"}},methods:{itemStyle({media_with_linked:t}){let e={};return e["--object-fit"]=t.objectFit||"cover",e},mediaIsSquare(t){return 1===t.$infos?.ratio}}}),Z=H,U=(i(70240),(0,h.Z)(Z,I,T,!1,null,"16fd47c8",null)),K=U.exports,G={props:{publimodule:Object,context:{type:String,default:"full"},page_template:String,number_of_max_medias:[Boolean,Number],show_fs_button:Boolean,can_edit:Boolean},components:{MosaicMediaGrid:E,FilesList:B,MediaCarousel:K},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{publication_path(){return this.getParent(this.publimodule.$path)},medias_with_linked(){return this.publimodule.source_medias?this.publimodule.source_medias.reduce(((t,e)=>{const i=this.getSourceMedia({source_media:e,folder_path:this.publication_path});if(i){const s=Object.assign({},e,{_linked_media:i});t.push(s)}return t}),[]):[]}},methods:{async addMedias({path_to_source_media_metas:t}){let e=this.publimodule.source_medias.slice()||[];for(const i of t){const t=await this.prepareMediaForPublication({path_to_source_media_meta:i,publication_path:this.publication_path});e.push(t)}this.$emit("updateMeta",{source_medias:e})},async removeMediaAtIndex(t){const e=this.publimodule.source_medias.slice(),i=e[t];if(e.splice(t,1),0===e.length?this.$emit("remove"):this.$emit("updateMeta",{source_medias:e}),Object.prototype.hasOwnProperty.call(i,"meta_filename")){const t=this.getSourceMedia({source_media:{meta_filename:i.meta_filename},folder_path:this.publication_path});await this.$api.deleteItem({path:t.$path})}},reorderMedias(t){const e=t.map((t=>(delete t._linked_media,t)));this.$emit("updateMeta",{source_medias:e})},updateMediaOpt({index:t,opt:e}){const i=this.publimodule.source_medias.slice();Object.assign(i[t],e),this.$emit("updateMeta",{source_medias:i})}}},X=G,V=(i(3939),(0,h.Z)(X,w,k,!1,null,"603ae110",null)),Y=V.exports,J={props:{publimodule:Object,module_position:String,module_being_edited:String,magnification:Number,border_radius:{type:Object,default:()=>({x:0,y:0})},context:String,page_template:String,number_of_max_medias:{type:[Boolean,Number],default:!1},can_edit:Boolean},components:{MediasModule:Y},inject:{$getMapOptions:{default:!1}},data(){return{is_repicking_location:!1,observer:void 0}},i18n:{messages:{fr:{},en:{}}},created(){},mounted(){this.$eventHub.$on(`module.enable_edit.${this.module_meta_filename}`,this.enableEdit),this.$eventHub.$on(`module.duplicate.${this.module_meta_filename}`,this.duplicateModule),this.$eventHub.$on(`module.remove.${this.module_meta_filename}`,this.removeModule),this.$eventHub.$on(`publication.story.scrollTo.${this.publimodule.$path}`,this.scrollToModule),this.$eventHub.$on("publication.map.click",this.setRepickLocation),this.startIntersectionObserver()},beforeDestroy(){this.$eventHub.$off(`module.enable_edit.${this.module_meta_filename}`,this.enableEdit),this.$eventHub.$off(`module.duplicate.${this.module_meta_filename}`,this.duplicateModule),this.$eventHub.$off(`module.remove.${this.module_meta_filename}`,this.removeModule),this.$eventHub.$off(`publication.story.scrollTo.${this.publimodule.$path}`,this.scrollToModule),this.$eventHub.$off("publication.map.click",this.setRepickLocation),this.endIntersectionObserver()},watch:{edit_mode(){this.$refs.textBloc&&(this.edit_mode?this.$nextTick((()=>this.$refs.textBloc.enableEditor())):this.$refs.textBloc.disableEditor()),this.edit_mode||(this.is_repicking_location=!1)}},computed:{is_associated_to_map(){return this.$getMapOptions},is_active_on_map(){return!!this.$getMapOptions&&this.$getMapOptions().opened_pin_path===this.publimodule.$path},available_module_types(){return"text"===this.publimodule.module_type?["text"]:["mosaic","carousel","files"]},pin_options(){return!!this.$getMapOptions&&this.$getMapOptions().pins_infos.find((({path:t})=>t===this.publimodule.$path))},has_coordinates(){return this.publimodule.location?.latitude&&this.publimodule.location?.longitude},edit_mode(){return this.module_being_edited===this.publimodule.$path},module_meta_filename(){return this.publimodule.$path.split("/").at(-1)},module_type(){return["ellipsis","rectangle","line","arrow"].includes(this.publimodule.module_type)?"shape":this.publimodule.module_type},show_fs_button(){return"page_by_page"!==this.page_template||!0===this.publimodule.show_fs_button},first_media(){return this.firstMedia(this.publimodule)},media_styles(){let t=0;return"center"===this.publimodule.align&&(66.6===this.publimodule.size?t=16.6:50===this.publimodule.size?t=25:33.3===this.publimodule.size&&(t=33.3)),"right"===this.publimodule.align&&(66.6===this.publimodule.size?t=33.3:50===this.publimodule.size?t=50:33.3===this.publimodule.size&&(t=66.6)),{"--module-width":this.publimodule.size||100,"--module-margin-left":t}}},methods:{async updateMeta(t){await this.$api.updateMeta({path:this.publimodule.$path,new_meta:t}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t}))},repickLocation(){this.is_repicking_location=!0,this.$eventHub.$emit("publication.map.disableTools")},showModuleOnMap(){this.$eventHub.$emit("publication.map.openPin",this.publimodule.$path)},pinButtonClick(){this.scrollToModule()},preventClickTraversing(t){this.edit_mode&&t.stopPropagation()},async setRepickLocation({longitude:t,latitude:e}){this.is_repicking_location&&(await this.updateMeta({location:{longitude:t,latitude:e}}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t})),this.is_repicking_location=!1,await new Promise((t=>setTimeout(t,100))),this.showModuleOnMap())},async eraseCoords(){await this.updateMeta({location:{}}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t}))},enableEdit(){this.$emit("update:module_being_edited",this.publimodule.$path)},disableEdit(){this.$emit("update:module_being_edited",void 0)},scrollToModule(t="smooth"){this.$el&&(console.log("scrollToModule "+this.publimodule.$path),this.$el.scrollIntoView({behavior:t,block:"start",inline:"nearest"}))},startIntersectionObserver(){let t=(t,e)=>{t.forEach((t=>{t.isIntersecting&&this.is_associated_to_map&&this.has_coordinates&&!this.is_active_on_map&&this.showModuleOnMap()}))},e="-10%";try{e=window.getComputedStyle(this.$el).getPropertyValue("scroll-margin-top")}catch(i){}this.observer=new IntersectionObserver(t,{rootMargin:`${e} 0% -80% 0%`}),this.observer.observe(this.$refs.sentinel)},endIntersectionObserver(){this.observer.unobserve(this.$el)},changeModuleType(t){const e=t.target.value;this.updateMeta({module_type:e})},async duplicateModule(){let t={};"page_by_page"===this.page_template&&(t.x=(this.publimodule.x||0)+10,t.y=(this.publimodule.y||0)+10);const e=await this.duplicateModuleWithSourceMedias({og_module:this.publimodule,addtl_meta_to_module:t});this.$emit("duplicate",e)},async removeModule(){try{for(let t of this.publimodule.source_medias)if(Object.prototype.hasOwnProperty.call(t,"meta_filename")){const e=this.getParent(this.publimodule.$path),i=this.getSourceMedia({source_media:t,folder_path:e});i&&await this.$api.deleteItem({path:i.$path})}}catch(t){throw this.$alertify.delay(4e3).error(t),t}await this.$api.deleteItem({path:this.publimodule.$path}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t})),this.$emit("remove")}}},Q=J,tt=(i(77966),(0,h.Z)(Q,b,y,!1,null,"219327cf",null)),et=tt.exports,it={props:{publication:Object,section:Object,can_edit:Boolean},components:{ModuleCreator:v,PublicationModule:et},data(){return{medias:[],module_being_edited:void 0}},i18n:{messages:{fr:{remove_section:"Supprimer le chapitre"},en:{remove_section:"Remove this chapter"}}},created(){this.$eventHub.$on("module.none_edited",this.unselectModuleEdited)},async mounted(){},beforeDestroy(){this.$eventHub.$off("module.none_edited",this.unselectModuleEdited)},watch:{},computed:{section_modules_list(){return this.getModulesForSection({publication:this.publication,section:this.section}).map((({_module:t})=>t))},story_styles(){return this.makeStoryStyles({publication:this.publication})}},methods:{async addModules({meta_filenames:t}){await this.insertModuleMetaFilenamesToList2({publication:this.publication,section:this.section,meta_filenames:t});const e=t.at(-1);this.toggleNewModuleEdit({meta_filename:e})},async insertModules({meta_filenames:t,index:e}){await this.insertModuleMetaFilenamesToList2({publication:this.publication,section:this.section,index:e,meta_filenames:t});const i=t.at(-1);this.toggleNewModuleEdit({meta_filename:i})},toggleNewModuleEdit({meta_filename:t}){const e=this.publication.$path+"/"+t;setTimeout((()=>{this.$eventHub.$emit(`module.enable_edit.${t}`),this.$eventHub.$emit("publication.map.openPin",e)}),150)},async moveModuleTo({path:t,new_position:e}){await this.moveModuleTo2({publication:this.publication,section:this.section,meta_filename:this.getFilename(t),new_position:e})},async duplicatePublicationMedia({source_module_path:t,copy_meta_filename:e}){const i=this.getFilename(t);await this.duplicatePublicationMedia2({publication:this.publication,section:this.section,source_meta_filename:i,copy_meta_filename:e})},unselectModuleEdited(){this.module_being_edited=void 0},async removeSection(){this.$emit("prevSection"),await this.removeSection2({publication:this.publication,group:"sections_list",path:this.section.$path})},async removeModule(t){await this.removeModule2({publication:this.publication,section:this.section,path:t})}}},st=it,at=(i(91868),(0,h.Z)(st,s,a,!1,null,"66274f48",null)),nt=at.exports},89845:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return Ie}});var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_lumaView"},[t.shared_folder_path?[i("div",{staticClass:"_topBarIndication"},t._l(t.possible_panes,(function(e){return i("div",{key:e.key,staticClass:"_topBarIndication--item",style:t.setTopbarWidth(e.key),on:{click:function(i){return t.togglePane(e.key)}}},[i("span",{staticClass:"_topBarIndication--item--names"},[i("b-icon",{attrs:{icon:e.icon}}),t._v(" "+t._s(e.label)+" ")],1)])})),0),i("splitpanes",{staticClass:"_splitpanes",attrs:{"watch-slots":""},on:{resize:t.resizeTopPane,resized:t.resizedPane}},[i("pane",{attrs:{"min-size":t.min_toppane_width,size:t.panes_width.chutier}},[i("div",{key:"myContent",staticClass:"_myContent"},[i("MyChutier",{directives:[{name:"show",rawName:"v-show",value:t.show_chutier,expression:"show_chutier"}],staticClass:"_myContent--chutier",attrs:{shared_folder_path:t.shared_folder_path},on:{close:function(e){t.show_chutier=!1}}})],1)]),i("pane",{attrs:{"min-size":t.min_toppane_width,size:t.panes_width.archive}},[i("div",{key:"sharedContent",staticClass:"_sharedContent"},[i("SharedFolder2",{attrs:{shared_folder_path:t.shared_folder_path}})],1)]),i("pane",{attrs:{"min-size":t.min_toppane_width,size:t.panes_width.format}},[i("FormatsPane")],1)],1)]:i("LoaderSpinner")],2)},a=[],n=(i(26699),i(57658),Object.defineProperty),o=Object.defineProperties,r=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,h=(t,e,i)=>e in t?n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,u=(t,e)=>{for(var i in e||(e={}))c.call(e,i)&&h(t,i,e[i]);if(l)for(var i of l(e))d.call(e,i)&&h(t,i,e[i]);return t},p=(t,e)=>o(t,r(e)),_=(t,e)=>{var i={};for(var s in t)c.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(null!=t&&l)for(var s of l(t))e.indexOf(s)<0&&d.call(t,s)&&(i[s]=t[s]);return i};function f(t,e,i,s,a,n,o,r){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=i,c._compiled=!0),s&&(c.functional=!0),n&&(c._scopeId="data-v-"+n),o?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=l):a&&(l=r?function(){a.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:a),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(t,e){return l.call(e),d(t,e)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,l):[l]}return{exports:t,options:c}}const m={name:"splitpanes",props:{horizontal:{type:Boolean},pushOtherPanes:{type:Boolean,default:!0},dblClickSplitter:{type:Boolean,default:!0},rtl:{type:Boolean,default:!1},firstSplitter:{type:Boolean}},provide(){return{requestUpdate:this.requestUpdate,onPaneAdd:this.onPaneAdd,onPaneRemove:this.onPaneRemove,onPaneClick:this.onPaneClick}},data:()=>({container:null,ready:!1,panes:[],touch:{mouseDown:!1,dragging:!1,activeSplitter:null},splitterTaps:{splitter:null,timeoutId:null}}),computed:{panesCount(){return this.panes.length},indexedPanes(){return this.panes.reduce(((t,e)=>(t[e.id]=e)&&t),{})}},methods:{updatePaneComponents(){this.panes.forEach((t=>{t.update&&t.update({[this.horizontal?"height":"width"]:`${this.indexedPanes[t.id].size}%`})}))},bindEvents(){document.addEventListener("mousemove",this.onMouseMove,{passive:!1}),document.addEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.addEventListener("touchmove",this.onMouseMove,{passive:!1}),document.addEventListener("touchend",this.onMouseUp))},unbindEvents(){document.removeEventListener("mousemove",this.onMouseMove,{passive:!1}),document.removeEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.removeEventListener("touchmove",this.onMouseMove,{passive:!1}),document.removeEventListener("touchend",this.onMouseUp))},onMouseDown(t,e){this.bindEvents(),this.touch.mouseDown=!0,this.touch.activeSplitter=e},onMouseMove(t){this.touch.mouseDown&&(t.preventDefault(),this.touch.dragging=!0,this.calculatePanesSize(this.getCurrentMouseDrag(t)),this.$emit("resize",this.panes.map((t=>({min:t.min,max:t.max,size:t.size})))))},onMouseUp(){this.touch.dragging&&this.$emit("resized",this.panes.map((t=>({min:t.min,max:t.max,size:t.size})))),this.touch.mouseDown=!1,setTimeout((()=>{this.touch.dragging=!1,this.unbindEvents()}),100)},onSplitterClick(t,e){"ontouchstart"in window&&(t.preventDefault(),this.dblClickSplitter&&(this.splitterTaps.splitter===e?(clearTimeout(this.splitterTaps.timeoutId),this.splitterTaps.timeoutId=null,this.onSplitterDblClick(t,e),this.splitterTaps.splitter=null):(this.splitterTaps.splitter=e,this.splitterTaps.timeoutId=setTimeout((()=>{this.splitterTaps.splitter=null}),500)))),this.touch.dragging||this.$emit("splitter-click",this.panes[e])},onSplitterDblClick(t,e){let i=0;this.panes=this.panes.map(((t,s)=>(t.size=s===e?t.max:t.min,s!==e&&(i+=t.min),t))),this.panes[e].size-=i,this.$emit("pane-maximize",this.panes[e])},onPaneClick(t,e){this.$emit("pane-click",this.indexedPanes[e])},getCurrentMouseDrag(t){const e=this.container.getBoundingClientRect(),{clientX:i,clientY:s}="ontouchstart"in window&&t.touches?t.touches[0]:t;return{x:i-e.left,y:s-e.top}},getCurrentDragPercentage(t){t=t[this.horizontal?"y":"x"];const e=this.container[this.horizontal?"clientHeight":"clientWidth"];return this.rtl&&!this.horizontal&&(t=e-t),100*t/e},calculatePanesSize(t){const e=this.touch.activeSplitter;let i={prevPanesSize:this.sumPrevPanesSize(e),nextPanesSize:this.sumNextPanesSize(e),prevReachedMinPanes:0,nextReachedMinPanes:0};const s=0+(this.pushOtherPanes?0:i.prevPanesSize),a=100-(this.pushOtherPanes?0:i.nextPanesSize),n=Math.max(Math.min(this.getCurrentDragPercentage(t),a),s);let o=[e,e+1],r=this.panes[o[0]]||null,l=this.panes[o[1]]||null;const c=r.max<100&&n>=r.max+i.prevPanesSize,d=l.max<100&&n<=100-(l.max+this.sumNextPanesSize(e+1));if(c||d)c?(r.size=r.max,l.size=Math.max(100-r.max-i.prevPanesSize-i.nextPanesSize,0)):(r.size=Math.max(100-l.max-i.prevPanesSize-this.sumNextPanesSize(e+1),0),l.size=l.max);else{if(this.pushOtherPanes){const t=this.doPushOtherPanes(i,n);if(!t)return;({sums:i,panesToResize:o}=t),r=this.panes[o[0]]||null,l=this.panes[o[1]]||null}null!==r&&(r.size=Math.min(Math.max(n-i.prevPanesSize-i.prevReachedMinPanes,r.min),r.max)),null!==l&&(l.size=Math.min(Math.max(100-n-i.nextPanesSize-i.nextReachedMinPanes,l.min),l.max))}},doPushOtherPanes(t,e){const i=this.touch.activeSplitter,s=[i,i+1];return e<t.prevPanesSize+this.panes[s[0]].min&&(s[0]=this.findPrevExpandedPane(i).index,t.prevReachedMinPanes=0,s[0]<i&&this.panes.forEach(((e,a)=>{a>s[0]&&a<=i&&(e.size=e.min,t.prevReachedMinPanes+=e.min)})),t.prevPanesSize=this.sumPrevPanesSize(s[0]),void 0===s[0])?(t.prevReachedMinPanes=0,this.panes[0].size=this.panes[0].min,this.panes.forEach(((e,s)=>{s>0&&s<=i&&(e.size=e.min,t.prevReachedMinPanes+=e.min)})),this.panes[s[1]].size=100-t.prevReachedMinPanes-this.panes[0].min-t.prevPanesSize-t.nextPanesSize,null):e>100-t.nextPanesSize-this.panes[s[1]].min&&(s[1]=this.findNextExpandedPane(i).index,t.nextReachedMinPanes=0,s[1]>i+1&&this.panes.forEach(((e,a)=>{a>i&&a<s[1]&&(e.size=e.min,t.nextReachedMinPanes+=e.min)})),t.nextPanesSize=this.sumNextPanesSize(s[1]-1),void 0===s[1])?(t.nextReachedMinPanes=0,this.panes[this.panesCount-1].size=this.panes[this.panesCount-1].min,this.panes.forEach(((e,s)=>{s<this.panesCount-1&&s>=i+1&&(e.size=e.min,t.nextReachedMinPanes+=e.min)})),this.panes[s[0]].size=100-t.prevPanesSize-t.nextReachedMinPanes-this.panes[this.panesCount-1].min-t.nextPanesSize,null):{sums:t,panesToResize:s}},sumPrevPanesSize(t){return this.panes.reduce(((e,i,s)=>e+(s<t?i.size:0)),0)},sumNextPanesSize(t){return this.panes.reduce(((e,i,s)=>e+(s>t+1?i.size:0)),0)},findPrevExpandedPane(t){const e=[...this.panes].reverse().find((e=>e.index<t&&e.size>e.min));return e||{}},findNextExpandedPane(t){const e=this.panes.find((e=>e.index>t+1&&e.size>e.min));return e||{}},checkSplitpanesNodes(){const t=Array.from(this.container.children);t.forEach((t=>{const e=t.classList.contains("splitpanes__pane"),i=t.classList.contains("splitpanes__splitter");if(!e&&!i)return t.parentNode.removeChild(t),void console.warn("Splitpanes: Only <pane> elements are allowed at the root of <splitpanes>. One of your DOM nodes was removed.")}))},addSplitter(t,e,i=!1){const s=t-1,a=document.createElement("div");a.classList.add("splitpanes__splitter"),i||(a.onmousedown=t=>this.onMouseDown(t,s),"undefined"!==typeof window&&"ontouchstart"in window&&(a.ontouchstart=t=>this.onMouseDown(t,s)),a.onclick=t=>this.onSplitterClick(t,s+1)),this.dblClickSplitter&&(a.ondblclick=t=>this.onSplitterDblClick(t,s+1)),e.parentNode.insertBefore(a,e)},removeSplitter(t){t.onmousedown=void 0,t.onclick=void 0,t.ondblclick=void 0,t.parentNode.removeChild(t)},redoSplitters(){const t=Array.from(this.container.children);t.forEach((t=>{t.className.includes("splitpanes__splitter")&&this.removeSplitter(t)}));let e=0;t.forEach((t=>{t.className.includes("splitpanes__pane")&&(!e&&this.firstSplitter?this.addSplitter(e,t,!0):e&&this.addSplitter(e,t),e++)}))},requestUpdate(t){var e=t,{target:i}=e,s=_(e,["target"]);const a=this.indexedPanes[i._uid];Object.entries(s).forEach((([t,e])=>a[t]=e))},onPaneAdd(t){let e=-1;Array.from(t.$el.parentNode.children).some((i=>(i.className.includes("splitpanes__pane")&&e++,i===t.$el)));const i=parseFloat(t.minSize),s=parseFloat(t.maxSize);this.panes.splice(e,0,{id:t._uid,index:e,min:isNaN(i)?0:i,max:isNaN(s)?100:s,size:null===t.size?null:parseFloat(t.size),givenSize:t.size,update:t.update}),this.panes.forEach(((t,e)=>t.index=e)),this.ready&&this.$nextTick((()=>{this.redoSplitters(),this.resetPaneSizes({addedPane:this.panes[e]}),this.$emit("pane-add",{index:e,panes:this.panes.map((t=>({min:t.min,max:t.max,size:t.size})))})}))},onPaneRemove(t){const e=this.panes.findIndex((e=>e.id===t._uid)),i=this.panes.splice(e,1)[0];this.panes.forEach(((t,e)=>t.index=e)),this.$nextTick((()=>{this.redoSplitters(),this.resetPaneSizes({removedPane:p(u({},i),{index:e})}),this.$emit("pane-remove",{removed:i,panes:this.panes.map((t=>({min:t.min,max:t.max,size:t.size})))})}))},resetPaneSizes(t={}){t.addedPane||t.removedPane?this.panes.some((t=>null!==t.givenSize||t.min||t.max<100))?this.equalizeAfterAddOrRemove(t):this.equalize():this.initialPanesSizing(),this.ready&&this.$emit("resized",this.panes.map((t=>({min:t.min,max:t.max,size:t.size}))))},equalize(){const t=100/this.panesCount;let e=0,i=[],s=[];this.panes.forEach((a=>{a.size=Math.max(Math.min(t,a.max),a.min),e-=a.size,a.size>=a.max&&i.push(a.id),a.size<=a.min&&s.push(a.id)})),e>.1&&this.readjustSizes(e,i,s)},initialPanesSizing(){this.panesCount;let t=100,e=[],i=[],s=0;this.panes.forEach((a=>{t-=a.size,null!==a.size&&s++,a.size>=a.max&&e.push(a.id),a.size<=a.min&&i.push(a.id)}));let a=100;t>.1&&(this.panes.forEach((e=>{null===e.size&&(e.size=Math.max(Math.min(t/(this.panesCount-s),e.max),e.min)),a-=e.size})),a>.1&&this.readjustSizes(t,e,i))},equalizeAfterAddOrRemove({addedPane:t,removedPane:e}={}){let i=100/this.panesCount,s=0,a=[],n=[];t&&null!==t.givenSize&&(i=(100-t.givenSize)/(this.panesCount-1)),this.panes.forEach((t=>{s-=t.size,t.size>=t.max&&a.push(t.id),t.size<=t.min&&n.push(t.id)})),Math.abs(s)<.1||(this.panes.forEach((e=>{t&&null!==t.givenSize&&t.id===e.id||(e.size=Math.max(Math.min(i,e.max),e.min)),s-=e.size,e.size>=e.max&&a.push(e.id),e.size<=e.min&&n.push(e.id)})),s>.1&&this.readjustSizes(s,a,n))},readjustSizes(t,e,i){let s;s=t>0?t/(this.panesCount-e.length):t/(this.panesCount-i.length),this.panes.forEach(((a,n)=>{if(t>0&&!e.includes(a.id)){const e=Math.max(Math.min(a.size+s,a.max),a.min),i=e-a.size;t-=i,a.size=e}else if(!i.includes(a.id)){const e=Math.max(Math.min(a.size+s,a.max),a.min),i=e-a.size;t-=i,a.size=e}a.update({[this.horizontal?"height":"width"]:`${this.indexedPanes[a.id].size}%`})})),Math.abs(t)>.1&&this.$nextTick((()=>{this.ready&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints.")}))}},watch:{panes:{deep:!0,immediate:!1,handler(){this.updatePaneComponents()}},horizontal(){this.updatePaneComponents()},firstSplitter(){this.redoSplitters()},dblClickSplitter(t){const e=[...this.container.querySelectorAll(".splitpanes__splitter")];e.forEach(((e,i)=>{e.ondblclick=t?t=>this.onSplitterDblClick(t,i):void 0}))}},beforeDestroy(){this.ready=!1},mounted(){this.container=this.$refs.container,this.checkSplitpanesNodes(),this.redoSplitters(),this.resetPaneSizes(),this.$emit("ready"),this.ready=!0},render(t){return t("div",{ref:"container",class:["splitpanes","splitpanes--"+(this.horizontal?"horizontal":"vertical"),{"splitpanes--dragging":this.touch.dragging}]},this.$slots.default)}};let g,v;const b={};var y=f(m,g,v,!1,w,null,null,null);function w(t){for(let e in b)this[e]=b[e]}var k=function(){return y.exports}(),x=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"splitpanes__pane",style:t.style,on:{click:function(e){return t.onPaneClick(e,t._uid)}}},[t._t("default")],2)},C=[];const S={name:"pane",inject:["requestUpdate","onPaneAdd","onPaneRemove","onPaneClick"],props:{size:{type:[Number,String],default:null},minSize:{type:[Number,String],default:0},maxSize:{type:[Number,String],default:100}},data:()=>({style:{}}),mounted(){this.onPaneAdd(this)},beforeDestroy(){this.onPaneRemove(this)},methods:{update(t){this.style=t}},computed:{sizeNumber(){return this.size||0===this.size?parseFloat(this.size):null},minSizeNumber(){return parseFloat(this.minSize)},maxSizeNumber(){return parseFloat(this.maxSize)}},watch:{sizeNumber(t){this.requestUpdate({target:this,size:t})},minSizeNumber(t){this.requestUpdate({target:this,min:t})},maxSizeNumber(t){this.requestUpdate({target:this,max:t})}}},$={};var M=f(S,x,C,!1,E,null,null,null);function E(t){for(let e in $)this[e]=$[e]}var P=function(){return M.exports}(),D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.chutier?i("div",{staticClass:"_myChutier",on:{click:function(e){t.last_clicked=!1}}},[i("portal-target",{attrs:{name:"largemedia",multiple:""}}),i("div",{staticClass:"_itemsList",on:{click:function(e){if(e.target!==e.currentTarget)return null;t.selected_items_slugs=[]}}},[i("div",{staticClass:"_topContent"},[i("div",{staticClass:"_subscribeBtn"},[i("button",{staticClass:"u-buttonLink _authorBtn",attrs:{type:"button"},on:{click:function(e){return t.$eventHub.$emit("showAuthorModal")}}},[t.connected_as?[t._v(" "+t._s(t.connected_as.name)+" ")]:[t._v(t._s(t.$t("login")))]],2),i("button",{staticClass:"u-button u-button_icon _qrBtn",attrs:{type:"button"},on:{click:function(e){t.show_qr_code_modal=!0}}},[i("sl-icon",{attrs:{name:"qr-code"}})],1),t.show_qr_code_modal?i("QRModal",{attrs:{url_to_access:t.url_to_page},on:{close:function(e){t.show_qr_code_modal=!1}}}):t._e(),i("button",{staticClass:"u-button u-button_icon _qrBtn",attrs:{type:"button"},on:{click:function(e){return t.$eventHub.$emit("app.show_welcome_modal")}}},[i("sl-icon",{attrs:{name:"question-square"}})],1)],1),i("div",{staticClass:"_importButton"},[i("div",{staticClass:"_importButton--cnt",class:{"is--dragover":t.is_dragover},on:{dragover:t.onDragover,dragenter:t.onDragEnter,dragleave:t.onDragLeave,drop:t.onDrop}},[i("label",{staticClass:"u-button u-button_red _importButton--btn",attrs:{for:t.id+"-add_file"}},[i("svg",{attrs:{width:"20",height:"17",viewBox:"0 0 20 17"}},[i("path",{attrs:{d:"M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"}})]),i("span",[t._v(" "+t._s(t.$t("import"))+" ")])]),i("input",{attrs:{type:"file",multiple:"multiple",id:t.id+"-add_file",name:"file",accept:""},on:{change:function(e){return t.updateInputFiles(e)}}}),t.files_to_import.length>0?i("UploadFiles",{staticClass:"_uploadFilesList",attrs:{files_to_import:t.files_to_import,path:t.author_path},on:{importedMedias:t.importedMedias,close:function(e){t.files_to_import=[]}}}):t._e(),i("button",{staticClass:"u-button u-button_white _qrBtn",attrs:{type:"button"},on:{click:t.createNote}},[i("sl-icon",{attrs:{name:"file-text"}}),t._v("   note ")],1),i("button",{staticClass:"u-button u-button_white _qrBtn",attrs:{type:"button"},on:{click:function(e){t.show_link_picker=!0}}},[i("sl-icon",{attrs:{name:"link-45deg"}}),t._v("   url ")],1),t.show_link_picker?i("LinkPicker",{on:{embed:t.createEmbed,close:function(e){t.show_link_picker=!1}}}):t._e()],1)])]),i("div",{staticClass:"_middleContent"},[t.chutier_items&&0!==t.chutier_items.length?[i("label",{staticClass:"_item--label",class:{"is--fullySelected":t.all_items_selected},attrs:{for:""},on:{click:function(e){t.all_items_selected?t.deselectAll():t.selectAll()}}},[t.chutier_items.length>0?i("button",{staticClass:"u-buttonLink u-selectBtn",attrs:{type:"button"}},[i("sl-icon",{attrs:{name:t.all_items_selected?"dash-square-dotted":"plus-square-dotted"}})],1):t._e(),t._v(" "+t._s(t.$t("items_to_share"))+" • "+t._s(t.chutier_items.length)+" ")])]:i("div",{staticClass:"u-instructions"},[t._v(" "+t._s(t.$t("imported_docs"))+" ")])],2),i("div",{staticClass:"_items",on:{click:function(e){if(e.target!==e.currentTarget)return null;t.selected_items_slugs=[]}}},t._l(t.chutier_items_grouped,(function(e){return i("div",{key:e.label,staticClass:"_item",on:{click:function(e){if(e.target!==e.currentTarget)return null;t.selected_items_slugs=[]}}},[i("div",{staticClass:"_item--label",class:{"is--fullySelected":t.rangeIsSelected(e.files.map((function(t){return t.$path})))},on:{click:function(i){t.rangeIsSelected(e.files.map((function(t){return t.$path})))?t.deselectRange(e.files.map((function(t){return t.$path}))):t.selectRange(e.files.map((function(t){return t.$path})))}}},[t.rangeIsSelected(e.files.map((function(t){return t.$path})))?i("button",{staticClass:"u-buttonLink u-selectBtn",attrs:{type:"button"}},[i("sl-icon",{attrs:{name:"dash-square-dotted"}})],1):i("button",{staticClass:"u-buttonLink u-selectBtn",attrs:{type:"button"}},[i("sl-icon",{attrs:{name:"plus-square-dotted"}})],1),t._v(" "+t._s(e.label)+" ")]),i("transition-group",{attrs:{tag:"div",name:"listComplete"}},t._l(e.files,(function(e){return i("ChutierItem",{key:e.$path,attrs:{file:e,is_clicked:t.last_clicked===e.$path,is_selected:t.selected_items_slugs.includes(e.$path),draggable:!0},on:{toggleSelect:function(i){return t.toggleSelect(e.$path)},unclicked:function(e){t.last_clicked=!1},click:function(i){i.stopPropagation(),t.last_clicked=e.$path}}})})),1)],1)})),0)]),i("DocumentsCreator",{staticClass:"_documentsCreator",attrs:{author_stacks_path:t.author_stacks_path,selected_items:t.selected_items}}),i("transition",{attrs:{name:"slideup",mode:"out-in"}},[t.selected_items.length>0?i("div",{key:"selection",staticClass:"_selectionBar"},[i("transition",{attrs:{name:"slideupFade",mode:"out-in"}},[i("div",{key:t.selected_items.length},[1===t.selected_items.length?[t._v(" "+t._s(t.$t("selected_item"))+" ")]:[t._v(" "+t._s(t.$t("selected_items"))+" ")],t._v(" "+t._s(t.selected_items.length)+" ")],2)]),i("div",{staticClass:"u-sameRow _dbleBtns"},[i("button",{staticClass:"u-button u-button_black",attrs:{type:"button"},on:{click:t.deselectAll}},[i("sl-icon",{attrs:{name:"dash-square-dotted"}}),t._v(" "+t._s(t.$t("deselect_all"))+" ")],1),i("button",{staticClass:"u-button u-button_black",attrs:{type:"button"},on:{click:function(e){t.show_confirm_remove_menu=!0}}},[i("sl-icon",{attrs:{name:"trash3"}}),t._v(" "+t._s(t.$t("remove_select"))+" ")],1)])],1):t._e()]),i("transition",{attrs:{name:"slideup",mode:"out-in"}},[t.show_confirm_remove_menu?i("div",{key:"remove",staticClass:"_removeMenu"},[i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){t.show_confirm_remove_menu=!1}}},[t._v(" "+t._s(t.$t("cancel"))+" ")]),i("button",{staticClass:"u-button u-button_red",attrs:{type:"button",autofocus:""},on:{click:t.removeItemsInSelection}},[t._v(" "+t._s(t.$t("confirm_removal"))+" ")])]):t._e()])],1):t._e()},z=[],L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_documentsCreator"},[i("transition-group",{attrs:{tag:"div",name:"projectsList"}},[t._l(t.sorted_stacks,(function(e){return i("DocumentSpot",{key:e.$path,attrs:{selected_items:t.selected_items,author_stacks_path:t.author_stacks_path,mode:t.spot_mode,stack_path:e.$path,stack:e}})})),i("div",{key:"empty"},[i("transition",{attrs:{name:"slideupFade"}},["add"===t.spot_mode?i("DocumentSpot",{attrs:{author_stacks_path:t.author_stacks_path,selected_items:t.selected_items,mode:"add"}}):t._e()],1)],1)],2)],1)},F=[],A=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{},[i("div",{staticClass:"_documentSpot",class:{"is--draggedOn":t.is_draggedOn,"has--content":t.stack,"is--expectingDrag":"add"===t.mode,"is--expectingClick":t.selected_items&&t.selected_items.length>0},on:{dragenter:t.dragEnter,dragover:t.dragOver,dragleave:t.dragLeave,click:t.openOrAddToStack,drop:t.drop}},[i("div",{staticClass:"_topContent"},[t.stack?[t.stack.$preview?i("MediaContent",{staticClass:"_mediaPreview",attrs:{file:t.stack.$preview}}):i("div",{staticClass:"_mediaPreview _noPreview"},[t._v(" "+t._s(t.$t("no_preview_to_show"))+" ")]),i("transition",{attrs:{name:"pagechange",mode:"out-in"}},[t.stack&&t.stack.stack_files_metas?i("div",{key:t.stack.stack_files_metas.length+"_"+t.mode,staticClass:"_count"},["add"===t.mode?[t._v("+")]:t._e(),t._v(" "+t._s(t.stack.stack_files_metas.length)+" ")],2):t._e()])]:[t._v("+")],i("transition",{attrs:{name:"slideupFade",mode:"out-in"}},["add"===t.mode?i("div",{},[i("div",{key:t.mode,staticClass:"anim_backgroundPosition"})]):t._e()]),t.is_adding_to_stack?i("LoaderSpinner",{staticClass:"_loader"}):t._e()],2),t.stack&&t.stack.title?i("div",{staticClass:"_stackTitle"},[t._v(" "+t._s(t.stack.title)+" ")]):t._e()]),i("transition",{attrs:{name:"slideup",mode:"out-in"}},[t.show_mediastack_modal?i("StackDisplay",{staticClass:"_stackModal",attrs:{stack_path:t.stack.$path,context:"chutier"},on:{close:function(e){t.show_mediastack_modal=!1}}}):t._e()],1)],1)},B=[],I=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_stackDisplay",attrs:{"data-context":t.context}},[t.is_loading?i("LoaderSpinner"):[i("div",{staticClass:"_closeStack"},[i("button",{staticClass:"u-button u-button_icon",on:{click:function(e){return t.$emit("close")}}},[i("b-icon",{attrs:{icon:"x-lg",label:t.$t("close")}})],1)]),i("div",{staticClass:"_panes"},[i("button",{staticClass:"u-button u-button_icon u-button_black _showSidebar",attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),t.show_sidebar=!0}}},[i("b-icon",{attrs:{icon:"list-ul","aria-label":t.$t("show_sidebar")}})],1),i("transition",{attrs:{name:"slideleft",mode:"out-in"}},[t.show_sidebar?i("div",{staticClass:"_infos"},[i("div",{staticClass:"_allFields"},[i("div",{staticClass:"_titleRow"},[i("TitleField",{attrs:{label:t.stack.title?"":t.$t("title"),field_name:"title",content:t.stack.title,path:t.stack.$path,required:!0,tag:"h1",can_edit:t.can_edit}}),t.can_be_added_to_fav?i("button",{staticClass:"u-button u-button_icon _addToColl",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.$emit("toggleFav")}}},[t.is_favorite?i("b-icon",{attrs:{icon:"star-fill","aria-label":t.$t("remove")}}):i("b-icon",{attrs:{icon:"star","aria-label":t.$t("add")}})],1):t._e()],1),i("hr"),i("div",[i("TitleField",{attrs:{label:t.$t("description"),field_name:"description",content:t.stack.description,path:t.stack.$path,input_type:"markdown",can_edit:t.can_edit}})],1),i("hr"),i("div",{},[i("KeywordsField",{attrs:{label:t.$t("keywords"),field_name:"keywords",keywords:t.stack.keywords,path:t.stack.$path,can_edit:t.can_edit}})],1),i("hr"),i("div",{staticClass:"_dateFields"},[i("div",{},[i("DateField",{attrs:{label:t.$t("created"),field_name:"date_created_corrected",date:t.date_created_corrected,path:t.stack.$path,input_type:"datetime-local",can_edit:t.can_edit}}),t._v(" "+t._s(t.date_created_corrected)+" ")],1),i("div",{},[i("DateField",{attrs:{label:t.$t("date_modified"),field_name:"date_modified",date:t.stack.$date_modified,path:t.stack.$path,input_type:"datetime-local",can_edit:!1}})],1)]),i("hr"),"chutier"===t.context?i("AuthorField",{staticClass:"u-spacingBottom",attrs:{label:t.$t("admins"),field:"$admins",authors_paths:t.stack.$admins,path:t.stack.$path,can_edit:t.can_edit}}):"archive"===t.context?i("AuthorField",{staticClass:"u-spacingBottom",attrs:{label:t.$t("contributors"),field:"$authors",authors_paths:t.stack.$authors,path:t.stack.$path,can_edit:t.can_edit}}):t._e(),t.can_edit?i("div",{staticClass:"u-sameRow"},[i("DownloadFolder",{attrs:{path:t.stack.$path}}),i("RemoveMenu",{attrs:{remove_text:t.$t("remove_stack")},on:{remove:t.removeStack}})],1):t._e()],1),"chutier"===t.context?i("div",{staticClass:"_bottomBtns"},[i("transition",{attrs:{name:"pagechange",mode:"out-in"}},[i("button",{key:t.share_button_is_enabled,staticClass:"u-button u-button_red _btn",attrs:{type:"button",disabled:!t.share_button_is_enabled},on:{click:t.publishStack}},[t._v(" "+t._s(t.$t("publish"))+"  "),i("sl-icon",{staticStyle:{"font-size":"1rem"},attrs:{name:"arrow-right-square",circle:""}})],1)]),i("div",{staticClass:"u-instructions"},[t.stack.title&&0!==t.stack.title.length?t._e():i("div",[t._v(" "+t._s(t.$t("fill_title"))+" ")]),t.stack.keywords&&0!==t.stack.keywords.length?t._e():i("div",[t._v(" "+t._s(t.$t("fill_keywords"))+" ")]),0===t.stack_files_in_order.length?i("div",[t._v(" "+t._s(t.$t("files_missing"))+" ")]):t._e()])],1):t._e(),i("button",{staticClass:"u-button u-button_icon u-button_transparent _hideSidebar",attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),t.show_sidebar=!1}}},[i("b-icon",{attrs:{icon:"arrow-left","aria-label":t.$t("hide_sidebar")}})],1)]):t._e()]),i("transition",{attrs:{name:"fade",mode:"out-in"}},[t.show_sidebar&&!t.dual_display?i("div",{staticClass:"_overlay",on:{click:function(e){t.show_sidebar=!1}}}):t._e()]),i("StackCarousel",{staticClass:"_topCarousel",attrs:{"data-dualdisplay":t.dual_display,files:t.stack_files_in_order,can_edit:t.can_edit},on:{removeMediaFromStack:t.removeMediaFromStack,changeMediaOrder:t.changeMediaOrder}})],1)]],2)},T=[],O=(i(52262),i(24506),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_keywordsField"},[t.label?i("DLabel",{staticClass:"_label",attrs:{str:t.label}}):t._e(),t.new_keywords.length>0?i("div",{staticClass:"u-keywords"},t._l(t.new_keywords,(function(e){return i("SingleKeyword",{key:e,attrs:{keyword:e,can_remove:t.edit_mode},on:{remove:function(i){return t.removeKeyword(e)}}})})),1):t._e(),t.can_edit&&!t.edit_mode?i("EditBtn",{on:{click:t.enableEditMode}}):t._e(),t.edit_mode?[i("KeywordsFieldEditor",{attrs:{keywords:t.new_keywords},on:{"update:keywords":function(e){t.new_keywords=e}}})]:t._e(),t.can_edit&&t.path&&t.field_name?[t.edit_mode?i("div",{staticClass:"_footer"},[i("SaveCancelButtons",{staticClass:"_scb",on:{save:t.updateKeywords,cancel:t.cancel}})],1):t._e()]:t._e()],2)}),j=[],N=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_keywordsFieldEditor"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.user_suggestion,expression:"user_suggestion"}],ref:"keywordField",staticClass:"is--dark",attrs:{type:"text",required:"",placeholder:t.$t("keyword_materials_etc")},domProps:{value:t.user_suggestion},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:(e.preventDefault(),t.$emit("cancelEdit"))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.newKeyword.apply(null,arguments))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.shiftKey?e.ctrlKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.submitFirstSuggestion.apply(null,arguments)):null}],input:function(e){e.target.composing||(t.user_suggestion=e.target.value)}}}),i("div",{staticClass:"u-instructions"},[i("small",[t.suggested_keywords.length>0?[t._v(" "+t._s(t.$t("validate_with_shift_enter"))+" ")]:t.user_suggestion.length>0?[t._v(t._s(t.$t("create_new_keyword_enter")))]:t._e()],2)]),i("div",{staticClass:"_catSug"},[i("div",{staticClass:"_categories"},t._l(t.categories_with_keywords,(function(e){return i("button",{key:e,staticClass:"u-button _category",class:{"is--active":t.suggestion_from_category===e},attrs:{type:"button","data-category":e},on:{click:function(i){return t.toggleCategory(e)}}},[t._v(" "+t._s(e)+" ("+t._s(t.matchingKeywordsWithCategory(e).length)+") ")])})),0),t.suggested_keywords.length>0?i("div",{staticClass:"_suggestions"},[i("div",{staticClass:"u-keywords"},t._l(t.suggested_keywords,(function(e,s){return i("SingleKeyword",{key:e,class:{"is--first":0===s},attrs:{keyword:e,can_add:!0},on:{add:function(i){return t.addKeyword(e)}}})})),1)]):t._e()])])},R=[],W=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_singleKeyword",class:{"is--clickable":t.can_add},style:t.kw_styles},[i("div",{},[t.category?i("div",{staticClass:"_category"},[t._v(" "+t._s(t.category.toUpperCase())+" ")]):t._e(),i("div",{staticClass:"_name"},[t._v(" "+t._s(t.name)+" ")])]),t.count?i("div",{staticClass:"_count"},[t._v(" "+t._s(t.count)+" ")]):t._e(),t.can_remove?i("sl-icon-button",{staticClass:"_white",attrs:{name:"dash-circle"},on:{click:function(e){return t.$emit("remove")}}}):t._e(),t.can_add?i("button",{staticClass:"_addBtn",attrs:{type:"button"},on:{click:function(e){return t.$emit("add")}}}):t._e()],1)},q=[],H={props:{keyword:String,count:Number,cat_color:String,can_remove:Boolean,can_add:Boolean},components:{},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{category(){return!!this.keyword.includes("/")&&this.keyword.split("/").at(0)},name(){return this.keyword.includes("/")?this.keyword.split("/").at(1):this.keyword},kw_styles(){let t=!1;if(this.cat_color)t=this.cat_color;else{const e=window.app_infos.custom_suggested_categories.find((t=>t.title===this.category));t=e?.tag_color}return t?`--cat-color: ${t}`:""}},methods:{}},Z=H,U=(i(85633),i(1001)),K=(0,U.Z)(Z,W,q,!1,null,"56f0f92a",null),G=K.exports,X={props:{keywords:Array},components:{SingleKeyword:G},data(){return{user_suggestion:"",suggestion_from_category:!1,categories:[],path:"categories"}},i18n:{messages:{fr:{validate_with_shift_enter:"Validez la première suggestion avec SHIFT+ENTRÉE, ou créez un nouveau mot-clé avec ENTRÉE.",create_new_keyword_enter:"Créez un nouveau mot-clé avec ENTRÉE."},en:{validate_with_shift_enter:"Add first suggestion with SHIFT+ENTER, or create a new keyword with ENTER.",create_new_keyword_enter:"Create a new keyword with ENTER."}}},async created(){this.categories=await this.$api.getFolders({path:this.path}),this.$api.join({room:this.path})},async mounted(){},beforeDestroy(){this.$api.leave({room:this.path})},watch:{},computed:{all_categories(){return this.categories.map((t=>t.title))},all_keywords(){return this.categories.reduce(((t,e)=>(e.title&&e.list_of_suggestions&&e.list_of_suggestions.map((i=>{t.push(e.title+"/"+i)})),t)),[])},categories_with_keywords(){return this.all_categories.filter((t=>this.matchingKeywordsWithCategory(t).length>0))},suggested_keywords(){return this.matchingKeywordsWithCategory(this.suggestion_from_category)}},methods:{matchingKeywordsWithCategory(t){return this.all_keywords.filter((e=>{const i=!!e.includes("/")&&e.split("/").at(0),s=e.includes("/")?e.split("/").at(1):e;return!this.keywords.includes(e)&&((!t||t===i)&&(!(!t&&0===this.user_suggestion.length)&&this.twoStringsMatch(s,this.user_suggestion)))}))},toggleCategory(t){this.suggestion_from_category===t?this.suggestion_from_category=!1:this.suggestion_from_category=t},newKeyword(){this.user_suggestion.length>0&&this.addKeyword(this.user_suggestion)},submitFirstSuggestion(){if(0===this.suggested_keywords.length)return!1;const t=this.suggested_keywords.at(0);this.addKeyword(t)},keywordKey(t){return t.category+"/"+t.name},addKeyword(t){let e=this.keywords.slice();e.push(t),e.sort(((t,e)=>e)),this.$emit("update:keywords",e),this.user_suggestion="",this.$refs.keywordField.focus()}}},V=X,Y=(i(51160),(0,U.Z)(V,N,R,!1,null,"e58c331c",null)),J=Y.exports,Q={props:{field_name:String,label:String,path:String,keywords:Array,can_edit:Boolean},components:{KeywordsFieldEditor:J,SingleKeyword:G},data(){return{new_keywords:this.keywords||[],edit_mode:this.can_edit&&!this.path&&!this.field_name,is_saving:!1}},created(){},mounted(){},beforeDestroy(){},watch:{new_keywords(){this.$emit("update:keywords",this.new_keywords)}},computed:{},methods:{enableEditMode(){this.edit_mode=!0},async updateKeywords(){this.is_saving=!0,await new Promise((t=>setTimeout(t,50)));try{const t={[this.field_name]:this.new_keywords};await this.$api.updateMeta({path:this.path,new_meta:t}),this.edit_mode=!1,this.is_saving=!1}catch(t){this.is_saving=!1}},cancel(){this.new_keywords=this.keywords||[],this.edit_mode=!1},removeKeyword(t){this.new_keywords=this.new_keywords.filter((e=>e!==t))}}},tt=Q,et=(0,U.Z)(tt,O,j,!1,null,"23aaf308",null),it=et.exports,st=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_stackCarousel"},[i("div",{staticClass:"_single"},[i("transition",{attrs:{name:"pagechange",mode:"out-in"}},[t.current_file_shown?i("MediaContent",{key:t.current_file_shown.$path,attrs:{file:t.current_file_shown,context:"full",resolution:1600,show_fs_button:!0,zoom_on_click:!0}}):t._e()],1),i("div",{staticClass:"_dragFileIcon"},[i("DragFile",{attrs:{file:t.current_file_shown,is_dragged:t.is_dragged},on:{"update:is_dragged":function(e){t.is_dragged=e}}})],1)],1),i("div",{staticClass:"_unfoldBtn"},[i("button",{staticClass:"u-button u-button_icon",attrs:{type:"button"},on:{click:function(e){t.show_infos=!t.show_infos}}},[t.show_infos?i("b-icon",{attrs:{icon:"chevron-compact-down","aria-label":t.$t("close")}}):i("b-icon",{attrs:{icon:"chevron-compact-up","aria-label":t.$t("open")}}),i("b-icon",{attrs:{icon:"file-earmark-text"}})],1)]),i("transition",{attrs:{name:"pagechange",mode:"out-in"}},[i("div",{key:t.current_file_shown.$path,staticClass:"_infos",attrs:{"data-hide":!t.show_infos}},[i("div",{staticClass:"_infos--content"},[i("div",{staticClass:"u-spacingBottom"},[i("TitleField",{staticClass:"_caption",attrs:{field_name:"caption",label:t.$t("caption"),content:t.current_file_shown.caption,path:t.current_file_shown.$path,maxlength:1280,input_type:"markdown",can_edit:t.can_edit}})],1),i("div",{staticClass:"u-spacingBottom"},[i("TitleField",{staticClass:"_credits",attrs:{field_name:"credits",label:t.$t("credits/source"),content:t.current_file_shown.credits,path:t.current_file_shown.$path,maxlength:1280,input_type:"markdown",can_edit:t.can_edit}})],1)])])]),i("transition-group",{staticClass:"_list",attrs:{tag:"div",name:"listComplete"}},t._l(t.files,(function(e,s){return i("div",{key:e.$path,staticClass:"_preview",attrs:{"data-iscurrent":t.current_file_shown.$path===e.$path},on:{click:function(e){return t.openFile(s)}}},[i("MediaContent",{attrs:{file:e,context:"preview",resolution:360}}),i("transition",{attrs:{name:"fade_fast",mode:"out-in"}},[t.current_file_shown.$path===e.$path?i("div",{staticClass:"_btnRow"},[i("RemoveMenu",{attrs:{remove_text:t.$t("remove")},on:{remove:function(e){return t.$emit("removeMediaFromStack",t.current_file_shown.$path)}}}),i("select",{staticClass:"_changeOrderSelect",attrs:{size:"small"},domProps:{value:s+1},on:{change:function(e){return t.$emit("changeMediaOrder",s,+e.target.value-1)}}},t._l(new Array(t.files.length).fill(null),(function(e,s){return i("option",{key:s+1,domProps:{textContent:t._s(s+1)}})})),0)],1):t._e()])],1)})),0)],1)},at=[],nt={props:{files:Array,can_edit:Boolean},components:{},data(){return{active_file_index:0,is_dragged:!1,show_infos:!0}},i18n:{messages:{fr:{"credits/source":"Crédits/source"},en:{"credits/source":"Credits/source"}}},created(){},mounted(){},beforeDestroy(){},watch:{active_file_index(){this.$nextTick((()=>{const t=this.$el.querySelector("._preview[data-iscurrent]");t.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}))}},computed:{enable_drag(){return"undefined"!==typeof this.$eventHub._events["mediatile.drag.end"]},current_file_shown(){return!1!==this.active_file_index&&this.files[this.active_file_index]}},methods:{toggleFile(t){this.active_file_index===t?this.active_file_index=!1:this.active_file_index=t},openFile(t){this.active_file_index=t},startMediaDrag(t){this.is_dragged=!0,t.dataTransfer.setData("text/plain",JSON.stringify(this.file)),t.dataTransfer.effectAllowed="copy",this.$eventHub.$emit("mediatile.drag.start")},endMediaDrag(){this.is_dragged=!1,this.$eventHub.$emit("mediatile.drag.end")}}},ot=nt,rt=(i(87244),(0,U.Z)(ot,st,at,!1,null,"1d780f1e",null)),lt=rt.exports,ct={props:{stack_path:String,context:String,is_favorite:Boolean,can_be_added_to_fav:Boolean},components:{KeywordsField:it,StackCarousel:lt},inject:{$sharedFolderPath:{default:!1}},data(){return{stack:void 0,is_loading:!0,show_sidebar:"false"!==localStorage.getItem("show_sidebar"),pane_width:void 0,ro:void 0}},i18n:{messages:{fr:{fill_title:"Veuillez remplir le champ Titre",fill_keywords:"Veuillez remplir le champ Mots-clés",files_missing:"Veuillez ajouter des médias à ce document"}}},async created(){if(this.stack=await this.$api.getFolder({path:this.stack_path}),this.$api.join({room:this.stack.$path}),this.is_loading=!1,this.date_created_corrected=this.datetimeLocal(this.stack.date_created_corrected||this.stack.$date_created||this.stack.$date_uploaded),this.stack_files_in_order.length>0){const t=this.stack_files_in_order[0].$path;this.stack.$preview?.$path!==t&&await this.$api.updateMeta({path:this.stack.$path,new_meta:{$preview:this.getFilename(t)}})}},mounted(){this.updatePaneWidth(),this.ro=new ResizeObserver(this.updatePaneWidth),this.ro.observe(this.$el),window.addEventListener("keyup",this.handleKeyPress)},beforeDestroy(){this.ro.unobserve(this.$el),window.removeEventListener("keyup",this.handleKeyPress),this.$api.leave({room:this.stack.$path})},watch:{"stack.date_created_corrected"(){this.date_created_corrected=this.datetimeLocal(this.stack.date_created_corrected)},show_sidebar(){localStorage.setItem("show_sidebar",this.show_sidebar)}},computed:{can_edit(){return!!this.stack&&this.canLoggedinEditFolder({folder:this.stack})},stack_files_in_order(){return this.getStackFilesInOrder({stack:this.stack})},shared_folder_path(){return!!this.$sharedFolderPath&&this.$sharedFolderPath()},share_button_is_enabled(){return this.stack.title?.length>0&&this.stack.keywords?.length>0&&this.stack_files_in_order.length>0},dual_display(){return!!(this.show_sidebar&&this.pane_width>720)}},methods:{updatePaneWidth(){this.pane_width=this.$el.offsetWidth},async changeMediaOrder(t,e){let i=this.stack_files_in_order.map((t=>this.getFilename(t.$path)));function s(t,e,i){if(i>=t.length){var s=i-t.length+1;while(s--)t.push(void 0)}return t.splice(i,0,t.splice(e,1)[0]),t}s(i,t,e);let a={stack_files_metas:i};this.stack.$preview?.$path&&this.getFilename(this.stack.$preview?.$path)===i.at(0)||(a.$preview=i.at(0)),await this.$api.updateMeta({path:this.stack.$path,new_meta:a})},async removeMediaFromStack(t){await this.$api.copyFile({path:t,path_to_destination_folder:this.connected_as.$path,new_meta:{}}),await this.$api.deleteItem({path:t});let e=this.stack?.stack_files_metas.slice();e=e.filter((e=>e!==this.getFilename(t))),await this.$api.updateMeta({path:this.stack.$path,new_meta:{stack_files_metas:e}})},async removeStack(){await this.$api.deleteItem({path:this.stack.$path}),this.$emit("close")},closeOnRemove({path:t}){t===this.stack.$path&&(this.$alertify.closeLogOnClick(!0).delay(4e3).log(this.$t("notifications.stack_was_removed")),this.$emit("close"))},async publishStack(){const t=this.shared_folder_path+"/stacks";await this.$api.copyFolder({path:this.stack.$path,path_to_destination_type:t,new_meta:{$admins:"everyone",$authors:this.stack.$admins}}),await this.$api.deleteItem({path:this.stack.$path}),this.$emit("close")},handleKeyPress(t){if("Escape"===t.key)return this.$emit("close"),!1}}},dt=ct,ht=(i(3629),(0,U.Z)(dt,I,T,!1,null,"b6d67a12",null)),ut=ht.exports,pt={props:{index:Number,author_stacks_path:String,selected_items:Array,mode:String,stack:Object},components:{StackDisplay:ut},data(){return{is_draggedOn:!1,show_mediastack_modal:!1,is_adding_to_stack:!1}},created(){},async mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{dragEnter(t){const e="text/plain"===t.dataTransfer?.types[0];e&&(this.is_draggedOn=!0)},dragOver(t){t.preventDefault()},dragLeave(){this.is_draggedOn=!1},async drop(t){if(this.$alertify.delay(4e3).success("dropped item"),t.preventDefault(),this.is_draggedOn=!1,this.selected_items.length>0)await this.addSelectedToStack();else{const e=t.dataTransfer?.getData("text/plain");if(e){const t=[JSON.parse(e)];await this.createOrAppendToStack(t)}}},async addSelectedToStack(){const t=this.selected_items.map((t=>t.$path));await this.createOrAppendToStack(t)},async openOrAddToStack(){this.selected_items.length>0?await this.addSelectedToStack():this.openStack()},openStack(){this.stack&&(this.show_mediastack_modal=!0)},async createOrAppendToStack(t){let e;if(this.is_adding_to_stack=!0,this.stack?.$path)e=this.stack?.$path;else{let t={requested_slug:"stack",stack_spot:this.index,$admins:[this.connected_as.$path]};const i=await this.$api.createFolder({path:this.author_stacks_path,additional_meta:t}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t}));e=this.author_stacks_path+"/"+i}await new Promise((t=>setTimeout(t,250)));let i=[];this.stack&&this.stack.stack_files_metas&&Array.isArray(this.stack.stack_files_metas)&&(i=this.stack.stack_files_metas.slice());for(const s of t){const t=await this.$api.copyFile({path:s,path_to_destination_folder:e,new_meta:{}});await this.$api.deleteItem({path:s}),i.push(t);let a={stack_files_metas:i};1===i.length&&(a.$preview=t),await this.$api.updateMeta({path:e,new_meta:a})}await new Promise((t=>setTimeout(t,300))),this.is_adding_to_stack=!1}}},_t=pt,ft=(i(64235),(0,U.Z)(_t,A,B,!1,null,"428387f8",null)),mt=ft.exports,gt={props:{author_stacks_path:String,selected_items:Array},components:{DocumentSpot:mt},data(){return{is_loading:!0,fetch_stack_err:void 0,all_stacks:[],is_expecting_drag:!1}},i18n:{messages:{fr:{}}},async created(){await this.listStacks(),this.$api.join({room:this.author_stacks_path}),this.is_loading=!1,this.$eventHub.$on("chutierItem.startDrag",this.startDragItem),this.$eventHub.$on("chutierItem.endDrag",this.endDragItem)},mounted(){},beforeDestroy(){this.$api.leave({room:this.author_stacks_path}),this.$eventHub.$off("chutierItem.startDrag",this.startDragItem),this.$eventHub.$off("chutierItem.endDrag",this.endDragItem)},watch:{},computed:{spot_mode(){return this.is_expecting_drag||this.selected_items?.length>0?"add":"open"},sorted_stacks(){return this.all_stacks.slice().sort(((t,e)=>+new Date(t.$date_created)-+new Date(e.$date_created)))}},methods:{startDragItem(){this.is_expecting_drag=!0},endDragItem(){this.is_expecting_drag=!1},async listStacks(){this.all_stacks=await this.$api.getFolders({path:this.author_stacks_path}).catch((t=>{this.fetch_stack_err=t.response,this.is_loading=!1}))}}},vt=gt,bt=(i(63034),(0,U.Z)(vt,L,F,!1,null,"064c99bc",null)),yt=bt.exports,wt=i(59636),kt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_chutierRow",class:{"is--clicked":t.is_clicked,"is--selected":t.is_selected,"is--edited":t.edit_mode,"is--mousedown":t.is_mousedown,"is--dragged":t.is_dragged},attrs:{draggable:t.draggable},on:{dragstart:t.dragStart,dragend:t.dragEnd,click:function(e){!t.edit_mode&&t.$emit("toggleSelect")},mousedown:function(e){t.is_mousedown=!0},mouseup:function(e){t.is_mousedown=!1}}},[i("div",{staticClass:"_chutierRow--rows"},[i("div",{staticClass:"_infos"},[!t.edit_mode&&t.$listeners&&t.$listeners.toggleSelect?i("label",{staticClass:"_selectBox",attrs:{for:t.id},on:{click:function(t){t.stopPropagation()}}},[i("input",{attrs:{type:"checkbox",name:t.id,id:t.id},domProps:{checked:t.is_selected},on:{change:function(e){return t.$emit("toggleSelect")}}})]):t._e(),"text"===t.file.$type&&t.edit_mode?t._e():i("div",{staticClass:"_chutierRow--openLarge",on:{click:function(e){e.stopPropagation(),t.show_large=!0}}},[i("MediaContent",{staticClass:"_chutierRow--preview",attrs:{file:t.file,context:"preview"}})],1),i("div",{staticClass:"_titleDateField"},[i("div",[i("div",{},[i("small",[t.edit_mode?[i("input",{directives:[{name:"model",rawName:"v-model",value:t.date_created_corrected,expression:"date_created_corrected"}],staticClass:"is--dark",attrs:{type:"datetime-local",step:"1"},domProps:{value:t.date_created_corrected},on:{input:function(e){e.target.composing||(t.date_created_corrected=e.target.value)}}})]:[t._v(" "+t._s("stack"===t.context?t.formatDateTimeToPrecise(t.date_created_corrected):t.formatTime(t.date_created_corrected,{hour:"2-digit",minute:"2-digit"}))+" ")]],2)]),t.edit_mode?[i("input",{directives:[{name:"model",rawName:"v-model",value:t.text_title,expression:"text_title"}],staticClass:"is--dark",attrs:{type:"text",autofocus:"",required:"",placeholder:t.$t("caption")},domProps:{value:t.text_title},on:{keydown:[function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault(),"stack"===t.context&&t.$emit("unclicked")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:(e.preventDefault(),t.cancelEdit.apply(null,arguments))}],input:function(e){e.target.composing||(t.text_title=e.target.value)}}})]:i("div",[t._v(" "+t._s(t.text_title)+" ")])],2)]),"stack"===t.context?[i("transition",{attrs:{name:"slideup",mode:"out-in"}},[t.edit_mode?i("EditBtn",{attrs:{label_position:"left",btn_type:"check"},on:{click:t.saveFields}}):i("EditBtn",{attrs:{label_position:"left"},on:{click:function(e){t.edit_mode=!0}}})],1)]:[i("button",{staticClass:"u-button_icon _dragBtn",attrs:{type:"button"}},[i("b-icon",{attrs:{icon:"grid3x2-gap-fill",rotate:"90"}})],1)]],2)]),"stack"!==t.context&&(t.edit_mode||t.keywords.length>0||t.description.length>0)?i("div",{staticClass:"_fields"},[t.edit_mode?i("div",[i("span",{staticClass:"u-instructions"},[t._v(" "+t._s(t.$t("complete_or_correct_title_kw"))+" ")])]):t._e(),"url"===t.file.$type?i("div",{},[i("div",[i("input",{staticClass:"is--dark",attrs:{type:"url",autofocus:"",disabled:""},domProps:{value:t.file.$content}})])]):t._e(),t.keywords&&t.keywords.length>0||t.edit_mode?i("div",{},[i("KeywordsField",{attrs:{keywords:t.keywords,can_edit:t.edit_mode},on:{"update:keywords":function(e){t.keywords=e},cancelEdit:t.cancelEdit}})],1):t._e(),t.description||t.edit_mode?i("div",{},[t.edit_mode?["text"!==t.file.$type?i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"is--dark _descriptionField",attrs:{placeholder:t.$t("description")},domProps:{value:t.description},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:(e.preventDefault(),t.cancelEdit.apply(null,arguments))},input:function(e){e.target.composing||(t.description=e.target.value)}}}):i("CollaborativeEditor2",{staticClass:"_content",attrs:{path:t.file.$path,content:t.file.$content,edit_on_mounted:!0,can_edit:!0,custom_formats:["bold","italic","underline","link"]}})]:i("div",[t._v(" "+t._s(t.description)+" ")])],2):t._e(),t._e()]):t._e(),t.show_large?[i("portal",{attrs:{to:"largemedia"}},[i("div",{staticClass:"_chutierRow--largePreview",attrs:{"data-type":t.file.$type},on:{click:function(e){if(e.target!==e.currentTarget)return null;"text"!==t.file.$type&&(t.show_large=!1)}}},[i("MediaContent",{attrs:{file:t.file,context:"full",resolution:1600}}),i("button",{staticClass:"u-button u-button_round u-button_black _closeBtn",attrs:{type:"button"},on:{click:function(e){t.show_large=!1}}},[i("sl-icon",{attrs:{name:"x-lg",label:t.$t("close")}})],1)],1)])]:t._e(),(t.is_selected,t._e())],2)},xt=[],Ct={props:{file:Object,is_selected:Boolean,is_clicked:Boolean,draggable:Boolean,context:{type:String,default:"list"}},components:{KeywordsField:it},data(){return{opened_pane:void 0,show_large:!1,is_mousedown:!1,edit_mode:!1,is_dragged:!1,id:`select_chutier_item_${(Math.random().toString(36)+"00000000000000000").slice(2,5)}`,text_title:this.file.title||this.cleanFilename(this.file.$media_filename)||"",date_created_corrected:this.datetimeLocal(this.file.date_created_corrected||this.file.$date_created||this.file.$date_uploaded||new Date),description:this.file.description||"",keywords:this.file.keywords||[]}},created(){},mounted(){this.$eventHub.$on("chutier.item.edit",this.setEdit),this.$eventHub.$on("chutierItem.startDrag",this.itemDragged),this.$eventHub.$on("chutierItem.endDrag",this.itemStoppedDrag)},beforeDestroy(){this.$eventHub.$off("chutier.item.edit",this.setEdit),this.$eventHub.$off("chutierItem.startDrag",this.itemDragged),this.$eventHub.$off("chutierItem.endDrag",this.itemStoppedDrag)},watch:{"file.title"(){this.text_title=this.file.title},is_clicked(){!this.is_clicked&&this.edit_mode&&this.saveFields()},edit_mode(){this.edit_mode&&this.$nextTick((()=>{this.$el.querySelector("[autofocus]").select()}))}},computed:{share_button_is_enabled(){return this.text_title.length>0&&this.keywords.length>0}},methods:{setEdit(t){const e=this.getFilename(this.file.$path);t===e&&(this.edit_mode=!0)},async remove(){this.$api.deleteItem({path:this.file.$path})},cleanFilename(){return this.file.$media_filename.substring(0,this.file.$media_filename.lastIndexOf("."))},cancelEdit(){this.text_title=this.file.title||this.cleanFilename(this.file.$media_filename)||"",this.date_created_corrected=this.file.date_created_corrected||this.file.$date_created||this.file.$date_uploaded||"",this.description=this.file.description||"",this.keywords=this.file.keywords||"",this.edit_mode=!1},async shareButtonClicked(){if(this.share_button_is_enabled){if(this.edit_mode)return await this.saveFields(),void await this.moveToSharedSpace();await this.moveToSharedSpace()}else this.edit_mode=!0},openLarge(){this.$emit("")},async saveFields(){this.edit_mode=!1,""===this.date_created_corrected&&(this.date_created_corrected=this.file.date_created_corrected||this.file.$date_created||this.file.$date_uploaded);let t={title:this.text_title,date_created_corrected:this.date_created_corrected,description:this.description,keywords:this.keywords};await this.$api.updateMeta({path:this.file.$path,new_meta:t}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t}))},save(){},cancel(){this.edit_mode=!1},dragStart(t){this.is_dragged=!0,this.is_selected||this.$emit("toggleSelect"),this.$eventHub.$emit("chutierItem.startDrag"),t.dataTransfer.effectAllowed="move";var e=document.createElement("img");const i=this.makeURLFromThumbs({$thumbs:this.file.$thumbs,$type:this.file.$type,$path:this.getParent(this.file.$path),resolution:180});i&&(e.src=i,t.dataTransfer.setDragImage(e,0,0,50,50)),t.dataTransfer.setData("text/plain",JSON.stringify(this.file.$path))},dragEnd(){this.is_dragged=!1,this.$eventHub.$emit("chutierItem.endDrag")},itemDragged(){this.is_selected&&(this.is_dragged=!0)},itemStoppedDrag(){this.is_dragged=!1}}},St=Ct,$t=(i(44860),i(42613),(0,U.Z)(St,kt,xt,!1,null,"39351e2e",null)),Mt=$t.exports,Et={props:{shared_folder_path:String},components:{DocumentsCreator:yt,LinkPicker:wt.Z,ChutierItem:Mt},provide(){return{$sharedFolderPath:()=>this.shared_folder_path}},i18n:{messages:{fr:{imported_docs:"Les médias importés apparaîtront ici. Ils sont et resteront privés tant que vous ne les ajoutez pas à un document partagé."},en:{imported_docs:"Imported medias will appear here. They will stay private until they are added to a shared document."}}},data(){return{chutier:void 0,is_dragover:!1,files_to_import:[],id:`image_select_${(Math.random().toString(36)+"00000000000000000").slice(2,5)}`,last_clicked:void 0,selected_items_slugs:[],show_mediastack_modal:!1,max_items_selected:15,show_link_picker:!1,show_qr_code_modal:!1,show_confirm_remove_menu:!1}},created(){},mounted(){this.listChutier()},beforeDestroy(){},watch:{selected_items_slugs(){this.show_confirm_remove_menu&&(this.show_confirm_remove_menu=!1),this.selected_items_slugs.length>this.max_items_selected&&(this.selected_items_slugs=this.selected_items_slugs.slice(0,this.max_items_selected),this.$alertify.delay(4e3).error(this.$t("notifications.too_many_items_selected")),setTimeout((()=>{this.$alertify.delay(4e3).error(this.$t("notifications.max_items_is")+" "+this.max_items_selected)}),500))},chutier_items(){const t=this.selected_items_slugs.filter((t=>this.chutier_items.some((e=>e.$path===t))));JSON.stringify(this.selected_items_slugs)!==JSON.stringify(t)&&(this.selected_items_slugs=t)}},computed:{author_path(){return this.connected_as.$path},author_stacks_path(){return this.author_path+"/stacks"},url_to_page(){return this.$route.path,window.location.href},selected_items(){return this.selected_items_slugs.map((t=>this.chutier_items.find((e=>e.$path===t))||!1))},all_items_selected(){return this.selected_items.length===this.chutier_items.length},chutier_items(){if(!this.chutier||!this.chutier.$files)return[];let t=JSON.parse(JSON.stringify(this.chutier.$files));return t=t.filter((t=>!0!==t.is_stack&&t.$media_filename)).sort(((t,e)=>{const i=t=>new Date(t.date_created_corrected||t.$date_created||t.$date_uploaded);return+i(e)-+i(t)})),t},chutier_items_grouped(){return this.groupFilesBy(this.chutier_items,["date_created_corrected","$date_created","$date_uploaded"],"day")}},methods:{async listChutier(){this.chutier=await this.$api.getFolder({path:this.author_path}).catch((t=>{this.fetch_project_error=t.response,this.is_loading=!1}))},toggleSelect(t){this.selected_items_slugs.includes(t)?this.selected_items_slugs=this.selected_items_slugs.filter((e=>e!==t)):this.selected_items_slugs.push(t)},updateInputFiles(t){this.files_to_import=Array.from(t.target.files),t.target.value=""},async createNote(){const t=+new Date,e="note-"+t+".txt",i=await this.$api.uploadText({path:this.author_path,filename:e,content:"",additional_meta:{title:"Sans titre"}});setTimeout((()=>{this.$eventHub.$emit("chutier.item.edit",i)}),100)},async createEmbed(t){const e=+new Date,i="url-"+e+".txt",s=await this.$api.uploadText({path:this.author_path,filename:i,content:t,additional_meta:{title:"Titre du lien",$type:"url"}});this.show_link_picker=!1,setTimeout((()=>{this.$eventHub.$emit("chutier.item.edit",s)}),100)},async importedMedias(t){},onDragover(t){t.preventDefault()},onDragEnter(t){t.preventDefault(),this.is_dragover=!0},onDragLeave(t){t.preventDefault(),this.is_dragover=!1},onDrop(t){this.is_dragover=!1,t.dataTransfer.files?.length>0&&(this.files_to_import=Array.from(t.dataTransfer.files))},selectAll(){this.selected_items_slugs=this.chutier_items.map((t=>t.$path))},deselectAll(){this.selected_items_slugs=[]},selectRange(t){this.selected_items_slugs=this.selected_items_slugs.concat(t),this.selected_items_slugs=[...new Set(this.selected_items_slugs)]},deselectRange(t){this.selected_items_slugs=this.selected_items_slugs.filter((e=>!t.includes(e)))},rangeIsSelected(t){return 0!==this.selected_items_slugs.length&&!t.find((t=>!1===this.selected_items_slugs.includes(t)))},async removeItemsInSelection(){for(const t of this.selected_items_slugs)await this.$api.deleteItem({path:t});this.show_confirm_remove_menu=!1}}},Pt=Et,Dt=(i(80780),(0,U.Z)(Pt,D,z,!1,null,"50aa427c",null)),zt=Dt.exports,Lt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_sharedFolder"},[i("transition",{attrs:{name:"slideup",mode:"out-in"}},[t.opened_stack?i("StackDisplay",{key:t.opened_stack.$path,staticClass:"_stackModal",attrs:{stack_path:t.opened_stack.$path,context:"archive",can_be_added_to_fav:t.can_be_added_to_fav,is_favorite:t.isFavorite(t.opened_stack.$path)},on:{toggleFav:function(e){return t.toggleFav(t.opened_stack.$path)},prevMedia:function(e){return t.navMedia(-1)},nextMedia:function(e){return t.navMedia(1)},close:t.closeStack}}):t._e()],1),i("div",{staticClass:"_sharedFolder--content"},[i("transition",{attrs:{name:"fade_fast",mode:"out-in"}},[t.is_loading_folder?i("div",{staticClass:"_loader"},[i("LoaderSpinner")],1):i("div",[i("button",{staticClass:"u-buttonLink",class:{"is--active":t.show_filter_sort_pane},attrs:{type:"button"},on:{click:function(e){t.show_filter_sort_pane=!t.show_filter_sort_pane}}},[t._v(" "+t._s(t.$t("filter_sort"))+" ")]),i("transition",{attrs:{name:"pagechange",mode:"out-in"}},[t.show_filter_sort_pane?i("div",{staticClass:"_filterBar"},[i("FilterBar",{attrs:{group_mode:t.group_mode,sort_order:t.sort_order,search_str:t.search_str,filetype_filter:t.filetype_filter,author_path_filter:t.author_path_filter,available_keywords:t.available_keywords,keywords_filter:t.keywords_filter},on:{"update:group_mode":function(e){t.group_mode=e},"update:sort_order":function(e){t.sort_order=e},"update:search_str":function(e){t.search_str=e},"update:filetype_filter":function(e){t.filetype_filter=e},"update:author_path_filter":function(e){t.author_path_filter=e},"update:keywords_filter":function(e){t.keywords_filter=e},close:function(e){t.show_filter_sort_pane=!1}}})],1):t._e()]),i("div",[i("ToggleInput",{attrs:{content:t.fav_filter,label:t.$t("only_my_fav")},on:{"update:content":function(e){t.fav_filter=e}}})],1),i("hr"),i("transition",{attrs:{name:"pagechange",mode:"out-in"}},[i("transition-group",{key:t.sort_order+"-"+t.group_mode,attrs:{tag:"div",name:"projectsList",appear:""}},[0===t.grouped_stacks.length?i("div",{key:"nocontent",staticClass:"u-instructions _noContent"},[t._v(" "+t._s(t.$t("no_content"))+" ")]):t._l(t.grouped_stacks,(function(e){var s=e.label,a=e.files;return i("div",{key:s,staticClass:"_dayFileSection"},[i("div",{staticClass:"_label"},[t._v(" "+t._s(s)+" ")]),i("transition-group",{staticClass:"_itemGrid",attrs:{tag:"div",name:"listComplete",appear:""}},t._l(a,(function(e){return i("StackPreview",{key:e.$path,attrs:{stack:e,is_selected:e.$path===t.last_selected_stack_path,can_be_added_to_fav:t.can_be_added_to_fav,is_favorite:t.isFavorite(e.$path)},on:{toggleFav:function(i){return t.toggleFav(e.$path)},openStack:t.openStack}})})),1)],1)}))],2)],1)],1)]),i("footer",{staticClass:"_footer"},[i("small",[i("a",{attrs:{href:"mailto:"+t.$root.app_infos.instance_meta.contactmail,target:"_blank"}},[t._v(" "+t._s(t.$t("help_contact"))+" ")]),i("br"),t._v(" "+t._s(t.$t("version"))+" "+t._s(t.$root.app_infos.version)+" "),t.is_instance_admin?i("button",{staticClass:"u-buttonLink _adminBtn",attrs:{type:"button"},on:{click:function(e){t.show_admin_settings=!0}}},[t._v(" "+t._s(t.$t("admin_settings"))+" ")]):t._e(),t.show_admin_settings?i("AdminLumaSettings",{on:{close:function(e){t.show_admin_settings=!1}}}):t._e()],1)])],1)],1)},Ft=[],At=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_filterBar"},[i("button",{staticClass:"u-buttonLink _closeBtn",class:{"is--white":t.can_be_reset},attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[i("b-icon",{attrs:{icon:"x-lg"}})],1),i("transition",{attrs:{name:"slidedown",mode:"out-in"}},[t.can_be_reset?i("button",{staticClass:"u-button u-button_black _resetFilters",attrs:{type:"button"},on:{click:t.resetFilters}},[t._v(" "+t._s(t.$t("reset"))+" ")]):t._e()]),i("div",{staticClass:"_filterBar--content"},[i("div",{},[i("input",{attrs:{type:"text",placeholder:t.$t("search_text")},domProps:{value:t.search_str},on:{input:function(e){return t.$emit("update:search_str",e.target.value)}}}),i("div",{staticClass:"u-instructions"},[t._v(" "+t._s(t.$t("search_fields"))+" ")])]),i("div",{staticClass:"_sortSelect"},[i("DLabel",{attrs:{str:t.$t("sort_by")}}),i("select",{domProps:{value:t.sort_order},on:{change:function(e){return t.$emit("update:sort_order",e.target.value)}}},[i("option",{attrs:{value:"date_modified"},domProps:{textContent:t._s(t.$t("date_modified"))}}),i("option",{attrs:{value:"date_created"},domProps:{textContent:t._s(t.$t("date_created"))}})])],1),i("div",[i("DLabel",{attrs:{str:t.$t("group_by_date")}}),i("div",{staticClass:"_groupBy"},t._l(t.group_options,(function(e){return i("div",{key:e.key},[i("input",{attrs:{type:"radio",id:e.key},domProps:{value:e.key,checked:t.group_mode===e.key},on:{change:function(e){return t.$emit("update:group_mode",e.target.value)}}}),i("label",{class:{"is--selected":e.key===t.group_mode},attrs:{for:e.key},domProps:{textContent:t._s(e.label)}})])})),0)],1),t._e(),i("div",{staticClass:"_myContent"},[i("DLabel",{attrs:{str:t.$t("filter_by_author")}}),i("select",{domProps:{value:t.author_path_filter},on:{change:function(e){return t.$emit("update:author_path_filter",e.target.value)}}},[i("option",{attrs:{value:""},domProps:{textContent:t._s(t.$t("none"))}}),t._l(t.all_authors,(function(e){return i("option",{key:e.$path,domProps:{value:e.$path,textContent:t._s(e.name)}})}))],2)],1),i("div",{staticClass:"_tag"},[i("DLabel",{attrs:{str:t.$t("filter_by_keyword")}}),t.keywords_filter.length>0?i("div",{staticClass:"u-keywords _usedKw"},t._l(t.keywords_filter,(function(e){return i("SingleKeyword",{key:e,attrs:{keyword:e,can_remove:!0},on:{remove:function(i){return t.filterByKeyword(e)}}})})),1):t._e(),i("div",{staticClass:"_searchKW"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.kw_search,expression:"kw_search"}],attrs:{type:"text",placeholder:t.$t("search")},domProps:{value:t.kw_search},on:{input:function(e){e.target.composing||(t.kw_search=e.target.value)}}})]),i("div",{staticClass:"u-keywords"},[t._l(t.collapsable_keywords,(function(e){return i("SingleKeyword",{key:e.title,attrs:{keyword:e.title,count:e.count,can_add:!0},on:{add:function(i){return t.filterByKeyword(e.title)}}})})),t.available_keywords_except_active.length>10?i("button",{staticClass:"u-buttonLink",class:{"is--active":t.show_all_keywords},attrs:{type:"button"},on:{click:function(e){t.show_all_keywords=!t.show_all_keywords}}},[t._v(" "+t._s(t.$t("show_all_keywords"))+" ")]):t._e()],2)],1)])],1)},Bt=[],It={props:{shared_files:Array,group_mode:String,sort_order:String,search_str:String,filetype_filter:String,author_path_filter:String,keywords_filter:Array,available_keywords:Array},components:{SingleKeyword:G},data(){return{all_authors:[],show_all_keywords:!1,kw_search:"",group_options:[{key:"day",label:this.$t("day")},{key:"month",label:this.$t("month")},{key:"year",label:this.$t("year")}],type_of_media_to_display:"all",types_of_medias:[{key:"all",label:this.$t("all_medias_types")},{key:"image",label:this.$t("image")},{key:"video",label:this.$t("video")},{key:"audio",label:this.$t("audio")},{key:"text",label:this.$t("text")},{key:"pdf",label:this.$t("pdf")},{key:"stl",label:this.$t("stl")},{key:"other",label:this.$t("other")}]}},async created(){this.all_authors=await this.$api.getFolders({path:"authors"})},async mounted(){},beforeDestroy(){},watch:{},computed:{available_keywords_except_active(){let t=this.available_keywords.filter((t=>!this.keywords_filter.includes(t.title)&&(!this.kw_search||t.title.includes(this.kw_search))));return t},collapsable_keywords(){return this.show_all_keywords?this.available_keywords_except_active:this.available_keywords_except_active.slice(0,10)},can_be_reset(){return"day"!==this.group_mode||"date_modified"!==this.sort_order||""!==this.search_str||""!==this.author_path_filter||"all"!==this.filetype_filter||this.keywords_filter.length>0}},methods:{resetFilters(){this.$emit("update:group_mode","year"),this.$emit("update:sort_order","date_modified"),this.$emit("update:search_str",""),this.$emit("update:author_path_filter",""),this.$emit("update:filetype_filter","all"),this.$emit("update:keywords_filter",[])},filterByKeyword(t){let e=this.keywords_filter.slice();this.keywords_filter.includes(t)?e=e.filter((e=>e!==t)):e.push(t),this.$emit("update:keywords_filter",e)}}},Tt=It,Ot=(i(65173),(0,U.Z)(Tt,At,Bt,!1,null,"6b224048",null)),jt=Ot.exports,Nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_stackPreview",on:{mouseenter:t.startSlide,mousemove:t.updateMousePos,mouseleave:t.endSlide}},[i("button",{staticClass:"_stackPreview--content",class:{"is--selected":t.is_selected},attrs:{type:"button"},on:{click:t.openStack}},[i("div",{staticClass:"_preview"},[i("div",{key:"preview",staticClass:"_mainPreview",class:{"is--showingSlides":t.slide_file_to_show}},[t.stack.$preview?i("MediaContent",{staticClass:"_mediaPreview",attrs:{file:t.stack.$preview}}):i("b-icon",{attrs:{icon:"eye-slash"}})],1),i("transition",{attrs:{name:"slideview",mode:"in-out"}},[t.slide_file_to_show?i("div",{key:t.slide_file_to_show.$path,staticClass:"_slide"},[i("MediaContent",{staticClass:"_mediaPreview",attrs:{file:t.slide_file_to_show}})],1):t._e()]),i("transition",{attrs:{name:"fade_fast",mode:"out-in"}},[void 0===t.index_of_slide_file_to_show?i("div",{key:"preview",staticClass:"_count"},[t._v(" "+t._s(t.number_of_medias_in_stack)+" ")]):i("div",{key:"slide",staticClass:"_count"},[t._v(" "+t._s(t.index_of_slide_file_to_show+1)+" / "+t._s(t.number_of_medias_in_stack)+" ")])])],1),i("div",{staticClass:"_title"},[t._v(" "+t._s(t.stack.title)+" ")])]),i("transition",{attrs:{name:"fade_fast",mode:"out-in"}},[t.can_be_added_to_fav&&(t.is_favorite||t.start_slide)?i("div",[i("button",{staticClass:"u-button u-button_icon u-button_transparent _addToFav",attrs:{type:"button","data-isfav":t.is_favorite},on:{click:function(e){return e.stopPropagation(),t.$emit("toggleFav")}}},[i("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M7.38174 1.75501C7.59507 1.19234 8.40241 1.19234 8.61641 1.75501L9.99641 5.57767C10.0931 5.83101 10.3391 5.99967 10.6137 5.99967H14.0051C14.6317 5.99967 14.9051 6.77967 14.4124 7.16167L11.9991 9.33301C11.891 9.41611 11.812 9.53132 11.7734 9.66211C11.7348 9.7929 11.7387 9.93255 11.7844 10.061L12.6657 13.7963C12.8804 14.3963 12.1857 14.9117 11.6604 14.5423L8.38241 12.4623C8.27015 12.3834 8.13628 12.3411 7.99907 12.3411C7.86187 12.3411 7.728 12.3834 7.61574 12.4623L4.33774 14.5423C3.81307 14.9117 3.11774 14.3957 3.33241 13.7963L4.21374 10.061C4.25946 9.93255 4.26331 9.7929 4.22475 9.66211C4.18618 9.53132 4.10718 9.41611 3.99907 9.33301L1.58574 7.16167C1.09241 6.77967 1.36707 5.99967 1.99241 5.99967H5.38374C5.51727 6.00012 5.64778 5.96001 5.75802 5.88466C5.86825 5.8093 5.95301 5.70225 6.00107 5.57767L7.38107 1.75501H7.38174Z","stroke-linecap":"round","stroke-linejoin":"round"}})])])]):t._e()])],1)},Rt=[],Wt={props:{stack:Object,is_selected:Boolean,is_favorite:Boolean,can_be_added_to_fav:Boolean},components:{},data(){return{start_slide:!1,stack_files:void 0,index_of_slide_file_to_show:void 0}},i18n:{messages:{fr:{}}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{number_of_medias_in_stack(){return this.stack.stack_files_metas?.length||0},slide_file_to_show(){return!(!this.stack_files||void 0===this.index_of_slide_file_to_show)&&this.stack_files[this.index_of_slide_file_to_show]}},methods:{openStack(){const t=this.getFilename(this.stack.$path);this.$emit("openStack",t)},async startSlide(t){this.start_slide=!0,setTimeout((async()=>{if(this.start_slide){const e=await this.loadFiles();this.stack_files=e,this.updateMousePos(t)}}),400)},updateMousePos(t){if(!this.stack_files)return;const{pageX:e}=t,{x:i,width:s}=this.$el.getBoundingClientRect(),a=(e-i)/s;this.index_of_slide_file_to_show=Math.floor(a*this.number_of_medias_in_stack)},endSlide(){this.start_slide=!1,this.stack_files=void 0,this.index_of_slide_file_to_show=void 0},async loadFiles(){const t=await this.$api.getFolder({path:this.stack.$path});return this.getStackFilesInOrder({stack:t})}}},qt=Wt,Ht=(i(97339),(0,U.Z)(qt,Nt,Rt,!1,null,"e636c1b4",null)),Zt=Ht.exports,Ut=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BaseModal2",{attrs:{title:t.$t("settings")},on:{close:function(e){return t.$emit("close")}}},[i("div",{},[t.is_loading?i("div",{key:"loader",staticClass:"_spinner"},[i("LoaderSpinner")],1):i("div",[i("sl-tab-group",{on:{"sl-tab-show":t.newTabShown}},[i("sl-tab",{attrs:{slot:"nav",panel:"informations"},slot:"nav"},[t._v(" "+t._s(t.$t("informations"))+" ")]),i("sl-tab",{attrs:{slot:"nav",panel:"administration_and_access_control"},slot:"nav"},[t._v(" "+t._s(t.$t("administration_and_access_control"))+" ")]),i("sl-tab",{attrs:{slot:"nav",panel:"suggested_cat_kw"},slot:"nav"},[t._v(" "+t._s(t.$t("suggested_cat_kw"))+" ")]),i("sl-tab-panel",{attrs:{name:"informations"}},[i("div",{staticClass:"u-spacingBottom"},[i("TitleField",{attrs:{field_name:"name_of_instance",label:t.$t("name_of_instance"),instructions:t.$t("name_of_instance_instructions"),content:t.settings.name_of_instance||"",path:t.settings.$path,tag:"h1",required:!0,minlength:3,maxlength:40,can_edit:t.is_instance_admin}})],1),i("div",{staticClass:"u-spacingBottom"},[i("TitleField",{attrs:{field_name:"presentation_of_instance_fr",label:t.$t("presentation_of_instance")+" (en français)",instructions:t.$t("presentation_of_instance_instructions"),content:t.settings.presentation_of_instance_fr,path:t.settings.$path,required:!1,input_type:"markdown",can_edit:t.is_instance_admin}})],1),i("div",{staticClass:"u-spacingBottom"},[i("TitleField",{attrs:{field_name:"presentation_of_instance_en",label:t.$t("presentation_of_instance")+" (en anglais)",instructions:t.$t("presentation_of_instance_instructions"),content:t.settings.presentation_of_instance_en,path:t.settings.$path,required:!1,input_type:"markdown",can_edit:t.is_instance_admin}})],1)]),i("sl-tab-panel",{attrs:{name:"administration_and_access_control"}},["administration_and_access_control"===t.current_tab?i("AdminsAndContributorsField",{attrs:{folder:t.settings,can_edit:!0,admin_label:t.$t("admin"),admin_instructions:t.$t("instance_admin_instructions"),contrib_instructions:t.$t("instance_contrib_instructions")}}):t._e(),i("br"),i("TitleField",{attrs:{field_name:"general_password",label:t.$t("general_password"),instructions:t.$t("general_password_instructions"),content:t.settings.general_password,path:t.settings.$path,input_type:"password",required:!1,can_edit:t.is_instance_admin}}),i("br"),i("TitleField",{attrs:{field_name:"contactmail_of_instance",label:t.$t("contactmail_of_instance"),instructions:t.$t("contactmail_of_instance_instructions"),content:t.settings.contactmail_of_instance,path:t.settings.$path,required:!1,input_type:"email",can_edit:t.is_instance_admin}})],1),i("sl-tab-panel",{attrs:{name:"suggested_cat_kw"}},["suggested_cat_kw"===t.current_tab?i("SuggestedCategories"):t._e()],1)],1)],1)])])},Kt=[],Gt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.opened_category_path?[i("SingleCategory",{attrs:{path:t.opened_category_path},on:{close:function(e){t.opened_category_path=!1}}})]:[i("div",t._l(t.categories,(function(e){return i("div",{key:e.$path,staticClass:"_categoryRow"},[i("div",{staticClass:"_title",style:t.categoryStyles(e)},[t._v(" "+t._s(e.title)+" ")]),i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},domProps:{textContent:t._s(t.$t("open"))},on:{click:function(i){return t.openCategory(e.$path)}}})])})),0),i("button",{staticClass:"u-buttonLink",class:{"is--active":t.show_create_category},attrs:{type:"button"},on:{click:function(e){t.show_create_category=!t.show_create_category}}},[t._v(" "+t._s(t.$t("add_category"))+" ")]),t.show_create_category?i("form",{staticClass:"input-validation-required",on:{submit:function(e){return e.preventDefault(),t.createCategory.apply(null,arguments)}}},[i("fieldset",[i("legend",{staticClass:"u-label"},[t._v(t._s(t.$t("add_category")))]),i("TextInput",{staticClass:"u-spacingBottom",attrs:{content:t.new_category_title,label_str:"category_name",required:!0,input_type:"text"},on:{"update:content":function(e){t.new_category_title=e}}}),t._m(0),i("button",{staticClass:"u-button u-button_bleuvert",attrs:{slot:"footer",disabled:0===t.new_category_title.length,type:"submit"},slot:"footer"},[t._v(" "+t._s(t.$t("create"))+" ")])],1)]):t._e()]],2)},Xt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"u-instructions"},[i("small",[t._v(" Tout en majuscule ")])])}],Vt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[i("sl-icon",{attrs:{name:"arrow-left-short"}}),t._v(" "+t._s(t.$t("back"))+" ")],1),i("div",{staticClass:"u-spacingBottom"}),t.is_loading?i("div",{key:"loader",staticClass:"_spinner"},[i("LoaderSpinner")],1):i("div",[i("div",{staticClass:"_top"},[i("div",{staticClass:"u-spacingBottom"},[i("TitleField",{staticClass:"_title",attrs:{label:t.$t("category_title"),field_name:"title",content:t.category.title,path:t.category.$path,tag:"h3",required:!0,maxlength:20,can_edit:!0}})],1),i("ColorInput",{attrs:{label:t.$t("custom_color"),default_value:"#ffffff",value:t.category.tag_color,can_toggle:!0},on:{save:t.saveNewColor}})],1),i("div",{staticClass:"u-spacingBottom _kwSimulation"},[i("SingleKeyword",{attrs:{keyword:t.category.title+"/couleur",cat_color:t.category.tag_color}})],1),i("div",{staticClass:"u-spacingBottom u-keywords"},t._l(t.new_list_of_suggestions,(function(e){return i("SingleKeyword",{key:e,attrs:{keyword:e,can_remove:!0},on:{remove:function(i){return t.removeSuggestion(e)}}})})),1),i("div",{staticClass:"u-spacingBottom"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.new_suggestion,expression:"new_suggestion"}],attrs:{type:"text",placeholder:"Nouveau mot-clé"},domProps:{value:t.new_suggestion},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.newKeyword.apply(null,arguments))},input:function(e){e.target.composing||(t.new_suggestion=e.target.value)}}}),t.new_keyword_already_exists?i("div",{staticClass:"u-instructions"},[i("small",[t._v("Ce mot-clé existe déjà, vous ne pouvez pas l’ajouter. Si vous souhaitez changer la case, supprimez le de la liste puis ajoutez le à nouveau.")])]):t.new_keyword_contains_slash?i("div",{staticClass:"u-instructions"},[i("small",[t._v('Ce mot-clé contient le caractère "/", qui est interdit.')])]):t.new_suggestion.length>0?i("div",{staticClass:"u-instructions"},[i("small",[t._v("Validez avec la touche entrée.")])]):t._e()]),0===t.new_suggestion.length?i("SaveCancelButtons",{staticClass:"_scb",on:{save:t.saveNewSuggestion,cancel:t.cancel}}):t._e(),i("RemoveMenu",{attrs:{remove_text:t.$t("remove")},on:{remove:t.removeCat}})],1)])},Yt=[],Jt={props:{path:String},components:{SingleKeyword:G},data(){return{category:void 0,is_loading:!0,new_list_of_suggestions:[],new_suggestion:""}},created(){},async mounted(){this.category=await this.$api.getFolder({path:this.path}),this.$api.join({room:this.path}),this.new_list_of_suggestions=this.category.list_of_suggestions||[],this.is_loading=!1},beforeDestroy(){this.$api.leave({room:this.path})},watch:{},computed:{new_keyword_already_exists(){return this.new_list_of_suggestions.some((t=>t.toLowerCase()===this.new_suggestion.toLowerCase()))},new_keyword_contains_slash(){return this.new_suggestion.includes("/")}},methods:{removeSuggestion(t){this.new_list_of_suggestions=this.new_list_of_suggestions.filter((e=>e!==t))},newKeyword(){if(0===this.new_suggestion.length||this.new_keyword_already_exists||this.new_keyword_contains_slash)return!1;this.new_list_of_suggestions.push(this.new_suggestion),this.new_suggestion=""},cancel(){this.new_list_of_suggestions=this.category.list_of_suggestions,this.new_suggestion="",this.$emit("close")},async saveNewSuggestion(){await this.$api.updateMeta({path:this.path,new_meta:{list_of_suggestions:this.new_list_of_suggestions}}),this.$emit("close")},async saveNewColor(t){await this.$api.updateMeta({path:this.path,new_meta:{tag_color:t||""}})},async removeCat(){await this.$api.deleteItem({path:this.path}),this.$emit("close")}}},Qt=Jt,te=(i(79722),(0,U.Z)(Qt,Vt,Yt,!1,null,"42d60a78",null)),ee=te.exports,ie={props:{},components:{SingleCategory:ee},data(){return{categories:void 0,show_create_category:!1,opened_category_path:!1,new_category_title:"",path:"categories"}},created(){},async mounted(){this.categories=await this.$api.getFolders({path:this.path}).catch((t=>{this.fetch_categories_error=t.response})),this.$api.join({room:this.path})},beforeDestroy(){this.$api.leave({room:this.path})},watch:{},computed:{},methods:{async createCategory(){const t=await this.$api.createFolder({path:this.path,additional_meta:{title:this.new_category_title.toUpperCase(),requested_slug:this.new_category_title,$status:"public"}});this.openCategory(this.path+"/"+t)},openCategory(t){this.opened_category_path=t},categoryStyles(t){return t.tag_color?`\n        color: ${t.tag_color}\n      `:""}}},se=ie,ae=(i(36029),(0,U.Z)(se,Gt,Xt,!1,null,"07d97431",null)),ne=ae.exports,oe={props:{},components:{SuggestedCategories:ne},data(){return{settings:void 0,is_loading:!0,current_tab:"administration_and_access_control"}},created(){},async mounted(){this.settings=await this.$api.getFolder({path:""}).catch((t=>(this.is_loading=!1,t))),this.is_loading=!1,this.$api.join({room:this.settings.$path})},beforeDestroy(){this.$api.leave({room:this.settings.$path})},watch:{},computed:{},methods:{newTabShown(t){this.current_tab=t.detail.name}}},re=oe,le=(0,U.Z)(re,Ut,Kt,!1,null,"7780b3b7",null),ce=le.exports,de={props:{shared_folder_path:String},components:{FilterBar:jt,StackPreview:Zt,AdminLumaSettings:ce,StackDisplay:ut},data(){return{all_stacks:[],is_loading_folder:!0,show_admin_settings:!1,last_selected_stack_path:void 0,show_filter_sort_pane:!1,sort_order:"date_modified",search_str:"",filetype_filter:"all",author_path_filter:"",keywords_filter:[],group_mode:"year",fav_filter:!1}},i18n:{messages:{fr:{}}},async created(){},async mounted(){this.all_stacks=await this.$api.getFolders({path:this.stack_shared_folder_path}),this.$api.join({room:this.stack_shared_folder_path}),this.is_loading_folder=!1},beforeDestroy(){this.$api.leave({room:this.stack_shared_folder_path})},watch:{opened_stack(){this.opened_stack&&(this.last_selected_stack_path=this.opened_stack.$path)}},computed:{stack_shared_folder_path(){return this.shared_folder_path+"/stacks"},can_be_added_to_fav(){return this.connected_as&&void 0!==this.connected_as?.$path},sorted_stacks(){return this.all_stacks.slice().sort(((t,e)=>+new Date(e.$date_modified)-+new Date(t.$date_modified)))},filtered_stacks(){return this.sorted_stacks.filter((t=>{if(this.fav_filter&&!this.isFavorite(t.$path))return!1;if(this.author_path_filter&&(!t.$admins||!t.$admins.includes(this.author_path_filter)))return!1;if(this.keywords_filter.length>0){if(!t.keywords||!Array.isArray(t.keywords))return!1;if(this.keywords_filter.some((e=>!t.keywords.includes(e))))return!1}return!this.search_str||!!(t.title&&t.title.toLowerCase().includes(this.search_str.toLowerCase())||t.description&&t.description.toLowerCase().includes(this.search_str.toLowerCase()))}))},grouped_stacks(){let t;return"date_created"===this.sort_order?t=["date_created_corrected","$date_created","$date_uploaded"]:"date_modified"===this.sort_order&&(t=["$date_modified"]),this.groupFilesBy(this.filtered_stacks,t,this.group_mode)},available_keywords(){const t=this.filtered_stacks.reduce(((t,e)=>(e.keywords&&Array.isArray(e.keywords)&&e.keywords.map((e=>{const i=t.find((t=>t.title===e));i?i.count+=1:t.push({title:e,count:1})})),t)),[]);return t.sort(((t,e)=>e.count-t.count))},opened_stack(){return!!this.$route.query?.stack&&this.all_stacks.find((t=>this.getFilename(t.$path)===this.$route.query.stack))}},methods:{openStack(t){let e=Object.assign({},this.$route.query)||{};e.stack=t,this.$router.push({query:e})},isFavorite(t){return!(!this.connected_as?.favorites||0===this.connected_as.favorites.length)&&this.connected_as.favorites.some((e=>e.stack_path===t))},async toggleFav(t){let e=this.connected_as?.favorites?this.connected_as.favorites.slice():[];this.isFavorite(t)?e=e.filter((e=>e.stack_path!==t)):e.push({stack_path:t,added:+new Date}),await this.$api.updateMeta({path:this.connected_as.$path,new_meta:{favorites:e}})},closeStack(){let t=Object.assign({},this.$route.query)||{};delete t.stack,this.$router.push({query:t})}}},he=de,ue=(i(16971),(0,U.Z)(he,Lt,Ft,!1,null,"b51069e4",null)),pe=ue.exports,_e=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_formats"},[i("FormatsList",{attrs:{opened_format_slug:t.opened_format_slug},on:{toggleFormat:t.toggleFormat}}),t.opened_format_slug?i("OpenedFormat",{attrs:{opened_format_slug:t.opened_format_slug},on:{close:t.toggleFormat}}):t._e()],1)},fe=[],me=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_formatsList"},[i("div",{staticClass:"u-instructions"},[t._v(" "+t._s(t.$t("format_instr"))+" ")]),i("div",{},[i("button",{staticClass:"u-button u-button_white",attrs:{type:"button"},on:{click:function(e){t.show_create_format=!0}}},[i("b-icon",{attrs:{icon:"plus-circle"}}),t._v("  "+t._s(t.$t("create_a_format"))+" ")],1),t.show_create_format?i("CreateFolder",{attrs:{modal_name:t.$t("create_a_format"),path:"formats",default_folder_status:"private"},on:{close:function(e){t.show_create_format=!1},openNew:t.openNewFormat}}):t._e()],1),i("div",{staticClass:"_list"},t._l(t.formats,(function(e){return i("div",{key:e.$path},[i("button",{staticClass:"u-button u-button_black",attrs:{type:"button"},on:{click:function(i){t.$emit("toggleFormat",t.getFilename(e.$path))}}},[t._v(" "+t._s(e.title)+" ")])])})),0)])},ge=[],ve={props:{shared_folder:Object},components:{},data(){return{show_create_format:!1,formats:[],path:"formats"}},i18n:{messages:{fr:{formats:"Formats",create_a_format:"Créer un format",format_instr:"Les formats regroupent des médias dans l’espace partagé pour les partager."}}},async created(){this.formats=await this.$api.getFolders({path:this.path}),this.$api.join({room:this.path})},mounted(){},beforeDestroy(){this.$api.leave({room:this.path})},watch:{},computed:{can_edit(){return this.canLoggedinEditFolder({folder:this.stack})}},methods:{openNewFormat(t){this.show_create_format=!1,this.$emit("toggleFormat",t)}}},be=ve,ye=(i(30125),(0,U.Z)(be,me,ge,!1,null,"2332a84f",null)),we=ye.exports,ke=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_openedFormat"},[i("transition",{attrs:{name:"slideup",mode:"out-in"}},[t.is_loading?i("div",{key:"loader",staticClass:"_spinner"},[i("LoaderSpinner")],1):i("div",{key:"opened_format"},[t.format.$path?i("div",{key:t.format.$path},[i("div",{staticClass:"_topbar"},[i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[i("b-icon",{attrs:{icon:"arrow-left"}}),t._v(" "+t._s(t.$t("back"))+" ")],1),i("RemoveMenu",{attrs:{remove_text:t.$t("remove")},on:{remove:t.removeFormat}})],1),i("div",{staticClass:"_cont"},[i("SectionsList",{attrs:{publication:t.format,opened_section_meta_filename:t.opened_section_meta_filename,can_edit:t.can_edit},on:{toggleSection:t.toggleSection}})],1)]):i("div",[t._v(" "+t._s(t.$t("failed_loading_format"))+" ")])])])],1)},xe=[],Ce=i(34780),Se={props:{opened_format_slug:String},components:{SectionsList:Ce.Z},data(){return{is_loading:!0,format:void 0,path:"formats/"+this.opened_format_slug,opened_section_meta_filename:""}},i18n:{messages:{fr:{}}},async created(){this.format=await this.$api.getFolder({path:this.path}).catch((t=>{this.fetch_stopmotion_error=t.response})),this.is_loading=!1,this.$api.join({room:this.path}),this.$eventHub.$on("format.addStack",this.addToStack)},mounted(){},beforeDestroy(){this.$api.leave({room:this.path}),this.$eventHub.$off("format.addStack",this.addToStack)},watch:{},computed:{can_edit(){return this.canLoggedinEditFolder({folder:this.format})}},methods:{addToStack(){},toggleSection(t){this.opened_section_meta_filename=t},async updateOpenedCollection(){},async removeFormat(){await this.$api.deleteItem({path:this.format.$path}),this.$emit("close")}}},$e=Se,Me=(i(75320),(0,U.Z)($e,ke,xe,!1,null,"53d20c93",null)),Ee=Me.exports,Pe={props:{},components:{FormatsList:we,OpenedFormat:Ee},data(){return{}},i18n:{messages:{fr:{}}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{opened_format_slug(){if(this.$route.query?.format)return this.$route.query.format}},methods:{toggleFormat(t){let e=Object.assign({},this.$route.query)||{};t?e.format=t:delete e.format,this.$router.push({query:e})}}},De=Pe,ze=(i(1705),(0,U.Z)(De,_e,fe,!1,null,"08c1fb5d",null)),Le=ze.exports,Fe={props:{},components:{Splitpanes:k,Pane:P,MyChutier:zt,SharedFolder2:pe,FormatsPane:Le},data(){return{path:"folders",folders:void 0,shared_folder_path:void 0,possible_panes:[{key:"chutier",label:"CHUTIER",icon:"layout-sidebar-inset"},{key:"archive",label:"ARCHIVE",icon:"grid3x3-gap"},{key:"format",label:"FORMAT",icon:"layout-sidebar-inset-reverse"}],top_panes_width:{chutier:33,archive:33,format:33},panes_width:{chutier:33,archive:33,format:33},show_chutier:!0}},async created(){const t=this.loadPanesWidthFromStorage();if(t)this.panes_width=t;else if(this.$root.is_mobile_view)this.panes_width.chutier=100,this.panes_width.archive=0,this.panes_width.format=0;else{const t=Math.min(400/this.$root.window.innerWidth*100,50);this.panes_width.chutier=t,this.panes_width.archive=100-t,this.panes_width.format=0}await this.loadFolder()},async mounted(){},beforeDestroy(){},watch:{connected_as(){},show_chutier(){},panes_width:{handler(){Object.entries(this.panes_width).map((([t,e])=>this.top_panes_width[t]=e)),this.savePanesWidthToStorage()},deep:!0}},computed:{min_toppane_width(){return 0}},methods:{async loadFolder(){await this.$api.getFolders({path:"authors"}),this.folders=await this.$api.getFolders({path:this.path}).catch((t=>{this.fetch_spaces_error=t.response})),0===this.folders.length?(await this.createFolder(),window.location.reload()):this.shared_folder_path=this.folders[0].$path},async createFolder(){try{const t=await this.$api.createFolder({path:this.path,additional_meta:{title:"default",$admins:"everyone"}});return t}catch(t){}},resizeTopPane(t){t.map(((t,e)=>{const i=Number(t.size.toFixed(1));0===e&&(this.top_panes_width.chutier=i),1===e&&(this.top_panes_width.archive=i),2===e&&(this.top_panes_width.format=i)}))},resizedPane(t){t.map(((t,e)=>{const i=Number(t.size.toFixed(1));0===e&&(this.panes_width.chutier=i),1===e&&(this.panes_width.archive=i),2===e&&(this.panes_width.format=i)}))},setTopbarWidth(t){const e=this.top_panes_width[t];return`\n        --topPane-width: ${e}%;\n      `},togglePane(t){this.panes_width[t]>0?this.panes_width[t]=0:this.panes_width[t]=25,this.distributePanes()},distributePanes(){const t=Object.values(this.panes_width).filter((t=>t>0)).length;if(0===t)Object.keys(this.panes_width).map((t=>this.panes_width[t]=100/Object.keys(this.panes_width).length));else{const e=100/t;Object.entries(this.panes_width).map((([t,i])=>i>0?this.panes_width[t]=e:""))}},savePanesWidthToStorage(){localStorage.setItem("panes_width",JSON.stringify(this.panes_width))},loadPanesWidthFromStorage(){try{const t=localStorage.getItem("panes_width");if(t)return JSON.parse(t)}catch(t){}return!1}}},Ae=Fe,Be=(i(68295),(0,U.Z)(Ae,s,a,!1,null,"0ac565cb",null)),Ie=Be.exports},75179:function(t,e,i){"use strict";i.r(e);var s=i(8081),a=i.n(s),n=i(23645),o=i.n(n),r=o()(a());r.push([t.id,"._linkPicker[data-v-3b7f81aa]{width:100%;margin:0 auto}._addMediaBtn[data-v-3b7f81aa]{text-align:center;padding:calc(var(--spacing)*1)}._selectBtn[data-v-3b7f81aa]{display:flex;place-items:center;justify-content:center;width:100%;gap:calc(var(--spacing)/1);background:#fff}iframe[data-v-3b7f81aa]{width:100%;aspect-ratio:4/3}",""]),e["default"]=r},77488:function(t,e,i){"use strict";i.r(e);var s=i(8081),a=i.n(s),n=i(23645),o=i.n(n),r=o()(a());r.push([t.id,"._kwSimulation[data-v-42d60a78]{display:flex}",""]),e["default"]=r},13671:function(t,e,i){"use strict";i.r(e);var s=i(8081),a=i.n(s),n=i(23645),o=i.n(n),r=o()(a());r.push([t.id,"._categoryRow[data-v-07d97431]{display:flex;justify-content:space-between;align-content:center;padding:calc(var(--spacing)/8) 0}._title[data-v-07d97431]{background:var(--c-noir);padding:calc(var(--spacing)/4) calc(var(--spacing)/2);border-radius:4px}",""]),e["default"]=r},93178:function(t,e,i){"use strict";i.r(e);var s=i(8081),a=i.n(s),n=i(23645),o=i.n(n),r=o()(a());r.push([t.id,"._keywordsFieldEditor[data-v-e58c331c]{margin-top:calc(var(--spacing)/4)}._suggestions[data-v-e58c331c]{padding-top:calc(var(--spacing)/2);border-top:2px solid var(--c-noir)}._suggestions ._keyword[data-v-e58c331c]{cursor:pointer}._catSug[data-v-e58c331c]{border-left:2px solid #000;padding:calc(var(--spacing)/2);background:var(--c-noir)}._categories[data-v-e58c331c]{display:flex;flex-flow:row wrap;padding:0;gap:calc(var(--spacing)/2)}._category[data-v-e58c331c]{background-color:hsla(0,0%,100%,.2);padding:calc(var(--spacing)/4) calc(var(--spacing)/2);border-radius:4px;color:#fff;font-weight:600}._category[data-category=techniques][data-v-e58c331c]{color:var(--color-vert)}._category[data-category=gisement][data-v-e58c331c]{color:var(--color-rouge)}._category[data-category=lieu][data-v-e58c331c]{color:var(--color-bleu)}._category[data-category=domaine][data-v-e58c331c]{color:var(--color-jaune)}._category.is--active[data-v-e58c331c]{background:#000}",""]),e["default"]=r},31700:function(t,e,i){"use strict";i.r(e);var s=i(8081),a=i.n(s),n=i(23645),o=i.n(n),r=o()(a());r.push([t.id,"._myChutier[data-v-50aa427c]{overflow:hidden;color:#fff;display:flex;flex-flow:row nowrap}._itemsList[data-v-50aa427c],._myChutier[data-v-50aa427c]{position:relative;top:0;height:100%}._itemsList[data-v-50aa427c]{flex:1 1 auto;overflow:auto;padding-bottom:80px}._itemsList[data-v-50aa427c]::-webkit-scrollbar{height:12px;width:12px;background-color:transparent}._itemsList[data-v-50aa427c]::-webkit-scrollbar-thumb,._itemsList[data-v-50aa427c]::-webkit-scrollbar-track{border:5px solid hsla(0,0%,100%,0);border-radius:20px;background-clip:padding-box;-webkit-transition:all .4s;transition:all .4s}._itemsList[data-v-50aa427c]::-webkit-scrollbar-track{background-color:transparent}._itemsList[data-v-50aa427c]::-webkit-scrollbar-thumb{background-color:#fff}._itemsList[data-v-50aa427c]::-webkit-scrollbar-thumb:hover{background-color:var(--c-gris);border:5px solid hsla(0,0%,100%,0)}._documentsCreator[data-v-50aa427c]{flex:0 0 auto}._adminBtn[data-v-50aa427c]{margin-bottom:calc(var(--spacing)/-4);pointer-events:auto}._topContent[data-v-50aa427c]{flex-flow:row wrap;top:0;padding:calc(var(--spacing)/2)}._subscribeBtn[data-v-50aa427c],._topContent[data-v-50aa427c]{display:flex;gap:calc(var(--spacing)/2);align-items:center}._subscribeBtn[data-v-50aa427c]{justify-content:flex-start;padding:0 calc(var(--spacing)/2)}._qrBtn sl-icon[data-v-50aa427c]{font-size:130%}._middleContent[data-v-50aa427c]{padding:0 calc(var(--spacing)/1)}._items[data-v-50aa427c]{flex:1 1 auto;padding:calc(var(--spacing)*2) calc(var(--spacing)/1)}._item[data-v-50aa427c]{margin-bottom:calc(var(--spacing)*2)}._item--label[data-v-50aa427c]{display:inline-block;cursor:pointer;font-weight:500;margin-bottom:4px;opacity:.6;transition:all .25s ease-out}._item--label[data-v-50aa427c]:hover{opacity:.9}._item--label.is--fullySelected[data-v-50aa427c]{opacity:1}._removeMenu[data-v-50aa427c],._selectionBar[data-v-50aa427c]{position:absolute;z-index:10;bottom:0;left:0;width:100%;display:flex;flex-flow:column nowrap;justify-content:center;align-items:center;gap:calc(var(--spacing)/2);background:var(--c-noir);padding:calc(var(--spacing)/2)}._removeMenu[data-v-50aa427c]{position:absolute;padding-top:calc(var(--spacing)*2);min-height:130px}._selectionBar--previews[data-v-50aa427c]{width:100%;display:flex;flex-flow:row nowrap;justify-content:center;padding:calc(var(--spacing)/2);gap:calc(var(--spacing)/4)}._selectionBar--previews[data-v-50aa427c]  ._mediaContent--image{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center}._selectionBar--previews--preview[data-v-50aa427c]{flex:0 1 20px;aspect-ratio:1/1;overflow:hidden}._dbleBtns[data-v-50aa427c]{gap:calc(var(--spacing)/10);display:flex;flex-flow:row wrap;align-content:stretch;align-items:stretch;width:100%}._dbleBtns>*[data-v-50aa427c]{flex:1 1 120px;gap:calc(var(--spacing)/4);display:flex;flex-flow:column nowrap}._uploadFilesList[data-v-50aa427c]{position:absolute;bottom:0;left:0;right:0;background:var(--chutier-bg);z-index:1}._uploadFilesList[data-v-50aa427c]  ._uploadFile{background:#000!important}._importButton[data-v-50aa427c]{width:100%;padding-bottom:0}._importButton ._importButton--cnt[data-v-50aa427c]{display:flex;flex-flow:row wrap;justify-content:center;align-items:center;gap:calc(var(--spacing)/3) calc(var(--spacing)/2);width:100%;max-width:none;border:2px dotted var(--c-rouge);border-radius:10px;box-shadow:0 1px 10px rgba(0,0,0,.2);padding:calc(var(--spacing)/2);transition:all .15 cubic-bezier(.19,1,.22,1)}._importButton ._importButton--cnt.is--dragover[data-v-50aa427c]{border:2px dashed #fff}._importButton ._importButton--cnt.is--dragover>*[data-v-50aa427c]{pointer-events:none}._importButton ._importButton--cnt.is--dragover[data-v-50aa427c]>:not(._importButton--btn){opacity:0}._importButton ._importButton--cnt.is--dragover[data-v-50aa427c]{background-color:var(--c-rouge)}._importButton ._importButton--cnt .u-button[data-v-50aa427c]{padding:calc(var(--spacing)/1.5);border-radius:5px}._importButton .u-button[data-v-50aa427c]{flex:1 1 0;align-items:center}._importButton .u-button._importButton--btn[data-v-50aa427c]{flex-basis:100%}._importButton .u-button svg[data-v-50aa427c]{width:1rem;height:1rem}._importButton .u-instructions[data-v-50aa427c]{color:#fff}",""]),e["default"]=r},29013:function(t,e,i){"use strict";i.r(e);var s=i(8081),a=i.n(s),n=i(23645),o=i.n(n),r=o()(a());r.push([t.id,"._singleKeyword[data-v-56f0f92a]{position:relative;background-color:#333;padding:calc(var(--spacing)/4) calc(var(--spacing)/2);border-radius:4px;color:#fff;line-height:1.2;display:flex;flex-flow:row nowrap;align-items:center;gap:calc(var(--spacing)/1)}._singleKeyword sl-icon-button[data-v-56f0f92a]::part(base){color:currentColor;padding:0}._singleKeyword.is--clickable[data-v-56f0f92a]:hover{background-color:#292929}._category[data-v-56f0f92a]{font-size:80%;color:var(--cat-color)}._name[data-v-56f0f92a]{font-size:110%}._addBtn[data-v-56f0f92a]{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;background:transparent}._count[data-v-56f0f92a]{border:1px solid #fff;border-radius:10px;min-width:14px;height:14px;font-size:8px;display:flex;justify-content:center;align-items:center;font-weight:600}",""]),e["default"]=r},74238:function(t,e,i){"use strict";i.r(e);var s=i(8081),a=i.n(s),n=i(23645),o=i.n(n),r=o()(a());r.push([t.id,'._stackDisplay[data-v-b6d67a12]{position:absolute;inset:0;z-index:100;background:var(--sd-bg);color:var(--sd-textcolor);display:flex;flex-flow:column nowrap}._stackDisplay ._closeStack[data-v-b6d67a12]{flex:0 0 auto}._stackDisplay ._panes[data-v-b6d67a12]{flex:1 1 auto}._panes[data-v-b6d67a12]{position:relative;overflow:hidden}._infos[data-v-b6d67a12],[data-context=archive] ._panes>._infos[data-v-b6d67a12]{max-width:360px}._infos[data-v-b6d67a12]{position:absolute;display:flex;flex-flow:column nowrap;overflow:auto;z-index:10;height:100%;width:100%;border-right:1px solid var(--sd-separator)}._infos[data-v-b6d67a12]::-webkit-scrollbar{height:11px;width:11px;background-color:transparent}._infos[data-v-b6d67a12]::-webkit-scrollbar-thumb,._infos[data-v-b6d67a12]::-webkit-scrollbar-track{border:4px solid hsla(0,0%,100%,0);border-radius:16px;background-clip:padding-box;-webkit-transition:all .4s;transition:all .4s}._infos[data-v-b6d67a12]::-webkit-scrollbar-track{background-color:transparent}._infos[data-v-b6d67a12]::-webkit-scrollbar-thumb{background-color:var(--c-noir)}._infos[data-v-b6d67a12]::-webkit-scrollbar-thumb:hover{background-color:var(--c-gris);border:4px solid hsla(0,0%,100%,0)}._infos>._allFields[data-v-b6d67a12]{flex:1 1 0;padding:calc(var(--spacing)*2);background:var(--sd-bg)}._infos>._bottomBtns[data-v-b6d67a12]{flex:0 0 auto}._overlay[data-v-b6d67a12]{position:absolute;top:0;left:0;right:0;bottom:0;z-index:9;cursor:pointer;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}._overlay[data-v-b6d67a12]:before{content:"";position:absolute;inset:0;opacity:.8;background-color:var(--sd-bg)}._topCarousel[data-v-b6d67a12]{position:relative;z-index:1;top:0;height:100%;width:100%;background:#fff;background:var(--sd-bg);transition:all .2s cubic-bezier(.19,1,.22,1)}._topCarousel[data-dualdisplay][data-v-b6d67a12]{padding-left:360px}._allFields[data-v-b6d67a12]{position:relative}hr[data-v-b6d67a12]{border-color:var(--sd-separator)}._dateFields[data-v-b6d67a12]{display:flex;flex-flow:row nowrap;gap:calc(var(--spacing)*1)}._dateFields>*[data-v-b6d67a12]{flex:1 1 50px}._closeStack[data-v-b6d67a12]{position:relative;border-bottom:1px solid var(--sd-separator);z-index:2;text-align:right}._closeStack>button[data-v-b6d67a12]{width:100%;justify-content:flex-end;border-radius:0}._closeStack>button[data-v-b6d67a12]:focus,._closeStack>button[data-v-b6d67a12]:hover{background:var(--sd-separator)}._fileStack[data-v-b6d67a12]{border:2px solid var(--sd-separator);padding:calc(var(--spacing)/2);margin:calc(var(--spacing)*2) 0}._bottomBtns[data-v-b6d67a12]{position:sticky;bottom:0;text-align:center;background:var(--c-noir);padding:calc(var(--spacing)*2)}._bottomBtns ._btn[data-v-b6d67a12]{width:100%;border-radius:4px;max-width:360px}._titleRow[data-v-b6d67a12]{display:flex;flex-flow:row nowrap;justify-content:space-between;align-items:flex-start}._showSidebar[data-v-b6d67a12]{left:0}._hideSidebar[data-v-b6d67a12],._showSidebar[data-v-b6d67a12]{position:absolute;top:0;margin:calc(var(--spacing)/4);z-index:8}._hideSidebar[data-v-b6d67a12]{right:0}._addToColl[data-v-b6d67a12]{padding:calc(var(--spacing)/2)}',""]),e["default"]=r},7552:function(t,e,i){"use strict";i.r(e);var s=i(8081),a=i.n(s),n=i(23645),o=i.n(n),r=o()(a());r.push([t.id,"._filterBar[data-v-6b224048]{position:relative;z-index:1}._filterBar input[data-v-6b224048]:not(.is--dark),._filterBar select[data-v-6b224048]:not(.is--dark){background-color:#fff}._filterBar--content[data-v-6b224048]{display:flex;flex-flow:column nowrap;gap:calc(var(--spacing)*1);padding:calc(var(--spacing)*1) calc(var(--spacing)*1)}._groupBy[data-v-6b224048]{display:flex;flex-flow:row nowrap;justify-content:flex-start;gap:calc(var(--spacing)/1)}._groupBy input[data-v-6b224048]{visibility:hidden;width:1px;height:1px;display:none}._groupBy label[data-v-6b224048]{cursor:pointer}._groupBy label.is--selected[data-v-6b224048]{font-weight:600}._sortSelect[data-v-6b224048]{width:100%}._usedKw[data-v-6b224048]{padding-bottom:calc(var(--spacing)/2);border-bottom:2px solid #fff}._searchKW[data-v-6b224048],._usedKw[data-v-6b224048]{margin-bottom:calc(var(--spacing)/2)}._resetFilters[data-v-6b224048]{position:sticky;z-index:11;top:0;left:0;width:100%;padding:calc(var(--spacing)/2);border-radius:0}._closeBtn[data-v-6b224048]{position:absolute;right:0;margin:calc(var(--spacing)/2);z-index:100}._closeBtn.is--white[data-v-6b224048]{color:#fff}",""]),e["default"]=r},77827:function(t,e,i){"use strict";i.r(e);var s=i(8081),a=i.n(s),n=i(23645),o=i.n(n),r=o()(a());r.push([t.id,"._sharedFolder[data-v-b51069e4],._sharedFolder--content[data-v-b51069e4]{position:relative;height:100%}._sharedFolder--content[data-v-b51069e4]{overflow:auto;padding:2px;padding:0 calc(var(--spacing)/1)}._sharedFolder--content[data-v-b51069e4]::-webkit-scrollbar{height:11px;width:11px;background-color:transparent}._sharedFolder--content[data-v-b51069e4]::-webkit-scrollbar-thumb,._sharedFolder--content[data-v-b51069e4]::-webkit-scrollbar-track{border:4px solid hsla(0,0%,100%,0);border-radius:16px;background-clip:padding-box;-webkit-transition:all .4s;transition:all .4s}._sharedFolder--content[data-v-b51069e4]::-webkit-scrollbar-track{background-color:transparent}._sharedFolder--content[data-v-b51069e4]::-webkit-scrollbar-thumb{background-color:var(--c-noir)}._sharedFolder--content[data-v-b51069e4]::-webkit-scrollbar-thumb:hover{background-color:var(--c-gris);border:4px solid hsla(0,0%,100%,0)}._itemGrid[data-v-b51069e4]{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:calc(var(--spacing)/1)}._label[data-v-b51069e4]{font-weight:500;font-size:var(--sl-font-size-large)}._stackModal[data-v-b51069e4]{--sd-separator:#d1d1d1;--sd-textcolor:#333;--sd-bg:#f5f5f5}._footer[data-v-b51069e4]{text-align:center;margin:calc(var(--spacing)*2) auto}._loader[data-v-b51069e4]{position:relative;min-height:80vh}",""]),e["default"]=r},32280:function(t,e,i){"use strict";i.r(e);var s=i(8081),a=i.n(s),n=i(23645),o=i.n(n),r=o()(a());r.push([t.id,"._stackCarousel[data-v-1d780f1e]{display:flex;flex-flow:column nowrap}._stackCarousel>._single[data-v-1d780f1e]{flex:1 1 150px;height:100px}._stackCarousel>._infos[data-v-1d780f1e],._stackCarousel>._list[data-v-1d780f1e]{flex:0 0 auto}._single[data-v-1d780f1e]{position:relative}._single ._mediaContent[data-v-1d780f1e]{height:100%}._unfoldBtn[data-v-1d780f1e]{width:100%;border-top:1px solid var(--sd-separator);z-index:2;text-align:right}._unfoldBtn>button[data-v-1d780f1e]{width:100%;justify-content:flex-end;border-radius:0}._unfoldBtn>button[data-v-1d780f1e]:focus,._unfoldBtn>button[data-v-1d780f1e]:hover{background:var(--sd-separator)}._infos[data-v-1d780f1e]{position:relative;border-top:1px solid var(--sd-separator);border-bottom:1px solid var(--sd-separator);max-height:50vh;overflow:auto;padding:calc(var(--spacing)/1) calc(var(--spacing)/1);transition:all .02s cubic-bezier(.19,1,.22,1)}._infos[data-hide][data-v-1d780f1e]{max-height:0;padding:0 calc(var(--spacing)/1)}._list[data-v-1d780f1e]{display:flex;gap:2px;overflow:auto;margin:2px}._preview[data-v-1d780f1e]{position:relative;--thumb-size:15vh;width:var(--thumb-size);height:var(--thumb-size);flex:0 0 var(--thumb-size);background-color:rgba(0,0,0,.2);overflow:hidden;border-radius:4px;cursor:pointer;transition:all .25s cubic-bezier(.19,1,.22,1)}._preview[data-v-1d780f1e]:focus-visible,._preview[data-v-1d780f1e]:hover{background:transparent}._preview ._mediaContent[data-v-1d780f1e]{height:100%}._preview ._mediaContent[data-v-1d780f1e]  ._mediaContent--image{position:absolute;width:100%;height:100%;-o-object-fit:contain;object-fit:contain;max-width:none}._dragFileIcon[data-v-1d780f1e]{position:absolute;top:0;right:0}._btnRow[data-v-1d780f1e]{position:absolute;inset:0;background-color:hsla(0,0%,100%,.8);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);display:flex;flex-flow:column nowrap;justify-content:center;align-content:center;align-items:center}._changeOrderSelect[data-v-1d780f1e]{position:absolute;top:0;left:0;margin:calc(var(--spacing)/4);padding:calc(var(--spacing)/8) calc(var(--spacing)/4);width:5ch}",""]),e["default"]=r},24241:function(t,e,i){"use strict";i.r(e);var s=i(8081),a=i.n(s),n=i(23645),o=i.n(n),r=o()(a());r.push([t.id,"._stackPreview[data-v-e636c1b4]{position:relative;display:flex;flex-flow:column nowrap;justify-content:flex-end;align-items:stretch;padding:0;min-height:8rem}._stackPreview--content[data-v-e636c1b4]{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;text-align:left;font-size:var(--sl-font-size-x-small);position:relative;background:transparent;border:2px solid var(--c-bodybg);cursor:pointer;border-radius:2px;overflow:hidden;padding:2px;transform-origin:center calc(100% - 2em);transition:all .45s cubic-bezier(.19,1,.22,1)}._stackPreview--content>*[data-v-e636c1b4]{pointer-events:none}._stackPreview--content.is--selected[data-v-e636c1b4]{border-color:var(--c-rouge)}._preview[data-v-e636c1b4]{position:relative;width:100%;min-height:3rem;aspect-ratio:135/150;overflow:hidden;cursor:pointer;display:flex;flex-flow:column nowrap;justify-content:center;align-items:center}._preview ._mediaPreview[data-v-e636c1b4]{position:relative;height:100%;width:100%}._preview ._mediaPreview[data-v-e636c1b4]  ._mediaContent--image{height:100%;width:100%;max-height:10rem;-o-object-fit:contain;object-fit:contain;-o-object-position:center;object-position:center}._slide[data-v-e636c1b4]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-content:center;align-items:center}._title[data-v-e636c1b4]{height:1.5em;padding:0 calc(var(--spacing)/4);text-overflow:ellipsis;white-space:nowrap;overflow:hidden;width:100%}._count[data-v-e636c1b4]{position:absolute;top:0;left:0;margin:calc(var(--spacing)/4);padding:calc(var(--spacing)/8) calc(var(--spacing)/4);font-weight:400;background:#fff;color:#000;line-height:1}._mainPreview[data-v-e636c1b4]{width:100%;height:100%;opacity:1}._mainPreview.is--showingSlides[data-v-e636c1b4]{opacity:0}._addToFav[data-v-e636c1b4]{position:absolute;top:0;right:0;margin:0;color:transparent;stroke:var(--c-noir)}._addToFav[data-isfav][data-v-e636c1b4]{color:var(--c-noir)}._addToFav svg[data-v-e636c1b4]{width:1rem;height:1rem}.slideview[data-v-e636c1b4]{transition:all .02s cubic-bezier(.19,1,.22,1)}.slideview-enter-active[data-v-e636c1b4],.slideview-leave-active[data-v-e636c1b4]{transform:translateY(0);opacity:1}.slideview-enter[data-v-e636c1b4],.slideview-leave-to[data-v-e636c1b4]{transform:translateY(5px);opacity:0}",""]),e["default"]=r},27824:function(t,e,i){"use strict";i.r(e);var s=i(8081),a=i.n(s),n=i(23645),o=i.n(n),r=o()(a());r.push([t.id,"._catBtn[data-v-39351e2e]{background:#ffbe32;border-radius:5px;margin:2px;padding:2px}._fields[data-v-39351e2e]{display:flex;flex-flow:column nowrap;gap:calc(var(--spacing)/1);justify-content:center;padding:calc(var(--spacing)/2)}._selectBox[data-v-39351e2e]{width:20px;display:flex;place-content:center;cursor:pointer;color:var(--c-gris);display:none}._selectBox input[data-v-39351e2e]{cursor:inherit;--form-background:transparent!important;--form-control-color:var(--c-jaune);border-color:#555}._selectBox:hover input[data-v-39351e2e]{border:2px solid var(--c-orange)}._infos[data-v-39351e2e]{flex:1 1 auto;display:flex;flex-flow:row nowrap;justify-content:stretch;align-items:center;gap:calc(var(--spacing)/2);padding:0 calc(var(--spacing)/4);width:100%}._infos ._titleDateField[data-v-39351e2e]{flex:1 1 0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}._chutierRow[data-v-39351e2e]{position:relative;width:100%;padding:calc(var(--spacing)/4) 0;margin-bottom:-1px;overflow:hidden;border:1px dashed transparent;color:#cecdd0;transition:all .25s cubic-bezier(.19,1,.22,1)}@media(hover:hover)and (pointer:fine){._chutierRow[data-v-39351e2e]:not(.is--selected):not(.is--edited):hover{background:hsla(0,0%,100%,.05)}}._chutierRow.is--dragged[data-v-39351e2e]{transform:scale(.93) rotate(1deg);opacity:.6}._chutierRow.is--edited[data-v-39351e2e],._chutierRow.is--selected[data-v-39351e2e]{color:#f2f2f3;border-color:#9a999f;background:#838188}._chutierRow.is--edited[data-v-39351e2e]:hover,._chutierRow.is--selected[data-v-39351e2e]:hover{background:#8b8990}._chutierRow ._chutierRow--openLarge[data-v-39351e2e]{display:block;cursor:pointer}._chutierRow ._chutierRow--openLarge[data-v-39351e2e]:hover{opacity:.8}._chutierRow ._chutierRow--rows[data-v-39351e2e]{display:flex;flex-flow:row nowrap;justify-content:space-between;align-items:center}._chutierRow[data-v-39351e2e]:not(.is--edited){cursor:pointer}._chutierRow ._chutierRow--preview[data-v-39351e2e]{position:relative;height:60px;border-radius:2px;width:60px;flex:0 0 auto;overflow:hidden;color:#fff;background:#000;font-size:70%}._chutierRow ._chutierRow--preview[data-v-39351e2e]  ._mediaContent--image{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center}._chutierRow ._chutierRow--preview[data-v-39351e2e]  .ql-container{font-size:50%}._descriptionField[data-v-39351e2e]{resize:vertical}._publierBtn[data-v-39351e2e]{text-align:center;margin:calc(var(--spacing)/4) auto}._content[data-v-39351e2e]  .ql-editor{background-color:#363636;border-color:#fff;color:#fff;padding:calc(var(--spacing)*.5)}._content[data-v-39351e2e]  ._editBtn{display:none}._content[data-v-39351e2e]  .ql-toolbar.ql-toolbar{top:50px;border-radius:8px;display:flex;flex-flow:row wrap;justify-content:space-between}._content[data-v-39351e2e]  .ql-toolbar.ql-toolbar ._TEbtnContainer{width:auto;flex:1 0 auto;display:flex;justify-content:flex-end}._dragBtn[data-v-39351e2e]{color:currentColor}.anim_backgroundPosition[data-v-39351e2e]{width:100%;height:100%;position:absolute;top:0;left:0}",""]),e["default"]=r},33334:function(t,e,i){"use strict";i.r(e);var s=i(8081),a=i.n(s),n=i(23645),o=i.n(n),r=o()(a());r.push([t.id,"._chutierRow--largePreview{position:absolute;top:0;left:0;width:100%;height:100%;z-index:2000;overflow:auto;background-color:var(--c-gris);padding:calc(var(--spacing)/2);color:#fff}._chutierRow--largePreview[data-type=text]{padding:calc(var(--spacing))}._chutierRow--largePreview ._mediaContent{pointer-events:none;position:relative;width:100%;height:100%;display:flex;justify-content:center;align-items:center}._chutierRow--largePreview ._mediaContent .u-floatingFsButton{display:none}._chutierRow--largePreview ._mediaContent ._mediaContent--pdfIframe,._chutierRow--largePreview ._mediaContent .plyr__control{pointer-events:auto}._chutierRow--largePreview ._mediaContent ._mediaContent--image{width:100%;height:100%;-o-object-fit:contain;object-fit:contain;-o-object-position:center;object-position:center}._chutierRow--largePreview ._mediaContent .plyr__video-wrapper{pointer-events:none}._chutierRow--largePreview ._closeBtn{position:absolute;top:0;right:0;margin:calc(var(--spacing)/2)}",""]),e["default"]=r},2598:function(t,e,i){"use strict";i.r(e);var s=i(8081),a=i.n(s),n=i(23645),o=i.n(n),r=o()(a());r.push([t.id,"._documentSpot[data-v-428387f8]{position:relative;flex:0 0 auto;width:60px;margin:calc(var(--spacing)/2) calc(var(--spacing)/1);cursor:default}._documentSpot>*[data-v-428387f8]{pointer-events:none}._documentSpot:not(.has--content) ._topContent[data-v-428387f8]{border:1px dashed currentColor}._documentSpot.has--content[data-v-428387f8]{cursor:pointer}._documentSpot.has--content:focus-visible ._topContent[data-v-428387f8],._documentSpot.has--content:hover ._topContent[data-v-428387f8]{border-color:transparent;opacity:.8}._documentSpot.is--expectingClick[data-v-428387f8]{cursor:pointer}._documentSpot.is--draggedOn ._topContent[data-v-428387f8]{cursor:pointer;transform:scale(1.2);background:#000}._documentSpot.is--expectingDrag[data-v-428387f8]{cursor:pointer;color:#fff}._topContent[data-v-428387f8]{position:relative;border-radius:8px;overflow:hidden;color:#666;background:#000;display:flex;justify-content:center;align-items:center;font-size:var(--sl-font-size-x-large);font-weight:bolder;width:60px;height:60px;transition:all .2s cubic-bezier(.19,1,.22,1)}._stackTitle[data-v-428387f8]{font-size:var(--sl-font-size-x-small)}._mediaPreview[data-v-428387f8]{width:100%;height:100%}._mediaPreview._noPreview[data-v-428387f8]{font-size:30%;padding:calc(var(--spacing)/4)}._mediaPreview[data-v-428387f8]  ._mediaContent--image{position:absolute;width:100%;height:100%;-o-object-fit:cover;object-fit:cover;max-width:none}._count[data-v-428387f8]{position:absolute;z-index:10;color:#fff;text-shadow:#000 1px 0 10px;display:flex;justify-content:center;align-items:center;font-size:var(--sl-font-size-x-large)}.anim_backgroundPosition[data-v-428387f8]{color:rgba(0,0,0,.3);z-index:9;top:0;left:0}._addTo[data-v-428387f8],.anim_backgroundPosition[data-v-428387f8]{position:absolute;width:100%;height:100%}._addTo[data-v-428387f8]{color:#fff;display:flex;justify-content:center;align-items:center}._loader[data-v-428387f8]{background:#424146;color:var(--c-rouge);z-index:2}._stackModal[data-v-428387f8]{--sd-separator:#424146;--sd-textcolor:#fff;--sd-bg:#77757c;--active-color:#fff}",""]),e["default"]=r},28226:function(t,e,i){"use strict";i.r(e);var s=i(8081),a=i.n(s),n=i(23645),o=i.n(n),r=o()(a());r.push([t.id,"._documentsCreator[data-v-064c99bc]{color:#fff;width:auto;display:flex;flex-flow:column nowrap;justify-content:flex-start;height:100%;overflow:auto;border-left:1px solid #424146;padding:calc(var(--spacing)/2) 0}._documentsCreator[data-v-064c99bc] >:only-child{height:50%}._documentsCreator[data-v-064c99bc] >:only-child ._documentSpot{height:100%}",""]),e["default"]=r},3516:function(t,e,i){"use strict";i.r(e);var s=i(8081),a=i.n(s),n=i(23645),o=i.n(n),r=o()(a());r.push([t.id,"._formatsList>*[data-v-2332a84f]{margin-bottom:calc(var(--spacing)/2)}._list[data-v-2332a84f]{display:flex;flex-flow:row nowrap;gap:calc(var(--spacing)/2);overflow:auto}",""]),e["default"]=r},61708:function(t,e,i){"use strict";i.r(e);var s=i(8081),a=i.n(s),n=i(23645),o=i.n(n),r=o()(a());r.push([t.id,"._formats[data-v-08c1fb5d]{margin:calc(var(--spacing)/2)}",""]),e["default"]=r},44441:function(t,e,i){"use strict";i.r(e);var s=i(8081),a=i.n(s),n=i(23645),o=i.n(n),r=o()(a());r.push([t.id,"._openedFormat[data-v-53d20c93]{position:absolute;top:0;left:0;background:#fff;height:100%;width:100%;overflow:auto;padding:calc(var(--spacing)/1)}._spinner[data-v-53d20c93]{padding:calc(var(--spacing)*2)}._topbar[data-v-53d20c93]{display:flex;flex-flow:row wrap;justify-content:space-between}._cont[data-v-53d20c93]{margin:calc(var(--spacing)/2) 0}._items--item[data-v-53d20c93]{width:100%;min-height:2rem;margin-bottom:calc(var(--spacing)/2)}",""]),e["default"]=r},59038:function(t,e,i){"use strict";i.r(e);var s=i(8081),a=i.n(s),n=i(23645),o=i.n(n),r=o()(a());r.push([t.id,"._mediaPicker[data-v-4464807a]{position:absolute}",""]),e["default"]=r},29960:function(t,e,i){"use strict";i.r(e);var s=i(8081),a=i.n(s),n=i(23645),o=i.n(n),r=o()(a());r.push([t.id,"._filesList[data-v-f366315c]{position:relative;z-index:0;text-align:center}._listOfFiles[data-v-f366315c]{padding:0;margin:0;display:flex;flex-flow:column nowrap;gap:calc(var(--spacing)/4)}._reorderedFile[data-v-f366315c]{z-index:10;min-height:2em;background:#fff;border:1px solid var(--c-gris);display:flex;flex-flow:row nowrap;justify-content:center;word-break:break-word;align-items:center;padding:0;border-radius:2px;justify-content:space-between}._reorderedFile[data-v-f366315c]:focus-visible,._reorderedFile[data-v-f366315c]:hover{background:var(--c-gris)}._reorderedFile ._link[data-v-f366315c]{flex:1 1 auto;overflow:hidden;font-variant:none;font-weight:400;letter-spacing:0;font-size:var(--sl-font-size-x-small);text-decoration:none;display:flex;flex-flow:row nowrap;align-items:center;gap:calc(var(--spacing)/1)}._reorderedFile ._link>*[data-v-f366315c]{flex:1 1 50px}._reorderedFile ._link ._preview[data-v-f366315c]{flex:0 0 auto;font-size:100%;width:45px;height:45px;overflow:hidden;border-radius:4px;background:var(--c-gris_clair)}._reorderedFile ._link ._preview[data-v-f366315c]:focus-visible,._reorderedFile ._link ._preview[data-v-f366315c]:hover{background:#fff}._reorderedFile ._link ._preview._preview--none[data-v-f366315c]{display:flex;justify-content:center;align-items:center;font-size:150%}._reorderedFile ._link ._preview[data-v-f366315c]  ._mediaContent--image{position:absolute;width:100%;height:100%;-o-object-fit:cover;object-fit:cover;max-width:none}._reorderedFile ._link ._link--filename[data-v-f366315c]{flex:1 1 0;text-align:left;white-space:break-spaces}._reorderedFile ._link ._link--filename[data-v-f366315c],._reorderedFile ._link ._link--filesize[data-v-f366315c]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;overflow:hidden}._reorderedFile ._link ._link--filesize[data-v-f366315c]{flex:0 0 50px}._addBtnSection[data-v-f366315c]{padding:calc(var(--spacing)/4);text-align:left}",""]),e["default"]=r},52496:function(t,e,i){"use strict";i.r(e);var s=i(8081),a=i.n(s),n=i(23645),o=i.n(n),r=o()(a());r.push([t.id,"._mainCarousel[data-v-16fd47c8],._navCarousel[data-v-16fd47c8]{position:relative;width:100%}._mainCarousel[data-v-16fd47c8]  ._mediaContent,._navCarousel[data-v-16fd47c8]  ._mediaContent{width:100%;height:100%}._mainCarousel[data-v-16fd47c8]  ._mediaContent img,._navCarousel[data-v-16fd47c8]  ._mediaContent img{width:100%;height:100%}._mainCarousel[data-v-16fd47c8]  ._mediaContent ._iframeStylePreview,._mainCarousel[data-v-16fd47c8]  ._mediaContent ._mediaContent--iframe,._mainCarousel[data-v-16fd47c8]  ._mediaContent ._mediaContent--image,._mainCarousel[data-v-16fd47c8]  ._mediaContent .plyr--video,._mainCarousel[data-v-16fd47c8]  ._mediaContent .plyr__poster,._navCarousel[data-v-16fd47c8]  ._mediaContent ._iframeStylePreview,._navCarousel[data-v-16fd47c8]  ._mediaContent ._mediaContent--iframe,._navCarousel[data-v-16fd47c8]  ._mediaContent ._mediaContent--image,._navCarousel[data-v-16fd47c8]  ._mediaContent .plyr--video,._navCarousel[data-v-16fd47c8]  ._mediaContent .plyr__poster{position:absolute;height:100%;width:100%;-o-object-fit:var(--object-fit,cover);object-fit:var(--object-fit,cover);background-size:var(--object-fit,cover)}._carousel[data-v-16fd47c8]{background:var(--c-gris)}._mainCarousel .carousel-cell[data-v-16fd47c8]{width:100%;aspect-ratio:1/1;margin-right:calc(var(--spacing)*1)}._mainCarousel[data-v-16fd47c8]  .flickity-page-dots{bottom:0}._mainCarousel[data-v-16fd47c8]  .flickity-page-dots .dot{background:var(--c-gris);border:none;opacity:1;padding:calc(var(--spacing)/4);border:2px solid transparent}._mainCarousel[data-v-16fd47c8]  .flickity-page-dots .dot:active,._mainCarousel[data-v-16fd47c8]  .flickity-page-dots .dot:focus-visible,._mainCarousel[data-v-16fd47c8]  .flickity-page-dots .dot:hover{border-color:var(--active-color)}._mainCarousel[data-v-16fd47c8]  .flickity-page-dots .dot.is-selected{background:var(--active-color);border-color:var(--active-color)}._navCarousel[data-v-16fd47c8]{margin-top:calc(var(--spacing)/2)}._navCarousel .carousel-cell[data-v-16fd47c8]{width:160px;height:90px;margin-right:calc(var(--spacing)/2)}._mediaPickerTile[data-v-16fd47c8]{position:absolute;top:0;left:100%;display:flex;place-content:center;height:100%;align-items:center;pointer-events:none}._mediaPickerTile>*[data-v-16fd47c8]{pointer-events:auto}._btnRow[data-v-16fd47c8]{position:absolute;padding:calc(var(--spacing)/2);top:0;right:0;left:auto;z-index:100;display:flex;flex-flow:row wrap;gap:calc(var(--spacing)/2);pointer-events:none}._btnRow button[data-v-16fd47c8]{pointer-events:auto;border-radius:4px;color:var(--c-noir);background:hsla(0,0%,100%,.4);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);padding:4px}",""]),e["default"]=r},94191:function(t,e,i){"use strict";i.r(e);var s=i(8081),a=i.n(s),n=i(23645),o=i.n(n),r=o()(a());r.push([t.id,"._mediasModule[data-v-603ae110]{--number_of_medias:1;position:relative}._dropzone[data-v-603ae110]{position:absolute;width:100%;height:100%}._dropzone[data-v-603ae110]  ._dropNotice{transform:rotate(-90deg)}sl-icon-button[data-v-603ae110]::part(base){font-size:1.5em;color:var(--c-bleuvert)}",""]),e["default"]=r},15580:function(t,e,i){"use strict";i.r(e);var s=i(8081),a=i.n(s),n=i(23645),o=i.n(n),r=o()(a());r.push([t.id,"._moduleCreator[data-v-ac4f8db4]{position:relative;display:flex;justify-content:flex-start;align-items:center;width:100%;pointer-events:none;gap:calc(var(--spacing)/4);--icon-size:1.2rem}._moduleCreator>*[data-v-ac4f8db4]{pointer-events:auto}._typePicker[data-v-ac4f8db4]{display:flex;flex-flow:row wrap;justify-content:flex-start;align-items:center;gap:calc(var(--spacing)/4)}._dropNotice[data-v-ac4f8db4]{pointer-events:none}._showModuleSelector[data-v-ac4f8db4]{transition:all .4s cubic-bezier(.19,1,.22,1)}.u-addBtn[data-v-ac4f8db4]{color:var(--c-noir)}",""]),e["default"]=r},86791:function(t,e,i){"use strict";i.r(e);var s=i(8081),a=i.n(s),n=i(23645),o=i.n(n),r=o()(a());r.push([t.id,"._mediaGrid[data-v-73040d67]{position:relative;width:100%}._mediaGrid.is--multipleMedias[data-v-73040d67]{display:flex;flex-flow:row nowrap;gap:calc(var(--spacing)/4);transition:flex .25s cubic-bezier(.19,1,.22,1)}._mediaGrid>._mediaGrid--item[data-v-73040d67]{position:relative;transition:flex .25s cubic-bezier(.19,1,.22,1)}._mediaGrid.is--multipleMedias>._mediaGrid--item[data-v-73040d67]{aspect-ratio:1/1;overflow:hidden;background:var(--c-gris_clair);flex:1 1 calc(100%/var(--number_of_medias))}._mediaGrid.is--multipleMedias[data-v-73040d67]  ._mediaContent{width:100%;height:100%}._mediaGrid.is--multipleMedias[data-v-73040d67]  ._mediaContent img{width:100%;height:100%}._mediaGrid.is--multipleMedias[data-v-73040d67]  ._mediaContent ._iframeStylePreview,._mediaGrid.is--multipleMedias[data-v-73040d67]  ._mediaContent ._mediaContent--iframe,._mediaGrid.is--multipleMedias[data-v-73040d67]  ._mediaContent ._mediaContent--image,._mediaGrid.is--multipleMedias[data-v-73040d67]  ._mediaContent .plyr--video,._mediaGrid.is--multipleMedias[data-v-73040d67]  ._mediaContent .plyr__poster{position:absolute;height:100%;width:100%;-o-object-fit:var(--object-fit,cover);object-fit:var(--object-fit,cover);background-size:var(--object-fit,cover)}._mediaPickerTile[data-v-73040d67]{position:absolute;top:0;left:100%;display:flex;place-content:center;height:100%;align-items:center;pointer-events:none}._mediaPickerTile>*[data-v-73040d67]{pointer-events:auto}._btnRow[data-v-73040d67]{position:absolute;padding:calc(var(--spacing)/2);top:0;right:0;left:auto;z-index:100;display:flex;flex-flow:row wrap;gap:calc(var(--spacing)/2);pointer-events:none}._btnRow button[data-v-73040d67]{pointer-events:auto;border-radius:4px;color:var(--c-noir);background:hsla(0,0%,100%,.4);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);padding:4px}._noSourceMedia[data-v-73040d67]{width:100%;padding:calc(var(--spacing)/4);text-align:center}",""]),e["default"]=r},36062:function(t,e,i){"use strict";i.r(e);var s=i(8081),a=i.n(s),n=i(23645),o=i.n(n),r=o()(a());r.push([t.id,"._publicationModule[data-v-219327cf]{position:relative;scroll-margin-top:calc(var(--spacing)*1.5)}._publicationModule[data-type=shape] ._content[data-v-219327cf],._publicationModule[data-type=shape] svg[data-v-219327cf]{overflow:visible;stroke-linejoin:arcs;stroke-linecap:round}._publicationModule[data-type=shape] svg[data-v-219327cf]{width:100%;height:100%}._publicationModule[data-type=shape] svg rect[data-v-219327cf]{transition:all .25s cubic-bezier(.19,1,.22,1)}._publicationModule ._content[data-v-219327cf]{position:relative;width:calc(var(--module-width)*1%);margin-left:calc(var(--module-margin-left)*1%);transition:all .4s cubic-bezier(.19,1,.22,1)}._selectorIndicator[data-v-219327cf]{--highlight-margin:calc(var(--spacing)/-2);position:absolute;top:0;left:var(--highlight-margin);bottom:var(--highlight-margin);right:var(--highlight-margin);pointer-events:none}._sideOptions[data-v-219327cf]{position:relative;margin-bottom:calc(var(--spacing)/2);width:100%;margin:0 calc(var(--spacing)/-2) calc(var(--spacing)/2);width:calc(100% + var(--spacing)/1)}._sideOptions ._sideOptions--content[data-v-219327cf]{width:100%;margin:0 auto;padding:calc(var(--spacing)/4);background:var(--active-color);box-shadow:var(--panel-shadows);border-top-left-radius:6px;border-top-right-radius:6px;gap:calc(var(--spacing)/2);display:flex;align-items:center}._arrows[data-v-219327cf]{flex:0 0 auto;display:flex;flex-flow:column nowrap;justify-content:space-between;align-content:space-between}._sideBtns[data-v-219327cf]{display:block;width:var(--side-width);height:var(--side-width);padding:0;border-radius:calc(var(--side-width)/2);background:transparent}._sideBtns[data-v-219327cf]:focus,._sideBtns[data-v-219327cf]:hover{background:rgba(0,0,0,.1)}._options[data-v-219327cf]{flex:1 1 auto;position:relative;display:flex;flex-flow:row wrap;align-items:center;gap:calc(var(--spacing)/4)}._saveBtn[data-v-219327cf]{flex:0 0 auto;text-align:right}._saveBtn[data-v-219327cf]  ._editBtn{--color1:#fff}._advanced_menu[data-v-219327cf],._carto[data-v-219327cf]{flex:1 1 auto;display:flex;flex-flow:row wrap;align-items:center;gap:calc(var(--spacing)/4)}._buttonRow[data-v-219327cf]{display:flex;padding:calc(var(--spacing)/4);gap:calc(var(--spacing)/2);align-items:center}._buttonRow .is--active[data-v-219327cf]{color:#fff}._floatingEditBtn[data-v-219327cf]{position:sticky;z-index:1;height:0;top:0}._floatingEditBtn>*[data-v-219327cf]{position:absolute;top:0;right:0;margin:calc(var(--spacing)/2)}._repickNotice[data-v-219327cf]{position:absolute;top:0;left:0;right:0;bottom:0;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);background:hsla(0,0%,91%,.7);padding:calc(var(--spacing)/2);display:flex;flex-flow:column nowrap}._repickNotice--content[data-v-219327cf]{background:#fff;padding:calc(var(--spacing)/2)}._pinButton[data-v-219327cf]{position:absolute;background:transparent;top:0;left:0;z-index:1;margin:calc(var(--spacing)/4);padding:calc(var(--spacing)/4)}._publicationModule[data-type=text] ._pinButton[data-v-219327cf]{position:relative;float:left;margin-top:calc(var(--spacing)/4);margin-right:calc(var(--spacing)/4)}._pinButton.is--active[data-v-219327cf]{background:var(--c-bleuvert)}._captionField[data-v-219327cf]{text-align:left;margin-top:calc(var(--spacing)/4);display:flex;flex-flow:row wrap;gap:calc(var(--spacing)*1)}",""]),e["default"]=r},82090:function(t,e,i){"use strict";i.r(e);var s=i(8081),a=i.n(s),n=i(23645),o=i.n(n),r=o()(a());r.push([t.id,"._navBtns[data-v-452cb012]{justify-content:center;padding-bottom:calc(var(--spacing)*4)}._navBtns[data-v-452cb012],._navBtns--content[data-v-452cb012]{display:flex;align-items:center}._navBtns--content[data-v-452cb012]{gap:calc(var(--spacing)/1)}",""]),e["default"]=r},7584:function(t,e,i){"use strict";i.r(e);var s=i(8081),a=i.n(s),n=i(23645),o=i.n(n),r=o()(a());r.push([t.id,"._sectionsList[data-v-8bad846e]{position:relative;padding:calc(var(--spacing)*1) calc(var(--spacing)*1 + 8%)}",""]),e["default"]=r},53218:function(t,e,i){"use strict";i.r(e);var s=i(8081),a=i.n(s),n=i(23645),o=i.n(n),r=o()(a());r.push([t.id,"._sectionsSummary[data-v-558acd15]{width:100%;margin:0 auto;margin-bottom:calc(var(--spacing)*2)}._createSection[data-v-558acd15]{padding:calc(var(--spacing)/4)}",""]),e["default"]=r},9419:function(t,e,i){"use strict";i.r(e);var s=i(8081),a=i.n(s),n=i(23645),o=i.n(n),r=o()(a());r.push([t.id,"._singleSection[data-v-66274f48]{position:relative;display:flex;justify-content:center;flex-flow:column nowrap;align-items:center;margin:0 auto calc(var(--spacing)*4)}._storyContainer[data-v-66274f48]{width:100%}._storyContent[data-v-66274f48]{width:100%;background:#fff;max-width:800px;padding:0;margin:0 auto;padding-bottom:calc(var(--spacing)*2);transition:width .25s cubic-bezier(.19,1,.22,1)}._sectionTitle[data-v-66274f48]{display:flex;align-items:baseline}._mediaPublication[data-v-66274f48]{position:relative}._mediaPublication[data-v-66274f48] >._content{min-height:45px}._mediaPublication[data-v-66274f48]  ._mediaContent--image,._mediaPublication[data-v-66274f48]  .plyr{border-radius:3px}._spacer[data-v-66274f48]{min-height:3rem;display:flex;justify-content:flex-start;align-items:center;transition:all .2s linear}._spacer[data-v-66274f48]  ._moduleCreator.is--collapsed{padding:0}._topbar[data-v-66274f48]{display:flex;flex-flow:row wrap;align-items:baseline;justify-content:space-between;margin:calc(var(--spacing)*1) 0 0}._topbar>._text[data-v-66274f48]{flex:1 1 56ch}._topbar>._buttons[data-v-66274f48]{flex:1 1 auto;display:flex;flex-flow:row wrap;gap:calc(var(--spacing)*1)}._lastModule[data-v-66274f48]{margin-top:calc(var(--spacing)*2)}",""]),e["default"]=r},64958:function(t,e,i){"use strict";i.r(e);var s=i(8081),a=i.n(s),n=i(23645),o=i.n(n),r=o()(a());r.push([t.id,'._lumaView[data-v-0ac565cb]{overflow:hidden}._lumaView[data-v-0ac565cb],._panes[data-v-0ac565cb]{height:100%}._myContent[data-v-0ac565cb]{position:absolute;z-index:2;width:100%;min-width:250px;height:100%;background:var(--chutier-bg);overflow:hidden}._sharedContent[data-v-0ac565cb]{position:relative;z-index:1;height:100%}._chutierBtn[data-v-0ac565cb]{position:absolute;top:0;right:0;z-index:1;transition:transform .25s cubic-bezier(.19,1,.22,1)}._chutierBtn>button[data-v-0ac565cb]{position:absolute;width:100%;height:100%;color:#fff;border-radius:50%;left:0;font-size:1.5rem;padding:0;display:flex;justify-content:center;align-items:center;transform-origin:center;transition:transform .4s cubic-bezier(.19,1,.22,1)}._chutierBtn>button[data-v-0ac565cb]:focus-visible,._chutierBtn>button[data-v-0ac565cb]:hover{color:#ccc}._chutierBtn[data-v-0ac565cb]:not(.is--showingChutier){height:100%}._chutierBtn:not(.is--showingChutier)>button[data-v-0ac565cb]{transform:rotate(-180deg)}._splitpanes[data-v-0ac565cb]{height:calc(100% - 20px)}._topBarIndication[data-v-0ac565cb]{display:flex;flex-flow:row nowrap;height:20px}._topBarIndication--item[data-v-0ac565cb]{height:20px;padding:2px 5px;line-height:1;font-size:var(--sl-font-size-small);font-family:IBM Plex Mono;display:flex;align-items:center;justify-content:space-between;gap:calc(var(--spacing)/2);white-space:nowrap;overflow:hidden;min-width:23px;flex:1 1 var(--topPane-width);border-bottom:1px solid #ccc;border-right:1px solid #ccc;cursor:pointer;transition:all .25s cubic-bezier(.19,1,.22,1)}._topBarIndication--item[data-v-0ac565cb]:last-child{border-right:none}._topBarIndication--item[data-v-0ac565cb]:after{content:"✕";position:relative;opacity:0;transition:all .05s cubic-bezier(.19,1,.22,1)}._topBarIndication--item[data-v-0ac565cb]:focus-visible,._topBarIndication--item[data-v-0ac565cb]:hover{background:#ccc}._topBarIndication--item[data-v-0ac565cb]:focus-visible:after,._topBarIndication--item[data-v-0ac565cb]:hover:after{opacity:1}._topBarIndication--item--names[data-v-0ac565cb]{display:flex;flex-flow:row nowrap;gap:4px}',""]),e["default"]=r},59691:function(t,e,i){"use strict";i.r(e);var s=i(8081),a=i.n(s),n=i(23645),o=i.n(n),r=o()(a());r.push([t.id,"/*! Flickity v2.3.0\nhttps://flickity.metafizzy.co\n---------------------------------------------- */.flickity-enabled{position:relative}.flickity-enabled:focus{outline:none}.flickity-viewport{overflow:hidden;position:relative;height:100%}.flickity-slider{position:absolute;width:100%;height:100%}.flickity-enabled.is-draggable{-webkit-tap-highlight-color:transparent;-webkit-user-select:none;-moz-user-select:none;user-select:none}.flickity-enabled.is-draggable .flickity-viewport{cursor:move;cursor:grab}.flickity-enabled.is-draggable .flickity-viewport.is-pointer-down{cursor:grabbing}.flickity-button{position:absolute;background:hsla(0,0%,100%,.75);border:none;color:#333}.flickity-button:hover{background:#fff;cursor:pointer}.flickity-button:focus{outline:none;box-shadow:0 0 0 5px #19f}.flickity-button:active{opacity:.6}.flickity-button:disabled{opacity:.3;cursor:auto;pointer-events:none}.flickity-button-icon{fill:currentColor}.flickity-prev-next-button{top:50%;width:44px;height:44px;border-radius:50%;transform:translateY(-50%)}.flickity-prev-next-button.previous{left:10px}.flickity-prev-next-button.next{right:10px}.flickity-rtl .flickity-prev-next-button.previous{left:auto;right:10px}.flickity-rtl .flickity-prev-next-button.next{right:auto;left:10px}.flickity-prev-next-button .flickity-button-icon{position:absolute;left:20%;top:20%;width:60%;height:60%}.flickity-page-dots{position:absolute;width:100%;bottom:-25px;padding:0;margin:0;list-style:none;text-align:center;line-height:1}.flickity-rtl .flickity-page-dots{direction:rtl}.flickity-page-dots .dot{display:inline-block;width:10px;height:10px;margin:0 8px;background:#333;border-radius:50%;opacity:.25;cursor:pointer}.flickity-page-dots .dot.is-selected{opacity:1}",""]),e["default"]=r},95240:function(t,e,i){var s,a;(function(n,o){"use strict";s=o,a="function"===typeof s?s.call(e,i,e,t):s,void 0===a||(t.exports=a)})(window,(function(){"use strict";var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var s=e[i],a=s+"MatchesSelector";if(t[a])return a}}();return function(e,i){return e[t](i)}}))},7510:function(t,e,i){var s,a;i(57658),function(n,o){s=o,a="function"===typeof s?s.call(e,i,e,t):s,void 0===a||(t.exports=a)}("undefined"!=typeof window&&window,(function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},s=i[t]=i[t]||[];return-1==s.indexOf(e)&&s.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},s=i[t]=i[t]||{};return s[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var s=i.indexOf(e);return-1!=s&&i.splice(s,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var s=this._onceEvents&&this._onceEvents[t],a=0;a<i.length;a++){var n=i[a],o=s&&s[n];o&&(this.off(t,n),delete s[n]),n.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}))},26845:function(t,e,i){var s,a;i(57658),
/*!
 * Flickity imagesLoaded v2.0.0
 * enables imagesLoaded option for Flickity
 */
function(n,o){s=[i(99110),i(69033)],a=function(t,e){return o(n,t,e)}.apply(e,s),void 0===a||(t.exports=a)}(window,(function(t,e,i){"use strict";e.createMethods.push("_createImagesLoaded");var s=e.prototype;return s._createImagesLoaded=function(){this.on("activate",this.imagesLoaded)},s.imagesLoaded=function(){if(this.options.imagesLoaded){var t=this;i(this.slider).on("progress",e)}function e(e,i){var s=t.getParentCell(i.img);t.cellSizeChange(s&&s.element),t.options.freeScroll||t.positionSliderAtSelected()}},e}))},79334:function(t,e,i){var s,a;i(57658),function(n,o){s=[i(95240)],a=function(t){return o(n,t)}.apply(e,s),void 0===a||(t.exports=a)}(window,(function(t,e){"use strict";var i={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e}},s=Array.prototype.slice;i.makeArray=function(t){if(Array.isArray(t))return t;if(null===t||void 0===t)return[];var e="object"==typeof t&&"number"==typeof t.length;return e?s.call(t):[t]},i.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},i.getParent=function(t,i){while(t.parentNode&&t!=document.body)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,s){t=i.makeArray(t);var a=[];return t.forEach((function(t){if(t instanceof HTMLElement)if(s){e(t,s)&&a.push(t);for(var i=t.querySelectorAll(s),n=0;n<i.length;n++)a.push(i[n])}else a.push(t)})),a},i.debounceMethod=function(t,e,i){i=i||100;var s=t.prototype[e],a=e+"Timeout";t.prototype[e]=function(){var t=this[a];clearTimeout(t);var e=arguments,n=this;this[a]=setTimeout((function(){s.apply(n,e),delete n[a]}),i)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,(function(t,e,i){return e+"-"+i})).toLowerCase()};var a=t.console;return i.htmlInit=function(e,s){i.docReady((function(){var n=i.toDashed(s),o="data-"+n,r=document.querySelectorAll("["+o+"]"),l=document.querySelectorAll(".js-"+n),c=i.makeArray(r).concat(i.makeArray(l)),d=o+"-options",h=t.jQuery;c.forEach((function(t){var i,n=t.getAttribute(o)||t.getAttribute(d);try{i=n&&JSON.parse(n)}catch(l){return void(a&&a.error("Error parsing "+o+" on "+t.className+": "+l))}var r=new e(t,i);h&&h.data(t,s,r)}))}))},i}))},85393:function(t,e,i){var s,a;(function(n,o){s=[i(48816),i(79334)],a=function(t,e){return o(n,t,e)}.apply(e,s),void 0===a||(t.exports=a)})(window,(function(t,e,i){"use strict";function s(t){var e=document.createDocumentFragment();return t.forEach((function(t){e.appendChild(t.element)})),e}var a=e.prototype;return a.insert=function(t,e){var i=this._makeCells(t);if(i&&i.length){var a=this.cells.length;e=void 0===e?a:e;var n=s(i),o=e==a;if(o)this.slider.appendChild(n);else{var r=this.cells[e].element;this.slider.insertBefore(n,r)}if(0===e)this.cells=i.concat(this.cells);else if(o)this.cells=this.cells.concat(i);else{var l=this.cells.splice(e,a-e);this.cells=this.cells.concat(i).concat(l)}this._sizeCells(i),this.cellChange(e,!0)}},a.append=function(t){this.insert(t,this.cells.length)},a.prepend=function(t){this.insert(t,0)},a.remove=function(t){var e=this.getCells(t);if(e&&e.length){var s=this.cells.length-1;e.forEach((function(t){t.remove();var e=this.cells.indexOf(t);s=Math.min(e,s),i.removeFrom(this.cells,t)}),this),this.cellChange(s,!0)}},a.cellSizeChange=function(t){var e=this.getCell(t);if(e){e.getSize();var i=this.cells.indexOf(e);this.cellChange(i)}},a.cellChange=function(t,e){var i=this.selectedElement;this._positionCells(t),this._getWrapShiftCells(),this.setGallerySize();var s=this.getCell(i);s&&(this.selectedIndex=this.getCellSlideIndex(s)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[t]),this.select(this.selectedIndex),e&&this.positionSliderAtSelected()},e}))},93073:function(t,e,i){var s,a;(function(n,o){s=[i(79334)],a=function(t){return o(n,t)}.apply(e,s),void 0===a||(t.exports=a)})(window,(function(t,e){"use strict";var i={startAnimation:function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},animate:function(){this.applyDragForce(),this.applySelectedAttraction();var t=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(t),this.isAnimating){var e=this;requestAnimationFrame((function(){e.animate()}))}},positionSlider:function(){var t=this.x;this.options.wrapAround&&this.cells.length>1&&(t=e.modulo(t,this.slideableWidth),t-=this.slideableWidth,this.shiftWrapCells(t)),this.setTranslateX(t,this.isAnimating),this.dispatchScrollEvent()},setTranslateX:function(t,e){t+=this.cursorPosition,t=this.options.rightToLeft?-t:t;var i=this.getPositionValue(t);this.slider.style.transform=e?"translate3d("+i+",0,0)":"translateX("+i+")"},dispatchScrollEvent:function(){var t=this.slides[0];if(t){var e=-this.x-t.target,i=e/this.slidesWidth;this.dispatchEvent("scroll",null,[i,e])}},positionSliderAtSelected:function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},getPositionValue:function(t){return this.options.percentPosition?.01*Math.round(t/this.size.innerWidth*1e4)+"%":Math.round(t)+"px"},settle:function(t){var e=!this.isPointerDown&&Math.round(100*this.x)==Math.round(100*t);e&&this.restingFrames++,this.restingFrames>2&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},shiftWrapCells:function(t){var e=this.cursorPosition+t;this._shiftCells(this.beforeShiftCells,e,-1);var i=this.size.innerWidth-(t+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,i,1)},_shiftCells:function(t,e,i){for(var s=0;s<t.length;s++){var a=t[s],n=e>0?i:0;a.wrapShift(n),e-=a.size.outerWidth}},_unshiftCells:function(t){if(t&&t.length)for(var e=0;e<t.length;e++)t[e].wrapShift(0)},integratePhysics:function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},applyForce:function(t){this.velocity+=t},getFrictionFactor:function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},getRestingPosition:function(){return this.x+this.velocity/(1-this.getFrictionFactor())},applyDragForce:function(){if(this.isDraggable&&this.isPointerDown){var t=this.dragX-this.x,e=t-this.velocity;this.applyForce(e)}},applySelectedAttraction:function(){var t=this.isDraggable&&this.isPointerDown;if(!t&&!this.isFreeScrolling&&this.slides.length){var e=-1*this.selectedSlide.target-this.x,i=e*this.options.selectedAttraction;this.applyForce(i)}}};return i}))},11290:function(t,e,i){var s,a;(function(n,o){s=[i(84307)],a=function(t){return o(n,t)}.apply(e,s),void 0===a||(t.exports=a)})(window,(function(t,e){"use strict";function i(t,e){this.element=t,this.parent=e,this.create()}var s=i.prototype;return s.create=function(){this.element.style.position="absolute",this.element.setAttribute("aria-hidden","true"),this.x=0,this.shift=0,this.element.style[this.parent.originSide]=0},s.destroy=function(){this.unselect(),this.element.style.position="";var t=this.parent.originSide;this.element.style[t]="",this.element.style.transform="",this.element.removeAttribute("aria-hidden")},s.getSize=function(){this.size=e(this.element)},s.setPosition=function(t){this.x=t,this.updateTarget(),this.renderPosition(t)},s.updateTarget=s.setDefaultTarget=function(){var t="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[t]+this.size.width*this.parent.cellAlign},s.renderPosition=function(t){var e="left"===this.parent.originSide?1:-1,i=this.parent.options.percentPosition?t*e*(this.parent.size.innerWidth/this.size.width):t*e;this.element.style.transform="translateX("+this.parent.getPositionValue(i)+")"},s.select=function(){this.element.classList.add("is-selected"),this.element.removeAttribute("aria-hidden")},s.unselect=function(){this.element.classList.remove("is-selected"),this.element.setAttribute("aria-hidden","true")},s.wrapShift=function(t){this.shift=t,this.renderPosition(this.x+this.parent.slideableWidth*t)},s.remove=function(){this.element.parentNode.removeChild(this.element)},i}))},74856:function(t,e,i){var s,a;i(57658),function(n,o){s=[i(48816),i(51055),i(79334)],a=function(t,e,i){return o(n,t,e,i)}.apply(e,s),void 0===a||(t.exports=a)}(window,(function(t,e,i,s){"use strict";s.extend(e.defaults,{draggable:">1",dragThreshold:3}),e.createMethods.push("_createDrag");var a=e.prototype;s.extend(a,i.prototype),a._touchActionValue="pan-y",a._createDrag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("deactivate",this.onDeactivateDrag),this.on("cellChange",this.updateDraggable)},a.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},a.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},a.updateDraggable=function(){">1"==this.options.draggable?this.isDraggable=this.slides.length>1:this.isDraggable=this.options.draggable,this.isDraggable?this.element.classList.add("is-draggable"):this.element.classList.remove("is-draggable")},a.bindDrag=function(){this.options.draggable=!0,this.updateDraggable()},a.unbindDrag=function(){this.options.draggable=!1,this.updateDraggable()},a._uiChangeDrag=function(){delete this.isFreeScrolling},a.pointerDown=function(e,i){if(this.isDraggable){var s=this.okayPointerDown(e);s&&(this._pointerDownPreventDefault(e),this.pointerDownFocus(e),document.activeElement!=this.element&&this.pointerDownBlur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=o(),t.addEventListener("scroll",this),this._pointerDownDefault(e,i))}else this._pointerDownDefault(e,i)},a._pointerDownDefault=function(t,e){this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY},this._bindPostStartEvents(t),this.dispatchEvent("pointerDown",t,[e])};var n={INPUT:!0,TEXTAREA:!0,SELECT:!0};function o(){return{x:t.pageXOffset,y:t.pageYOffset}}return a.pointerDownFocus=function(t){var e=n[t.target.nodeName];e||this.focus()},a._pointerDownPreventDefault=function(t){var e="touchstart"==t.type,i="touch"==t.pointerType,s=n[t.target.nodeName];e||i||s||t.preventDefault()},a.hasDragStarted=function(t){return Math.abs(t.x)>this.options.dragThreshold},a.pointerUp=function(t,e){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",t,[e]),this._dragPointerUp(t,e)},a.pointerDone=function(){t.removeEventListener("scroll",this),delete this.pointerDownScroll},a.dragStart=function(e,i){this.isDraggable&&(this.dragStartPosition=this.x,this.startAnimation(),t.removeEventListener("scroll",this),this.dispatchEvent("dragStart",e,[i]))},a.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.dispatchEvent("pointerMove",t,[e,i]),this._dragMove(t,e,i)},a.dragMove=function(t,e,i){if(this.isDraggable){t.preventDefault(),this.previousDragX=this.dragX;var s=this.options.rightToLeft?-1:1;this.options.wrapAround&&(i.x%=this.slideableWidth);var a=this.dragStartPosition+i.x*s;if(!this.options.wrapAround&&this.slides.length){var n=Math.max(-this.slides[0].target,this.dragStartPosition);a=a>n?.5*(a+n):a;var o=Math.min(-this.getLastSlide().target,this.dragStartPosition);a=a<o?.5*(a+o):a}this.dragX=a,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",t,[e,i])}},a.dragEnd=function(t,e){if(this.isDraggable){this.options.freeScroll&&(this.isFreeScrolling=!0);var i=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var s=this.getRestingPosition();this.isFreeScrolling=-s>this.slides[0].target&&-s<this.getLastSlide().target}else this.options.freeScroll||i!=this.selectedIndex||(i+=this.dragEndBoostSelect());delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(i),delete this.isDragSelect,this.dispatchEvent("dragEnd",t,[e])}},a.dragEndRestingSelect=function(){var t=this.getRestingPosition(),e=Math.abs(this.getSlideDistance(-t,this.selectedIndex)),i=this._getClosestResting(t,e,1),s=this._getClosestResting(t,e,-1),a=i.distance<s.distance?i.index:s.index;return a},a._getClosestResting=function(t,e,i){var s=this.selectedIndex,a=1/0,n=this.options.contain&&!this.options.wrapAround?function(t,e){return t<=e}:function(t,e){return t<e};while(n(e,a)){if(s+=i,a=e,e=this.getSlideDistance(-t,s),null===e)break;e=Math.abs(e)}return{distance:a,index:s-i}},a.getSlideDistance=function(t,e){var i=this.slides.length,a=this.options.wrapAround&&i>1,n=a?s.modulo(e,i):e,o=this.slides[n];if(!o)return null;var r=a?this.slideableWidth*Math.floor(e/i):0;return t-(o.target+r)},a.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||new Date-this.dragMoveTime>100)return 0;var t=this.getSlideDistance(-this.dragX,this.selectedIndex),e=this.previousDragX-this.dragX;return t>0&&e>0?1:t<0&&e<0?-1:0},a.staticClick=function(t,e){var i=this.getParentCell(t.target),s=i&&i.element,a=i&&this.cells.indexOf(i);this.dispatchEvent("staticClick",t,[e,s,a])},a.onscroll=function(){var t=o(),e=this.pointerDownScroll.x-t.x,i=this.pointerDownScroll.y-t.y;(Math.abs(e)>3||Math.abs(i)>3)&&this._pointerDone()},e}))},48816:function(t,e,i){var s,a;i(57658),function(n,o){s=[i(7510),i(84307),i(79334),i(11290),i(74875),i(93073)],a=function(t,e,i,s,a,r){return o(n,t,e,i,s,a,r)}.apply(e,s),void 0===a||(t.exports=a)}(window,(function(t,e,i,s,a,n,o){"use strict";var r=t.jQuery,l=t.getComputedStyle,c=t.console;function d(t,e){t=s.makeArray(t);while(t.length)e.appendChild(t.shift())}var h=0,u={};function p(t,e){var i=s.getQueryElement(t);if(i){if(this.element=i,this.element.flickityGUID){var a=u[this.element.flickityGUID];return a&&a.option(e),a}r&&(this.$element=r(this.element)),this.options=s.extend({},this.constructor.defaults),this.option(e),this._create()}else c&&c.error("Bad element for Flickity: "+(i||t))}p.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},p.createMethods=[];var _=p.prototype;s.extend(_,e.prototype),_._create=function(){var e=this.guid=++h;for(var i in this.element.flickityGUID=e,u[e]=this,this.selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&t.addEventListener("resize",this),this.options.on){var s=this.options.on[i];this.on(i,s)}p.createMethods.forEach((function(t){this[t]()}),this),this.options.watchCSS?this.watchCSS():this.activate()},_.option=function(t){s.extend(this.options,t)},_.activate=function(){if(!this.isActive){this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize();var t=this._filterFindCellElements(this.element.children);d(t,this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate"),this.selectInitialIndex(),this.isInitActivated=!0,this.dispatchEvent("ready")}},_._createSlider=function(){var t=document.createElement("div");t.className="flickity-slider",t.style[this.originSide]=0,this.slider=t},_._filterFindCellElements=function(t){return s.filterFindElements(t,this.options.cellSelector)},_.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},_._makeCells=function(t){var e=this._filterFindCellElements(t),i=e.map((function(t){return new a(t,this)}),this);return i},_.getLastCell=function(){return this.cells[this.cells.length-1]},_.getLastSlide=function(){return this.slides[this.slides.length-1]},_.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},_._positionCells=function(t){t=t||0,this.maxCellHeight=t&&this.maxCellHeight||0;var e=0;if(t>0){var i=this.cells[t-1];e=i.x+i.size.outerWidth}for(var s=this.cells.length,a=t;a<s;a++){var n=this.cells[a];n.setPosition(e),e+=n.size.outerWidth,this.maxCellHeight=Math.max(n.size.outerHeight,this.maxCellHeight)}this.slideableWidth=e,this.updateSlides(),this._containSlides(),this.slidesWidth=s?this.getLastSlide().target-this.slides[0].target:0},_._sizeCells=function(t){t.forEach((function(t){t.getSize()}))},_.updateSlides=function(){if(this.slides=[],this.cells.length){var t=new n(this);this.slides.push(t);var e="left"==this.originSide,i=e?"marginRight":"marginLeft",s=this._getCanCellFit();this.cells.forEach((function(e,a){if(t.cells.length){var o=t.outerWidth-t.firstMargin+(e.size.outerWidth-e.size[i]);s.call(this,a,o)||(t.updateTarget(),t=new n(this),this.slides.push(t)),t.addCell(e)}else t.addCell(e)}),this),t.updateTarget(),this.updateSelectedSlide()}},_._getCanCellFit=function(){var t=this.options.groupCells;if(!t)return function(){return!1};if("number"==typeof t){var e=parseInt(t,10);return function(t){return t%e!==0}}var i="string"==typeof t&&t.match(/^(\d+)%$/),s=i?parseInt(i[1],10)/100:1;return function(t,e){return e<=(this.size.innerWidth+1)*s}},_._init=_.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},_.getSize=function(){this.size=i(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var f={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};return _.setCellAlign=function(){var t=f[this.options.cellAlign];this.cellAlign=t?t[this.originSide]:this.options.cellAlign},_.setGallerySize=function(){if(this.options.setGallerySize){var t=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=t+"px"}},_._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);var t=this.cursorPosition,e=this.cells.length-1;this.beforeShiftCells=this._getGapCells(t,e,-1),t=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(t,0,1)}},_._getGapCells=function(t,e,i){var s=[];while(t>0){var a=this.cells[e];if(!a)break;s.push(a),e+=i,t-=a.size.outerWidth}return s},_._containSlides=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length){var t=this.options.rightToLeft,e=t?"marginRight":"marginLeft",i=t?"marginLeft":"marginRight",s=this.slideableWidth-this.getLastCell().size[i],a=s<this.size.innerWidth,n=this.cursorPosition+this.cells[0].size[e],o=s-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach((function(t){a?t.target=s*this.cellAlign:(t.target=Math.max(t.target,n),t.target=Math.min(t.target,o))}),this)}},_.dispatchEvent=function(t,e,i){var s=e?[e].concat(i):i;if(this.emitEvent(t,s),r&&this.$element){t+=this.options.namespaceJQueryEvents?".flickity":"";var a=t;if(e){var n=new r.Event(e);n.type=t,a=n}this.$element.trigger(a,i)}},_.select=function(t,e,i){if(this.isActive&&(t=parseInt(t,10),this._wrapSelect(t),(this.options.wrapAround||e)&&(t=s.modulo(t,this.slides.length)),this.slides[t])){var a=this.selectedIndex;this.selectedIndex=t,this.updateSelectedSlide(),i?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[t]),t!=a&&this.dispatchEvent("change",null,[t]),this.dispatchEvent("cellSelect")}},_._wrapSelect=function(t){var e=this.slides.length,i=this.options.wrapAround&&e>1;if(!i)return t;var a=s.modulo(t,e),n=Math.abs(a-this.selectedIndex),o=Math.abs(a+e-this.selectedIndex),r=Math.abs(a-e-this.selectedIndex);!this.isDragSelect&&o<n?t+=e:!this.isDragSelect&&r<n&&(t-=e),t<0?this.x-=this.slideableWidth:t>=e&&(this.x+=this.slideableWidth)},_.previous=function(t,e){this.select(this.selectedIndex-1,t,e)},_.next=function(t,e){this.select(this.selectedIndex+1,t,e)},_.updateSelectedSlide=function(){var t=this.slides[this.selectedIndex];t&&(this.unselectSelectedSlide(),this.selectedSlide=t,t.select(),this.selectedCells=t.cells,this.selectedElements=t.getCellElements(),this.selectedCell=t.cells[0],this.selectedElement=this.selectedElements[0])},_.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},_.selectInitialIndex=function(){var t=this.options.initialIndex;if(this.isInitActivated)this.select(this.selectedIndex,!1,!0);else{if(t&&"string"==typeof t){var e=this.queryCell(t);if(e)return void this.selectCell(t,!1,!0)}var i=0;t&&this.slides[t]&&(i=t),this.select(i,!1,!0)}},_.selectCell=function(t,e,i){var s=this.queryCell(t);if(s){var a=this.getCellSlideIndex(s);this.select(a,e,i)}},_.getCellSlideIndex=function(t){for(var e=0;e<this.slides.length;e++){var i=this.slides[e],s=i.cells.indexOf(t);if(-1!=s)return e}},_.getCell=function(t){for(var e=0;e<this.cells.length;e++){var i=this.cells[e];if(i.element==t)return i}},_.getCells=function(t){t=s.makeArray(t);var e=[];return t.forEach((function(t){var i=this.getCell(t);i&&e.push(i)}),this),e},_.getCellElements=function(){return this.cells.map((function(t){return t.element}))},_.getParentCell=function(t){var e=this.getCell(t);return e||(t=s.getParent(t,".flickity-slider > *"),this.getCell(t))},_.getAdjacentCellElements=function(t,e){if(!t)return this.selectedSlide.getCellElements();e=void 0===e?this.selectedIndex:e;var i=this.slides.length;if(1+2*t>=i)return this.getCellElements();for(var a=[],n=e-t;n<=e+t;n++){var o=this.options.wrapAround?s.modulo(n,i):n,r=this.slides[o];r&&(a=a.concat(r.getCellElements()))}return a},_.queryCell=function(t){if("number"==typeof t)return this.cells[t];if("string"==typeof t){if(t.match(/^[#.]?[\d/]/))return;t=this.element.querySelector(t)}return this.getCell(t)},_.uiChange=function(){this.emitEvent("uiChange")},_.childUIPointerDown=function(t){"touchstart"!=t.type&&t.preventDefault(),this.focus()},_.onresize=function(){this.watchCSS(),this.resize()},s.debounceMethod(p,"onresize",150),_.resize=function(){if(this.isActive&&!this.isAnimating&&!this.isDragging){this.getSize(),this.options.wrapAround&&(this.x=s.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize");var t=this.selectedElements&&this.selectedElements[0];this.selectCell(t,!1,!0)}},_.watchCSS=function(){var t=this.options.watchCSS;if(t){var e=l(this.element,":after").content;-1!=e.indexOf("flickity")?this.activate():this.deactivate()}},_.onkeydown=function(t){var e=document.activeElement&&document.activeElement!=this.element;if(this.options.accessibility&&!e){var i=p.keyboardHandlers[t.keyCode];i&&i.call(this)}},p.keyboardHandlers={37:function(){var t=this.options.rightToLeft?"next":"previous";this.uiChange(),this[t]()},39:function(){var t=this.options.rightToLeft?"previous":"next";this.uiChange(),this[t]()}},_.focus=function(){var e=t.pageYOffset;this.element.focus({preventScroll:!0}),t.pageYOffset!=e&&t.scrollTo(t.pageXOffset,e)},_.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.unselectSelectedSlide(),this.cells.forEach((function(t){t.destroy()})),this.element.removeChild(this.viewport),d(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},_.destroy=function(){this.deactivate(),t.removeEventListener("resize",this),this.allOff(),this.emitEvent("destroy"),r&&this.$element&&r.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete u[this.guid]},s.extend(_,o),p.data=function(t){t=s.getQueryElement(t);var e=t&&t.flickityGUID;return e&&u[e]},s.htmlInit(p,"flickity"),r&&r.bridget&&r.bridget("flickity",p),p.setJQuery=function(t){r=t},p.Cell=a,p.Slide=n,p}))},99110:function(t,e,i){var s,a,n;
/*!
 * Flickity v2.3.0
 * Touch, responsive, flickable carousels
 *
 * Licensed GPLv3 for open source use
 * or Flickity Commercial License for commercial use
 *
 * https://flickity.metafizzy.co
 * Copyright 2015-2021 Metafizzy
 */(function(o,r){a=[i(48816),i(74856),i(70949),i(44523),i(47637),i(85393),i(5832)],s=r,n="function"===typeof s?s.apply(e,a):s,void 0===n||(t.exports=n)})(window,(function(t){return t}))},5832:function(t,e,i){var s,a;i(57658),function(n,o){s=[i(48816),i(79334)],a=function(t,e){return o(n,t,e)}.apply(e,s),void 0===a||(t.exports=a)}(window,(function(t,e,i){"use strict";e.createMethods.push("_createLazyload");var s=e.prototype;function a(t){if("IMG"==t.nodeName){var e=t.getAttribute("data-flickity-lazyload"),s=t.getAttribute("data-flickity-lazyload-src"),a=t.getAttribute("data-flickity-lazyload-srcset");if(e||s||a)return[t]}var n="img[data-flickity-lazyload], img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]",o=t.querySelectorAll(n);return i.makeArray(o)}function n(t,e){this.img=t,this.flickity=e,this.load()}return s._createLazyload=function(){this.on("select",this.lazyLoad)},s.lazyLoad=function(){var t=this.options.lazyLoad;if(t){var e="number"==typeof t?t:0,i=this.getAdjacentCellElements(e),s=[];i.forEach((function(t){var e=a(t);s=s.concat(e)})),s.forEach((function(t){new n(t,this)}),this)}},n.prototype.handleEvent=i.handleEvent,n.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);var t=this.img.getAttribute("data-flickity-lazyload")||this.img.getAttribute("data-flickity-lazyload-src"),e=this.img.getAttribute("data-flickity-lazyload-srcset");this.img.src=t,e&&this.img.setAttribute("srcset",e),this.img.removeAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload-src"),this.img.removeAttribute("data-flickity-lazyload-srcset")},n.prototype.onload=function(t){this.complete(t,"flickity-lazyloaded")},n.prototype.onerror=function(t){this.complete(t,"flickity-lazyerror")},n.prototype.complete=function(t,e){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var i=this.flickity.getParentCell(this.img),s=i&&i.element;this.flickity.cellSizeChange(s),this.img.classList.add(e),this.flickity.dispatchEvent("lazyLoad",t,s)},e.LazyLoader=n,e}))},44523:function(t,e,i){var s,a;i(57658),function(n,o){s=[i(48816),i(34506),i(79334)],a=function(t,e,i){return o(n,t,e,i)}.apply(e,s),void 0===a||(t.exports=a)}(window,(function(t,e,i,s){"use strict";function a(t){this.parent=t,this._create()}a.prototype=Object.create(i.prototype),a.prototype._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.handleClick=this.onClick.bind(this),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},a.prototype.activate=function(){this.setDots(),this.holder.addEventListener("click",this.handleClick),this.bindStartEvent(this.holder),this.parent.element.appendChild(this.holder)},a.prototype.deactivate=function(){this.holder.removeEventListener("click",this.handleClick),this.unbindStartEvent(this.holder),this.parent.element.removeChild(this.holder)},a.prototype.setDots=function(){var t=this.parent.slides.length-this.dots.length;t>0?this.addDots(t):t<0&&this.removeDots(-t)},a.prototype.addDots=function(t){for(var e=document.createDocumentFragment(),i=[],s=this.dots.length,a=s+t,n=s;n<a;n++){var o=document.createElement("li");o.className="dot",o.setAttribute("aria-label","Page dot "+(n+1)),e.appendChild(o),i.push(o)}this.holder.appendChild(e),this.dots=this.dots.concat(i)},a.prototype.removeDots=function(t){var e=this.dots.splice(this.dots.length-t,t);e.forEach((function(t){this.holder.removeChild(t)}),this)},a.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot",this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected",this.selectedDot.setAttribute("aria-current","step"))},a.prototype.onTap=a.prototype.onClick=function(t){var e=t.target;if("LI"==e.nodeName){this.parent.uiChange();var i=this.dots.indexOf(e);this.parent.select(i)}},a.prototype.destroy=function(){this.deactivate(),this.allOff()},e.PageDots=a,s.extend(e.defaults,{pageDots:!0}),e.createMethods.push("_createPageDots");var n=e.prototype;return n._createPageDots=function(){this.options.pageDots&&(this.pageDots=new a(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},n.activatePageDots=function(){this.pageDots.activate()},n.updateSelectedPageDots=function(){this.pageDots.updateSelected()},n.updatePageDots=function(){this.pageDots.setDots()},n.deactivatePageDots=function(){this.pageDots.deactivate()},e.PageDots=a,e}))},47637:function(t,e,i){var s,a;i(57658),function(n,o){s=[i(7510),i(79334),i(48816)],a=function(t,e,i){return o(t,e,i)}.apply(e,s),void 0===a||(t.exports=a)}(window,(function(t,e,i){"use strict";function s(t){this.parent=t,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}s.prototype=Object.create(t.prototype),s.prototype.play=function(){if("playing"!=this.state){var t=document.hidden;t?document.addEventListener("visibilitychange",this.onVisibilityPlay):(this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick())}},s.prototype.tick=function(){if("playing"==this.state){var t=this.parent.options.autoPlay;t="number"==typeof t?t:3e3;var e=this;this.clear(),this.timeout=setTimeout((function(){e.parent.next(!0),e.tick()}),t)}},s.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},s.prototype.clear=function(){clearTimeout(this.timeout)},s.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},s.prototype.unpause=function(){"paused"==this.state&&this.play()},s.prototype.visibilityChange=function(){var t=document.hidden;this[t?"pause":"unpause"]()},s.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},e.extend(i.defaults,{pauseAutoPlayOnHover:!0}),i.createMethods.push("_createPlayer");var a=i.prototype;return a._createPlayer=function(){this.player=new s(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},a.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},a.playPlayer=function(){this.player.play()},a.stopPlayer=function(){this.player.stop()},a.pausePlayer=function(){this.player.pause()},a.unpausePlayer=function(){this.player.unpause()},a.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},a.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},a.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},i.Player=s,i}))},70949:function(t,e,i){var s,a;i(57658),function(n,o){s=[i(48816),i(34506),i(79334)],a=function(t,e,i){return o(n,t,e,i)}.apply(e,s),void 0===a||(t.exports=a)}(window,(function(t,e,i,s){"use strict";var a="http://www.w3.org/2000/svg";function n(t,e){this.direction=t,this.parent=e,this._create()}function o(t){return"string"==typeof t?t:"M "+t.x0+",50 L "+t.x1+","+(t.y1+50)+" L "+t.x2+","+(t.y2+50)+" L "+t.x3+",50  L "+t.x2+","+(50-t.y2)+" L "+t.x1+","+(50-t.y1)+" Z"}n.prototype=Object.create(i.prototype),n.prototype._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var t=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==t;var e=this.element=document.createElement("button");e.className="flickity-button flickity-prev-next-button",e.className+=this.isPrevious?" previous":" next",e.setAttribute("type","button"),this.disable(),e.setAttribute("aria-label",this.isPrevious?"Previous":"Next");var i=this.createSVG();e.appendChild(i),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},n.prototype.activate=function(){this.bindStartEvent(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},n.prototype.deactivate=function(){this.parent.element.removeChild(this.element),this.unbindStartEvent(this.element),this.element.removeEventListener("click",this)},n.prototype.createSVG=function(){var t=document.createElementNS(a,"svg");t.setAttribute("class","flickity-button-icon"),t.setAttribute("viewBox","0 0 100 100");var e=document.createElementNS(a,"path"),i=o(this.parent.options.arrowShape);return e.setAttribute("d",i),e.setAttribute("class","arrow"),this.isLeft||e.setAttribute("transform","translate(100, 100) rotate(180) "),t.appendChild(e),t},n.prototype.handleEvent=s.handleEvent,n.prototype.onclick=function(){if(this.isEnabled){this.parent.uiChange();var t=this.isPrevious?"previous":"next";this.parent[t]()}},n.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},n.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},n.prototype.update=function(){var t=this.parent.slides;if(this.parent.options.wrapAround&&t.length>1)this.enable();else{var e=t.length?t.length-1:0,i=this.isPrevious?0:e,s=this.parent.selectedIndex==i?"disable":"enable";this[s]()}},n.prototype.destroy=function(){this.deactivate(),this.allOff()},s.extend(e.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),e.createMethods.push("_createPrevNextButtons");var r=e.prototype;return r._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new n(-1,this),this.nextButton=new n(1,this),this.on("activate",this.activatePrevNextButtons))},r.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},r.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},e.PrevNextButton=n,e}))},74875:function(t,e,i){var s,a;i(57658),function(n,o){s=o,a="function"===typeof s?s.call(e,i,e,t):s,void 0===a||(t.exports=a)}(window,(function(){"use strict";function t(t){this.parent=t,this.isOriginLeft="left"==t.originSide,this.cells=[],this.outerWidth=0,this.height=0}var e=t.prototype;return e.addCell=function(t){if(this.cells.push(t),this.outerWidth+=t.size.outerWidth,this.height=Math.max(t.size.outerHeight,this.height),1==this.cells.length){this.x=t.x;var e=this.isOriginLeft?"marginLeft":"marginRight";this.firstMargin=t.size[e]}},e.updateTarget=function(){var t=this.isOriginLeft?"marginRight":"marginLeft",e=this.getLastCell(),i=e?e.size[t]:0,s=this.outerWidth-(this.firstMargin+i);this.target=this.x+this.firstMargin+s*this.parent.cellAlign},e.getLastCell=function(){return this.cells[this.cells.length-1]},e.select=function(){this.cells.forEach((function(t){t.select()}))},e.unselect=function(){this.cells.forEach((function(t){t.unselect()}))},e.getCellElements=function(){return this.cells.map((function(t){return t.element}))},t}))},84307:function(t,e,i){var s,a;
/*!
 * getSize v2.0.3
 * measure size of elements
 * MIT license
 */(function(n,o){s=o,a="function"===typeof s?s.call(e,i,e,t):s,void 0===a||(t.exports=a)})(window,(function(){"use strict";function t(t){var e=parseFloat(t),i=-1==t.indexOf("%")&&!isNaN(e);return i&&e}function e(){}var i="undefined"==typeof console?e:function(t){console.error(t)},s=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],a=s.length;function n(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<a;e++){var i=s[e];t[i]=0}return t}function o(t){var e=getComputedStyle(t);return e||i("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),e}var r,l=!1;function c(){if(!l){l=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var s=o(e);r=200==Math.round(t(s.width)),d.isBoxSizeOuter=r,i.removeChild(e)}}function d(e){if(c(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var i=o(e);if("none"==i.display)return n();var l={};l.width=e.offsetWidth,l.height=e.offsetHeight;for(var d=l.isBorderBox="border-box"==i.boxSizing,h=0;h<a;h++){var u=s[h],p=i[u],_=parseFloat(p);l[u]=isNaN(_)?0:_}var f=l.paddingLeft+l.paddingRight,m=l.paddingTop+l.paddingBottom,g=l.marginLeft+l.marginRight,v=l.marginTop+l.marginBottom,b=l.borderLeftWidth+l.borderRightWidth,y=l.borderTopWidth+l.borderBottomWidth,w=d&&r,k=t(i.width);!1!==k&&(l.width=k+(w?0:f+b));var x=t(i.height);return!1!==x&&(l.height=x+(w?0:m+y)),l.innerWidth=l.width-(f+b),l.innerHeight=l.height-(m+y),l.outerWidth=l.width+g,l.outerHeight=l.height+v,l}}return d}))},51055:function(t,e,i){var s,a;
/*!
 * Unidragger v2.4.0
 * Draggable base class
 * MIT license
 */(function(n,o){s=[i(34506)],a=function(t){return o(n,t)}.apply(e,s),void 0===a||(t.exports=a)})(window,(function(t,e){"use strict";function i(){}var s=i.prototype=Object.create(e.prototype);s.bindHandles=function(){this._bindHandles(!0)},s.unbindHandles=function(){this._bindHandles(!1)},s._bindHandles=function(e){e=void 0===e||e;for(var i=e?"addEventListener":"removeEventListener",s=e?this._touchActionValue:"",a=0;a<this.handles.length;a++){var n=this.handles[a];this._bindStartEvent(n,e),n[i]("click",this),t.PointerEvent&&(n.style.touchAction=s)}},s._touchActionValue="none",s.pointerDown=function(t,e){var i=this.okayPointerDown(t);i&&(this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY},t.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e]))};var a={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},n={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return s.okayPointerDown=function(t){var e=a[t.target.nodeName],i=n[t.target.type],s=!e||i;return s||this._pointerReset(),s},s.pointerDownBlur=function(){var t=document.activeElement,e=t&&t.blur&&t!=document.body;e&&t.blur()},s.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,i]),this._dragMove(t,e,i)},s._dragPointerMove=function(t,e){var i={x:e.pageX-this.pointerDownPointer.pageX,y:e.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(i)&&this._dragStart(t,e),i},s.hasDragStarted=function(t){return Math.abs(t.x)>3||Math.abs(t.y)>3},s.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]),this._dragPointerUp(t,e)},s._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e)},s._dragStart=function(t,e){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(t,e)},s.dragStart=function(t,e){this.emitEvent("dragStart",[t,e])},s._dragMove=function(t,e,i){this.isDragging&&this.dragMove(t,e,i)},s.dragMove=function(t,e,i){t.preventDefault(),this.emitEvent("dragMove",[t,e,i])},s._dragEnd=function(t,e){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(t,e)},s.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e])},s.onclick=function(t){this.isPreventingClicks&&t.preventDefault()},s._staticClick=function(t,e){this.isIgnoringMouseUp&&"mouseup"==t.type||(this.staticClick(t,e),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},s.staticClick=function(t,e){this.emitEvent("staticClick",[t,e])},i.getPointerPoint=e.getPointerPoint,i}))},69033:function(t,e,i){var s,a;i(57658),
/*!
 * imagesLoaded v4.1.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
function(n,o){"use strict";s=[i(7510)],a=function(t){return o(n,t)}.apply(e,s),void 0===a||(t.exports=a)}("undefined"!==typeof window?window:this,(function(t,e){"use strict";var i=t.jQuery,s=t.console;function a(t,e){for(var i in e)t[i]=e[i];return t}var n=Array.prototype.slice;function o(t){if(Array.isArray(t))return t;var e="object"==typeof t&&"number"==typeof t.length;return e?n.call(t):[t]}function r(t,e,n){if(!(this instanceof r))return new r(t,e,n);var l=t;"string"==typeof t&&(l=document.querySelectorAll(t)),l?(this.elements=o(l),this.options=a({},this.options),"function"==typeof e?n=e:a(this.options,e),n&&this.on("always",n),this.getImages(),i&&(this.jqDeferred=new i.Deferred),setTimeout(this.check.bind(this))):s.error("Bad element for imagesLoaded "+(l||t))}r.prototype=Object.create(e.prototype),r.prototype.options={},r.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},r.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&l[e]){for(var i=t.querySelectorAll("img"),s=0;s<i.length;s++){var a=i[s];this.addImage(a)}if("string"==typeof this.options.background){var n=t.querySelectorAll(this.options.background);for(s=0;s<n.length;s++){var o=n[s];this.addElementBackgroundImages(o)}}}};var l={1:!0,9:!0,11:!0};function c(t){this.img=t}function d(t,e){this.url=t,this.element=e,this.img=new Image}return r.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e){var i=/url\((['"])?(.*?)\1\)/gi,s=i.exec(e.backgroundImage);while(null!==s){var a=s&&s[2];a&&this.addBackground(a,t),s=i.exec(e.backgroundImage)}}},r.prototype.addImage=function(t){var e=new c(t);this.images.push(e)},r.prototype.addBackground=function(t,e){var i=new d(t,e);this.images.push(i)},r.prototype.check=function(){var t=this;function e(e,i,s){setTimeout((function(){t.progress(e,i,s)}))}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach((function(t){t.once("progress",e),t.check()})):this.complete()},r.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&s&&s.log("progress: "+i,t,e)},r.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},c.prototype=Object.create(e.prototype),c.prototype.check=function(){var t=this.getIsImageComplete();t?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},c.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},c.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},c.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},c.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},c.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},c.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},d.prototype=Object.create(c.prototype),d.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url;var t=this.getIsImageComplete();t&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},d.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},d.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},r.makeJQueryPlugin=function(e){e=e||t.jQuery,e&&(i=e,i.fn.imagesLoaded=function(t,e){var s=new r(this,t,e);return s.jqDeferred.promise(i(this))})},r.makeJQueryPlugin(),r}))},34506:function(t,e,i){var s,a;
/*!
 * Unipointer v2.4.0
 * base class for doing one thing with pointer event
 * MIT license
 */(function(n,o){s=[i(7510)],a=function(t){return o(n,t)}.apply(e,s),void 0===a||(t.exports=a)})(window,(function(t,e){"use strict";function i(){}function s(){}var a=s.prototype=Object.create(e.prototype);a.bindStartEvent=function(t){this._bindStartEvent(t,!0)},a.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},a._bindStartEvent=function(e,i){i=void 0===i||i;var s=i?"addEventListener":"removeEventListener",a="mousedown";"ontouchstart"in t?a="touchstart":t.PointerEvent&&(a="pointerdown"),e[s](a,this)},a.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},a.getTouch=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.identifier==this.pointerIdentifier)return i}},a.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t)},a.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},a.onpointerdown=function(t){this._pointerDown(t,t)},a._pointerDown=function(t,e){t.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e))},a.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])};var n={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return a._bindPostStartEvents=function(e){if(e){var i=n[e.type];i.forEach((function(e){t.addEventListener(e,this)}),this),this._boundPointerEvents=i}},a._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach((function(e){t.removeEventListener(e,this)}),this),delete this._boundPointerEvents)},a.onmousemove=function(t){this._pointerMove(t,t)},a.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},a.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},a._pointerMove=function(t,e){this.pointerMove(t,e)},a.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])},a.onmouseup=function(t){this._pointerUp(t,t)},a.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},a.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},a._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},a.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])},a._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},a._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},a.pointerDone=i,a.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},a.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},a._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},a.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])},s.getPointerPoint=function(t){return{x:t.pageX,y:t.pageY}},s}))},68182:function(t,e,i){var s,a;i(57658),function(n,o){s=[i(95240)],a=function(t){return o(n,t)}.apply(e,s),void 0===a||(t.exports=a)}(window,(function(t,e){"use strict";var i={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e}},s=Array.prototype.slice;i.makeArray=function(t){if(Array.isArray(t))return t;if(null===t||void 0===t)return[];var e="object"==typeof t&&"number"==typeof t.length;return e?s.call(t):[t]},i.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},i.getParent=function(t,i){while(t.parentNode&&t!=document.body)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,s){t=i.makeArray(t);var a=[];return t.forEach((function(t){if(t instanceof HTMLElement)if(s){e(t,s)&&a.push(t);for(var i=t.querySelectorAll(s),n=0;n<i.length;n++)a.push(i[n])}else a.push(t)})),a},i.debounceMethod=function(t,e,i){i=i||100;var s=t.prototype[e],a=e+"Timeout";t.prototype[e]=function(){var t=this[a];clearTimeout(t);var e=arguments,n=this;this[a]=setTimeout((function(){s.apply(n,e),delete n[a]}),i)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,(function(t,e,i){return e+"-"+i})).toLowerCase()};var a=t.console;return i.htmlInit=function(e,s){i.docReady((function(){var n=i.toDashed(s),o="data-"+n,r=document.querySelectorAll("["+o+"]"),l=document.querySelectorAll(".js-"+n),c=i.makeArray(r).concat(i.makeArray(l)),d=o+"-options",h=t.jQuery;c.forEach((function(t){var i,n=t.getAttribute(o)||t.getAttribute(d);try{i=n&&JSON.parse(n)}catch(l){return void(a&&a.error("Error parsing "+o+" on "+t.className+": "+l))}var r=new e(t,i);h&&h.data(t,s,r)}))}))},i}))},74846:function(t,e,i){var s,a;(function(n,o){s=[i(4291),i(68182)],a=function(t,e){return o(n,t,e)}.apply(e,s),void 0===a||(t.exports=a)})(window,(function(t,e,i){"use strict";function s(t){var e=document.createDocumentFragment();return t.forEach((function(t){e.appendChild(t.element)})),e}var a=e.prototype;return a.insert=function(t,e){var i=this._makeCells(t);if(i&&i.length){var a=this.cells.length;e=void 0===e?a:e;var n=s(i),o=e==a;if(o)this.slider.appendChild(n);else{var r=this.cells[e].element;this.slider.insertBefore(n,r)}if(0===e)this.cells=i.concat(this.cells);else if(o)this.cells=this.cells.concat(i);else{var l=this.cells.splice(e,a-e);this.cells=this.cells.concat(i).concat(l)}this._sizeCells(i),this.cellChange(e,!0)}},a.append=function(t){this.insert(t,this.cells.length)},a.prepend=function(t){this.insert(t,0)},a.remove=function(t){var e=this.getCells(t);if(e&&e.length){var s=this.cells.length-1;e.forEach((function(t){t.remove();var e=this.cells.indexOf(t);s=Math.min(e,s),i.removeFrom(this.cells,t)}),this),this.cellChange(s,!0)}},a.cellSizeChange=function(t){var e=this.getCell(t);if(e){e.getSize();var i=this.cells.indexOf(e);this.cellChange(i)}},a.cellChange=function(t,e){var i=this.selectedElement;this._positionCells(t),this._getWrapShiftCells(),this.setGallerySize();var s=this.getCell(i);s&&(this.selectedIndex=this.getCellSlideIndex(s)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[t]),this.select(this.selectedIndex),e&&this.positionSliderAtSelected()},e}))},84240:function(t,e,i){var s,a;(function(n,o){s=[i(68182)],a=function(t){return o(n,t)}.apply(e,s),void 0===a||(t.exports=a)})(window,(function(t,e){"use strict";var i={startAnimation:function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},animate:function(){this.applyDragForce(),this.applySelectedAttraction();var t=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(t),this.isAnimating){var e=this;requestAnimationFrame((function(){e.animate()}))}},positionSlider:function(){var t=this.x;this.options.wrapAround&&this.cells.length>1&&(t=e.modulo(t,this.slideableWidth),t-=this.slideableWidth,this.shiftWrapCells(t)),this.setTranslateX(t,this.isAnimating),this.dispatchScrollEvent()},setTranslateX:function(t,e){t+=this.cursorPosition,t=this.options.rightToLeft?-t:t;var i=this.getPositionValue(t);this.slider.style.transform=e?"translate3d("+i+",0,0)":"translateX("+i+")"},dispatchScrollEvent:function(){var t=this.slides[0];if(t){var e=-this.x-t.target,i=e/this.slidesWidth;this.dispatchEvent("scroll",null,[i,e])}},positionSliderAtSelected:function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},getPositionValue:function(t){return this.options.percentPosition?.01*Math.round(t/this.size.innerWidth*1e4)+"%":Math.round(t)+"px"},settle:function(t){var e=!this.isPointerDown&&Math.round(100*this.x)==Math.round(100*t);e&&this.restingFrames++,this.restingFrames>2&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},shiftWrapCells:function(t){var e=this.cursorPosition+t;this._shiftCells(this.beforeShiftCells,e,-1);var i=this.size.innerWidth-(t+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,i,1)},_shiftCells:function(t,e,i){for(var s=0;s<t.length;s++){var a=t[s],n=e>0?i:0;a.wrapShift(n),e-=a.size.outerWidth}},_unshiftCells:function(t){if(t&&t.length)for(var e=0;e<t.length;e++)t[e].wrapShift(0)},integratePhysics:function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},applyForce:function(t){this.velocity+=t},getFrictionFactor:function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},getRestingPosition:function(){return this.x+this.velocity/(1-this.getFrictionFactor())},applyDragForce:function(){if(this.isDraggable&&this.isPointerDown){var t=this.dragX-this.x,e=t-this.velocity;this.applyForce(e)}},applySelectedAttraction:function(){var t=this.isDraggable&&this.isPointerDown;if(!t&&!this.isFreeScrolling&&this.slides.length){var e=-1*this.selectedSlide.target-this.x,i=e*this.options.selectedAttraction;this.applyForce(i)}}};return i}))},95967:function(t,e,i){var s,a;(function(n,o){s=[i(61161)],a=function(t){return o(n,t)}.apply(e,s),void 0===a||(t.exports=a)})(window,(function(t,e){"use strict";function i(t,e){this.element=t,this.parent=e,this.create()}var s=i.prototype;return s.create=function(){this.element.style.position="absolute",this.element.setAttribute("aria-hidden","true"),this.x=0,this.shift=0,this.element.style[this.parent.originSide]=0},s.destroy=function(){this.unselect(),this.element.style.position="";var t=this.parent.originSide;this.element.style[t]="",this.element.style.transform="",this.element.removeAttribute("aria-hidden")},s.getSize=function(){this.size=e(this.element)},s.setPosition=function(t){this.x=t,this.updateTarget(),this.renderPosition(t)},s.updateTarget=s.setDefaultTarget=function(){var t="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[t]+this.size.width*this.parent.cellAlign},s.renderPosition=function(t){var e="left"===this.parent.originSide?1:-1,i=this.parent.options.percentPosition?t*e*(this.parent.size.innerWidth/this.size.width):t*e;this.element.style.transform="translateX("+this.parent.getPositionValue(i)+")"},s.select=function(){this.element.classList.add("is-selected"),this.element.removeAttribute("aria-hidden")},s.unselect=function(){this.element.classList.remove("is-selected"),this.element.setAttribute("aria-hidden","true")},s.wrapShift=function(t){this.shift=t,this.renderPosition(this.x+this.parent.slideableWidth*t)},s.remove=function(){this.element.parentNode.removeChild(this.element)},i}))},23732:function(t,e,i){var s,a;i(57658),function(n,o){s=[i(4291),i(25478),i(68182)],a=function(t,e,i){return o(n,t,e,i)}.apply(e,s),void 0===a||(t.exports=a)}(window,(function(t,e,i,s){"use strict";s.extend(e.defaults,{draggable:">1",dragThreshold:3}),e.createMethods.push("_createDrag");var a=e.prototype;s.extend(a,i.prototype),a._touchActionValue="pan-y",a._createDrag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("deactivate",this.onDeactivateDrag),this.on("cellChange",this.updateDraggable)},a.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},a.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},a.updateDraggable=function(){">1"==this.options.draggable?this.isDraggable=this.slides.length>1:this.isDraggable=this.options.draggable,this.isDraggable?this.element.classList.add("is-draggable"):this.element.classList.remove("is-draggable")},a.bindDrag=function(){this.options.draggable=!0,this.updateDraggable()},a.unbindDrag=function(){this.options.draggable=!1,this.updateDraggable()},a._uiChangeDrag=function(){delete this.isFreeScrolling},a.pointerDown=function(e,i){if(this.isDraggable){var s=this.okayPointerDown(e);s&&(this._pointerDownPreventDefault(e),this.pointerDownFocus(e),document.activeElement!=this.element&&this.pointerDownBlur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=o(),t.addEventListener("scroll",this),this._pointerDownDefault(e,i))}else this._pointerDownDefault(e,i)},a._pointerDownDefault=function(t,e){this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY},this._bindPostStartEvents(t),this.dispatchEvent("pointerDown",t,[e])};var n={INPUT:!0,TEXTAREA:!0,SELECT:!0};function o(){return{x:t.pageXOffset,y:t.pageYOffset}}return a.pointerDownFocus=function(t){var e=n[t.target.nodeName];e||this.focus()},a._pointerDownPreventDefault=function(t){var e="touchstart"==t.type,i="touch"==t.pointerType,s=n[t.target.nodeName];e||i||s||t.preventDefault()},a.hasDragStarted=function(t){return Math.abs(t.x)>this.options.dragThreshold},a.pointerUp=function(t,e){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",t,[e]),this._dragPointerUp(t,e)},a.pointerDone=function(){t.removeEventListener("scroll",this),delete this.pointerDownScroll},a.dragStart=function(e,i){this.isDraggable&&(this.dragStartPosition=this.x,this.startAnimation(),t.removeEventListener("scroll",this),this.dispatchEvent("dragStart",e,[i]))},a.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.dispatchEvent("pointerMove",t,[e,i]),this._dragMove(t,e,i)},a.dragMove=function(t,e,i){if(this.isDraggable){t.preventDefault(),this.previousDragX=this.dragX;var s=this.options.rightToLeft?-1:1;this.options.wrapAround&&(i.x%=this.slideableWidth);var a=this.dragStartPosition+i.x*s;if(!this.options.wrapAround&&this.slides.length){var n=Math.max(-this.slides[0].target,this.dragStartPosition);a=a>n?.5*(a+n):a;var o=Math.min(-this.getLastSlide().target,this.dragStartPosition);a=a<o?.5*(a+o):a}this.dragX=a,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",t,[e,i])}},a.dragEnd=function(t,e){if(this.isDraggable){this.options.freeScroll&&(this.isFreeScrolling=!0);var i=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var s=this.getRestingPosition();this.isFreeScrolling=-s>this.slides[0].target&&-s<this.getLastSlide().target}else this.options.freeScroll||i!=this.selectedIndex||(i+=this.dragEndBoostSelect());delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(i),delete this.isDragSelect,this.dispatchEvent("dragEnd",t,[e])}},a.dragEndRestingSelect=function(){var t=this.getRestingPosition(),e=Math.abs(this.getSlideDistance(-t,this.selectedIndex)),i=this._getClosestResting(t,e,1),s=this._getClosestResting(t,e,-1),a=i.distance<s.distance?i.index:s.index;return a},a._getClosestResting=function(t,e,i){var s=this.selectedIndex,a=1/0,n=this.options.contain&&!this.options.wrapAround?function(t,e){return t<=e}:function(t,e){return t<e};while(n(e,a)){if(s+=i,a=e,e=this.getSlideDistance(-t,s),null===e)break;e=Math.abs(e)}return{distance:a,index:s-i}},a.getSlideDistance=function(t,e){var i=this.slides.length,a=this.options.wrapAround&&i>1,n=a?s.modulo(e,i):e,o=this.slides[n];if(!o)return null;var r=a?this.slideableWidth*Math.floor(e/i):0;return t-(o.target+r)},a.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||new Date-this.dragMoveTime>100)return 0;var t=this.getSlideDistance(-this.dragX,this.selectedIndex),e=this.previousDragX-this.dragX;return t>0&&e>0?1:t<0&&e<0?-1:0},a.staticClick=function(t,e){var i=this.getParentCell(t.target),s=i&&i.element,a=i&&this.cells.indexOf(i);this.dispatchEvent("staticClick",t,[e,s,a])},a.onscroll=function(){var t=o(),e=this.pointerDownScroll.x-t.x,i=this.pointerDownScroll.y-t.y;(Math.abs(e)>3||Math.abs(i)>3)&&this._pointerDone()},e}))},4291:function(t,e,i){var s,a;i(57658),function(n,o){s=[i(7510),i(61161),i(68182),i(95967),i(27008),i(84240)],a=function(t,e,i,s,a,r){return o(n,t,e,i,s,a,r)}.apply(e,s),void 0===a||(t.exports=a)}(window,(function(t,e,i,s,a,n,o){"use strict";var r=t.jQuery,l=t.getComputedStyle,c=t.console;function d(t,e){t=s.makeArray(t);while(t.length)e.appendChild(t.shift())}var h=0,u={};function p(t,e){var i=s.getQueryElement(t);if(i){if(this.element=i,this.element.flickityGUID){var a=u[this.element.flickityGUID];return a&&a.option(e),a}r&&(this.$element=r(this.element)),this.options=s.extend({},this.constructor.defaults),this.option(e),this._create()}else c&&c.error("Bad element for Flickity: "+(i||t))}p.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},p.createMethods=[];var _=p.prototype;s.extend(_,e.prototype),_._create=function(){var e=this.guid=++h;for(var i in this.element.flickityGUID=e,u[e]=this,this.selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&t.addEventListener("resize",this),this.options.on){var s=this.options.on[i];this.on(i,s)}p.createMethods.forEach((function(t){this[t]()}),this),this.options.watchCSS?this.watchCSS():this.activate()},_.option=function(t){s.extend(this.options,t)},_.activate=function(){if(!this.isActive){this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize();var t=this._filterFindCellElements(this.element.children);d(t,this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate"),this.selectInitialIndex(),this.isInitActivated=!0,this.dispatchEvent("ready")}},_._createSlider=function(){var t=document.createElement("div");t.className="flickity-slider",t.style[this.originSide]=0,this.slider=t},_._filterFindCellElements=function(t){return s.filterFindElements(t,this.options.cellSelector)},_.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},_._makeCells=function(t){var e=this._filterFindCellElements(t),i=e.map((function(t){return new a(t,this)}),this);return i},_.getLastCell=function(){return this.cells[this.cells.length-1]},_.getLastSlide=function(){return this.slides[this.slides.length-1]},_.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},_._positionCells=function(t){t=t||0,this.maxCellHeight=t&&this.maxCellHeight||0;var e=0;if(t>0){var i=this.cells[t-1];e=i.x+i.size.outerWidth}for(var s=this.cells.length,a=t;a<s;a++){var n=this.cells[a];n.setPosition(e),e+=n.size.outerWidth,this.maxCellHeight=Math.max(n.size.outerHeight,this.maxCellHeight)}this.slideableWidth=e,this.updateSlides(),this._containSlides(),this.slidesWidth=s?this.getLastSlide().target-this.slides[0].target:0},_._sizeCells=function(t){t.forEach((function(t){t.getSize()}))},_.updateSlides=function(){if(this.slides=[],this.cells.length){var t=new n(this);this.slides.push(t);var e="left"==this.originSide,i=e?"marginRight":"marginLeft",s=this._getCanCellFit();this.cells.forEach((function(e,a){if(t.cells.length){var o=t.outerWidth-t.firstMargin+(e.size.outerWidth-e.size[i]);s.call(this,a,o)||(t.updateTarget(),t=new n(this),this.slides.push(t)),t.addCell(e)}else t.addCell(e)}),this),t.updateTarget(),this.updateSelectedSlide()}},_._getCanCellFit=function(){var t=this.options.groupCells;if(!t)return function(){return!1};if("number"==typeof t){var e=parseInt(t,10);return function(t){return t%e!==0}}var i="string"==typeof t&&t.match(/^(\d+)%$/),s=i?parseInt(i[1],10)/100:1;return function(t,e){return e<=(this.size.innerWidth+1)*s}},_._init=_.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},_.getSize=function(){this.size=i(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var f={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};return _.setCellAlign=function(){var t=f[this.options.cellAlign];this.cellAlign=t?t[this.originSide]:this.options.cellAlign},_.setGallerySize=function(){if(this.options.setGallerySize){var t=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=t+"px"}},_._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);var t=this.cursorPosition,e=this.cells.length-1;this.beforeShiftCells=this._getGapCells(t,e,-1),t=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(t,0,1)}},_._getGapCells=function(t,e,i){var s=[];while(t>0){var a=this.cells[e];if(!a)break;s.push(a),e+=i,t-=a.size.outerWidth}return s},_._containSlides=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length){var t=this.options.rightToLeft,e=t?"marginRight":"marginLeft",i=t?"marginLeft":"marginRight",s=this.slideableWidth-this.getLastCell().size[i],a=s<this.size.innerWidth,n=this.cursorPosition+this.cells[0].size[e],o=s-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach((function(t){a?t.target=s*this.cellAlign:(t.target=Math.max(t.target,n),t.target=Math.min(t.target,o))}),this)}},_.dispatchEvent=function(t,e,i){var s=e?[e].concat(i):i;if(this.emitEvent(t,s),r&&this.$element){t+=this.options.namespaceJQueryEvents?".flickity":"";var a=t;if(e){var n=new r.Event(e);n.type=t,a=n}this.$element.trigger(a,i)}},_.select=function(t,e,i){if(this.isActive&&(t=parseInt(t,10),this._wrapSelect(t),(this.options.wrapAround||e)&&(t=s.modulo(t,this.slides.length)),this.slides[t])){var a=this.selectedIndex;this.selectedIndex=t,this.updateSelectedSlide(),i?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[t]),t!=a&&this.dispatchEvent("change",null,[t]),this.dispatchEvent("cellSelect")}},_._wrapSelect=function(t){var e=this.slides.length,i=this.options.wrapAround&&e>1;if(!i)return t;var a=s.modulo(t,e),n=Math.abs(a-this.selectedIndex),o=Math.abs(a+e-this.selectedIndex),r=Math.abs(a-e-this.selectedIndex);!this.isDragSelect&&o<n?t+=e:!this.isDragSelect&&r<n&&(t-=e),t<0?this.x-=this.slideableWidth:t>=e&&(this.x+=this.slideableWidth)},_.previous=function(t,e){this.select(this.selectedIndex-1,t,e)},_.next=function(t,e){this.select(this.selectedIndex+1,t,e)},_.updateSelectedSlide=function(){var t=this.slides[this.selectedIndex];t&&(this.unselectSelectedSlide(),this.selectedSlide=t,t.select(),this.selectedCells=t.cells,this.selectedElements=t.getCellElements(),this.selectedCell=t.cells[0],this.selectedElement=this.selectedElements[0])},_.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},_.selectInitialIndex=function(){var t=this.options.initialIndex;if(this.isInitActivated)this.select(this.selectedIndex,!1,!0);else{if(t&&"string"==typeof t){var e=this.queryCell(t);if(e)return void this.selectCell(t,!1,!0)}var i=0;t&&this.slides[t]&&(i=t),this.select(i,!1,!0)}},_.selectCell=function(t,e,i){var s=this.queryCell(t);if(s){var a=this.getCellSlideIndex(s);this.select(a,e,i)}},_.getCellSlideIndex=function(t){for(var e=0;e<this.slides.length;e++){var i=this.slides[e],s=i.cells.indexOf(t);if(-1!=s)return e}},_.getCell=function(t){for(var e=0;e<this.cells.length;e++){var i=this.cells[e];if(i.element==t)return i}},_.getCells=function(t){t=s.makeArray(t);var e=[];return t.forEach((function(t){var i=this.getCell(t);i&&e.push(i)}),this),e},_.getCellElements=function(){return this.cells.map((function(t){return t.element}))},_.getParentCell=function(t){var e=this.getCell(t);return e||(t=s.getParent(t,".flickity-slider > *"),this.getCell(t))},_.getAdjacentCellElements=function(t,e){if(!t)return this.selectedSlide.getCellElements();e=void 0===e?this.selectedIndex:e;var i=this.slides.length;if(1+2*t>=i)return this.getCellElements();for(var a=[],n=e-t;n<=e+t;n++){var o=this.options.wrapAround?s.modulo(n,i):n,r=this.slides[o];r&&(a=a.concat(r.getCellElements()))}return a},_.queryCell=function(t){if("number"==typeof t)return this.cells[t];if("string"==typeof t){if(t.match(/^[#.]?[\d/]/))return;t=this.element.querySelector(t)}return this.getCell(t)},_.uiChange=function(){this.emitEvent("uiChange")},_.childUIPointerDown=function(t){"touchstart"!=t.type&&t.preventDefault(),this.focus()},_.onresize=function(){this.watchCSS(),this.resize()},s.debounceMethod(p,"onresize",150),_.resize=function(){if(this.isActive&&!this.isAnimating&&!this.isDragging){this.getSize(),this.options.wrapAround&&(this.x=s.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize");var t=this.selectedElements&&this.selectedElements[0];this.selectCell(t,!1,!0)}},_.watchCSS=function(){var t=this.options.watchCSS;if(t){var e=l(this.element,":after").content;-1!=e.indexOf("flickity")?this.activate():this.deactivate()}},_.onkeydown=function(t){var e=document.activeElement&&document.activeElement!=this.element;if(this.options.accessibility&&!e){var i=p.keyboardHandlers[t.keyCode];i&&i.call(this)}},p.keyboardHandlers={37:function(){var t=this.options.rightToLeft?"next":"previous";this.uiChange(),this[t]()},39:function(){var t=this.options.rightToLeft?"previous":"next";this.uiChange(),this[t]()}},_.focus=function(){var e=t.pageYOffset;this.element.focus({preventScroll:!0}),t.pageYOffset!=e&&t.scrollTo(t.pageXOffset,e)},_.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.unselectSelectedSlide(),this.cells.forEach((function(t){t.destroy()})),this.element.removeChild(this.viewport),d(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},_.destroy=function(){this.deactivate(),t.removeEventListener("resize",this),this.allOff(),this.emitEvent("destroy"),r&&this.$element&&r.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete u[this.guid]},s.extend(_,o),p.data=function(t){t=s.getQueryElement(t);var e=t&&t.flickityGUID;return e&&u[e]},s.htmlInit(p,"flickity"),r&&r.bridget&&r.bridget("flickity",p),p.setJQuery=function(t){r=t},p.Cell=a,p.Slide=n,p}))},11693:function(t,e,i){var s,a,n;
/*!
 * Flickity v2.3.0
 * Touch, responsive, flickable carousels
 *
 * Licensed GPLv3 for open source use
 * or Flickity Commercial License for commercial use
 *
 * https://flickity.metafizzy.co
 * Copyright 2015-2021 Metafizzy
 */(function(o,r){a=[i(4291),i(23732),i(26497),i(71376),i(35466),i(74846),i(72233)],s=r,n="function"===typeof s?s.apply(e,a):s,void 0===n||(t.exports=n)})(window,(function(t){return t}))},72233:function(t,e,i){var s,a;i(57658),function(n,o){s=[i(4291),i(68182)],a=function(t,e){return o(n,t,e)}.apply(e,s),void 0===a||(t.exports=a)}(window,(function(t,e,i){"use strict";e.createMethods.push("_createLazyload");var s=e.prototype;function a(t){if("IMG"==t.nodeName){var e=t.getAttribute("data-flickity-lazyload"),s=t.getAttribute("data-flickity-lazyload-src"),a=t.getAttribute("data-flickity-lazyload-srcset");if(e||s||a)return[t]}var n="img[data-flickity-lazyload], img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]",o=t.querySelectorAll(n);return i.makeArray(o)}function n(t,e){this.img=t,this.flickity=e,this.load()}return s._createLazyload=function(){this.on("select",this.lazyLoad)},s.lazyLoad=function(){var t=this.options.lazyLoad;if(t){var e="number"==typeof t?t:0,i=this.getAdjacentCellElements(e),s=[];i.forEach((function(t){var e=a(t);s=s.concat(e)})),s.forEach((function(t){new n(t,this)}),this)}},n.prototype.handleEvent=i.handleEvent,n.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);var t=this.img.getAttribute("data-flickity-lazyload")||this.img.getAttribute("data-flickity-lazyload-src"),e=this.img.getAttribute("data-flickity-lazyload-srcset");this.img.src=t,e&&this.img.setAttribute("srcset",e),this.img.removeAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload-src"),this.img.removeAttribute("data-flickity-lazyload-srcset")},n.prototype.onload=function(t){this.complete(t,"flickity-lazyloaded")},n.prototype.onerror=function(t){this.complete(t,"flickity-lazyerror")},n.prototype.complete=function(t,e){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var i=this.flickity.getParentCell(this.img),s=i&&i.element;this.flickity.cellSizeChange(s),this.img.classList.add(e),this.flickity.dispatchEvent("lazyLoad",t,s)},e.LazyLoader=n,e}))},71376:function(t,e,i){var s,a;i(57658),function(n,o){s=[i(4291),i(34506),i(68182)],a=function(t,e,i){return o(n,t,e,i)}.apply(e,s),void 0===a||(t.exports=a)}(window,(function(t,e,i,s){"use strict";function a(t){this.parent=t,this._create()}a.prototype=Object.create(i.prototype),a.prototype._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.handleClick=this.onClick.bind(this),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},a.prototype.activate=function(){this.setDots(),this.holder.addEventListener("click",this.handleClick),this.bindStartEvent(this.holder),this.parent.element.appendChild(this.holder)},a.prototype.deactivate=function(){this.holder.removeEventListener("click",this.handleClick),this.unbindStartEvent(this.holder),this.parent.element.removeChild(this.holder)},a.prototype.setDots=function(){var t=this.parent.slides.length-this.dots.length;t>0?this.addDots(t):t<0&&this.removeDots(-t)},a.prototype.addDots=function(t){for(var e=document.createDocumentFragment(),i=[],s=this.dots.length,a=s+t,n=s;n<a;n++){var o=document.createElement("li");o.className="dot",o.setAttribute("aria-label","Page dot "+(n+1)),e.appendChild(o),i.push(o)}this.holder.appendChild(e),this.dots=this.dots.concat(i)},a.prototype.removeDots=function(t){var e=this.dots.splice(this.dots.length-t,t);e.forEach((function(t){this.holder.removeChild(t)}),this)},a.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot",this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected",this.selectedDot.setAttribute("aria-current","step"))},a.prototype.onTap=a.prototype.onClick=function(t){var e=t.target;if("LI"==e.nodeName){this.parent.uiChange();var i=this.dots.indexOf(e);this.parent.select(i)}},a.prototype.destroy=function(){this.deactivate(),this.allOff()},e.PageDots=a,s.extend(e.defaults,{pageDots:!0}),e.createMethods.push("_createPageDots");var n=e.prototype;return n._createPageDots=function(){this.options.pageDots&&(this.pageDots=new a(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},n.activatePageDots=function(){this.pageDots.activate()},n.updateSelectedPageDots=function(){this.pageDots.updateSelected()},n.updatePageDots=function(){this.pageDots.setDots()},n.deactivatePageDots=function(){this.pageDots.deactivate()},e.PageDots=a,e}))},35466:function(t,e,i){var s,a;i(57658),function(n,o){s=[i(7510),i(68182),i(4291)],a=function(t,e,i){return o(t,e,i)}.apply(e,s),void 0===a||(t.exports=a)}(window,(function(t,e,i){"use strict";function s(t){this.parent=t,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}s.prototype=Object.create(t.prototype),s.prototype.play=function(){if("playing"!=this.state){var t=document.hidden;t?document.addEventListener("visibilitychange",this.onVisibilityPlay):(this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick())}},s.prototype.tick=function(){if("playing"==this.state){var t=this.parent.options.autoPlay;t="number"==typeof t?t:3e3;var e=this;this.clear(),this.timeout=setTimeout((function(){e.parent.next(!0),e.tick()}),t)}},s.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},s.prototype.clear=function(){clearTimeout(this.timeout)},s.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},s.prototype.unpause=function(){"paused"==this.state&&this.play()},s.prototype.visibilityChange=function(){var t=document.hidden;this[t?"pause":"unpause"]()},s.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},e.extend(i.defaults,{pauseAutoPlayOnHover:!0}),i.createMethods.push("_createPlayer");var a=i.prototype;return a._createPlayer=function(){this.player=new s(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},a.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},a.playPlayer=function(){this.player.play()},a.stopPlayer=function(){this.player.stop()},a.pausePlayer=function(){this.player.pause()},a.unpausePlayer=function(){this.player.unpause()},a.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},a.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},a.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},i.Player=s,i}))},26497:function(t,e,i){var s,a;i(57658),function(n,o){s=[i(4291),i(34506),i(68182)],a=function(t,e,i){return o(n,t,e,i)}.apply(e,s),void 0===a||(t.exports=a)}(window,(function(t,e,i,s){"use strict";var a="http://www.w3.org/2000/svg";function n(t,e){this.direction=t,this.parent=e,this._create()}function o(t){return"string"==typeof t?t:"M "+t.x0+",50 L "+t.x1+","+(t.y1+50)+" L "+t.x2+","+(t.y2+50)+" L "+t.x3+",50  L "+t.x2+","+(50-t.y2)+" L "+t.x1+","+(50-t.y1)+" Z"}n.prototype=Object.create(i.prototype),n.prototype._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var t=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==t;var e=this.element=document.createElement("button");e.className="flickity-button flickity-prev-next-button",e.className+=this.isPrevious?" previous":" next",e.setAttribute("type","button"),this.disable(),e.setAttribute("aria-label",this.isPrevious?"Previous":"Next");var i=this.createSVG();e.appendChild(i),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},n.prototype.activate=function(){this.bindStartEvent(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},n.prototype.deactivate=function(){this.parent.element.removeChild(this.element),this.unbindStartEvent(this.element),this.element.removeEventListener("click",this)},n.prototype.createSVG=function(){var t=document.createElementNS(a,"svg");t.setAttribute("class","flickity-button-icon"),t.setAttribute("viewBox","0 0 100 100");var e=document.createElementNS(a,"path"),i=o(this.parent.options.arrowShape);return e.setAttribute("d",i),e.setAttribute("class","arrow"),this.isLeft||e.setAttribute("transform","translate(100, 100) rotate(180) "),t.appendChild(e),t},n.prototype.handleEvent=s.handleEvent,n.prototype.onclick=function(){if(this.isEnabled){this.parent.uiChange();var t=this.isPrevious?"previous":"next";this.parent[t]()}},n.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},n.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},n.prototype.update=function(){var t=this.parent.slides;if(this.parent.options.wrapAround&&t.length>1)this.enable();else{var e=t.length?t.length-1:0,i=this.isPrevious?0:e,s=this.parent.selectedIndex==i?"disable":"enable";this[s]()}},n.prototype.destroy=function(){this.deactivate(),this.allOff()},s.extend(e.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),e.createMethods.push("_createPrevNextButtons");var r=e.prototype;return r._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new n(-1,this),this.nextButton=new n(1,this),this.on("activate",this.activatePrevNextButtons))},r.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},r.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},e.PrevNextButton=n,e}))},27008:function(t,e,i){var s,a;i(57658),function(n,o){s=o,a="function"===typeof s?s.call(e,i,e,t):s,void 0===a||(t.exports=a)}(window,(function(){"use strict";function t(t){this.parent=t,this.isOriginLeft="left"==t.originSide,this.cells=[],this.outerWidth=0,this.height=0}var e=t.prototype;return e.addCell=function(t){if(this.cells.push(t),this.outerWidth+=t.size.outerWidth,this.height=Math.max(t.size.outerHeight,this.height),1==this.cells.length){this.x=t.x;var e=this.isOriginLeft?"marginLeft":"marginRight";this.firstMargin=t.size[e]}},e.updateTarget=function(){var t=this.isOriginLeft?"marginRight":"marginLeft",e=this.getLastCell(),i=e?e.size[t]:0,s=this.outerWidth-(this.firstMargin+i);this.target=this.x+this.firstMargin+s*this.parent.cellAlign},e.getLastCell=function(){return this.cells[this.cells.length-1]},e.select=function(){this.cells.forEach((function(t){t.select()}))},e.unselect=function(){this.cells.forEach((function(t){t.unselect()}))},e.getCellElements=function(){return this.cells.map((function(t){return t.element}))},t}))},61161:function(t,e,i){var s,a;
/*!
 * getSize v2.0.3
 * measure size of elements
 * MIT license
 */(function(n,o){s=o,a="function"===typeof s?s.call(e,i,e,t):s,void 0===a||(t.exports=a)})(window,(function(){"use strict";function t(t){var e=parseFloat(t),i=-1==t.indexOf("%")&&!isNaN(e);return i&&e}function e(){}var i="undefined"==typeof console?e:function(t){console.error(t)},s=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],a=s.length;function n(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<a;e++){var i=s[e];t[i]=0}return t}function o(t){var e=getComputedStyle(t);return e||i("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),e}var r,l=!1;function c(){if(!l){l=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var s=o(e);r=200==Math.round(t(s.width)),d.isBoxSizeOuter=r,i.removeChild(e)}}function d(e){if(c(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var i=o(e);if("none"==i.display)return n();var l={};l.width=e.offsetWidth,l.height=e.offsetHeight;for(var d=l.isBorderBox="border-box"==i.boxSizing,h=0;h<a;h++){var u=s[h],p=i[u],_=parseFloat(p);l[u]=isNaN(_)?0:_}var f=l.paddingLeft+l.paddingRight,m=l.paddingTop+l.paddingBottom,g=l.marginLeft+l.marginRight,v=l.marginTop+l.marginBottom,b=l.borderLeftWidth+l.borderRightWidth,y=l.borderTopWidth+l.borderBottomWidth,w=d&&r,k=t(i.width);!1!==k&&(l.width=k+(w?0:f+b));var x=t(i.height);return!1!==x&&(l.height=x+(w?0:m+y)),l.innerWidth=l.width-(f+b),l.innerHeight=l.height-(m+y),l.outerWidth=l.width+g,l.outerHeight=l.height+v,l}}return d}))},25478:function(t,e,i){var s,a;
/*!
 * Unidragger v2.4.0
 * Draggable base class
 * MIT license
 */(function(n,o){s=[i(34506)],a=function(t){return o(n,t)}.apply(e,s),void 0===a||(t.exports=a)})(window,(function(t,e){"use strict";function i(){}var s=i.prototype=Object.create(e.prototype);s.bindHandles=function(){this._bindHandles(!0)},s.unbindHandles=function(){this._bindHandles(!1)},s._bindHandles=function(e){e=void 0===e||e;for(var i=e?"addEventListener":"removeEventListener",s=e?this._touchActionValue:"",a=0;a<this.handles.length;a++){var n=this.handles[a];this._bindStartEvent(n,e),n[i]("click",this),t.PointerEvent&&(n.style.touchAction=s)}},s._touchActionValue="none",s.pointerDown=function(t,e){var i=this.okayPointerDown(t);i&&(this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY},t.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e]))};var a={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},n={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return s.okayPointerDown=function(t){var e=a[t.target.nodeName],i=n[t.target.type],s=!e||i;return s||this._pointerReset(),s},s.pointerDownBlur=function(){var t=document.activeElement,e=t&&t.blur&&t!=document.body;e&&t.blur()},s.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,i]),this._dragMove(t,e,i)},s._dragPointerMove=function(t,e){var i={x:e.pageX-this.pointerDownPointer.pageX,y:e.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(i)&&this._dragStart(t,e),i},s.hasDragStarted=function(t){return Math.abs(t.x)>3||Math.abs(t.y)>3},s.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]),this._dragPointerUp(t,e)},s._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e)},s._dragStart=function(t,e){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(t,e)},s.dragStart=function(t,e){this.emitEvent("dragStart",[t,e])},s._dragMove=function(t,e,i){this.isDragging&&this.dragMove(t,e,i)},s.dragMove=function(t,e,i){t.preventDefault(),this.emitEvent("dragMove",[t,e,i])},s._dragEnd=function(t,e){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(t,e)},s.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e])},s.onclick=function(t){this.isPreventingClicks&&t.preventDefault()},s._staticClick=function(t,e){this.isIgnoringMouseUp&&"mouseup"==t.type||(this.staticClick(t,e),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},s.staticClick=function(t,e){this.emitEvent("staticClick",[t,e])},i.getPointerPoint=e.getPointerPoint,i}))},82356:function(t,e,i){var s=i(75179);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var a=i(31982).Z;a("15886648",s,!0,{sourceMap:!1,shadowMode:!1})},79722:function(t,e,i){var s=i(77488);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var a=i(31982).Z;a("68490dce",s,!0,{sourceMap:!1,shadowMode:!1})},36029:function(t,e,i){var s=i(13671);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var a=i(31982).Z;a("888e33b8",s,!0,{sourceMap:!1,shadowMode:!1})},51160:function(t,e,i){var s=i(93178);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var a=i(31982).Z;a("4a78a6b7",s,!0,{sourceMap:!1,shadowMode:!1})},80780:function(t,e,i){var s=i(31700);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var a=i(31982).Z;a("09f31d0f",s,!0,{sourceMap:!1,shadowMode:!1})},85633:function(t,e,i){var s=i(29013);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var a=i(31982).Z;a("0cfa2217",s,!0,{sourceMap:!1,shadowMode:!1})},3629:function(t,e,i){var s=i(74238);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var a=i(31982).Z;a("28764275",s,!0,{sourceMap:!1,shadowMode:!1})},65173:function(t,e,i){var s=i(7552);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var a=i(31982).Z;a("764efc81",s,!0,{sourceMap:!1,shadowMode:!1})},16971:function(t,e,i){var s=i(77827);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var a=i(31982).Z;a("6641fc8e",s,!0,{sourceMap:!1,shadowMode:!1})},87244:function(t,e,i){var s=i(32280);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var a=i(31982).Z;a("08e8e2f3",s,!0,{sourceMap:!1,shadowMode:!1})},97339:function(t,e,i){var s=i(24241);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var a=i(31982).Z;a("04a91a7a",s,!0,{sourceMap:!1,shadowMode:!1})},44860:function(t,e,i){var s=i(27824);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var a=i(31982).Z;a("e6ef6118",s,!0,{sourceMap:!1,shadowMode:!1})},42613:function(t,e,i){var s=i(33334);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var a=i(31982).Z;a("659b3296",s,!0,{sourceMap:!1,shadowMode:!1})},64235:function(t,e,i){var s=i(2598);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var a=i(31982).Z;a("7b2f0bf7",s,!0,{sourceMap:!1,shadowMode:!1})},63034:function(t,e,i){var s=i(28226);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var a=i(31982).Z;a("6508fc59",s,!0,{sourceMap:!1,shadowMode:!1})},30125:function(t,e,i){var s=i(3516);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var a=i(31982).Z;a("29e4afd8",s,!0,{sourceMap:!1,shadowMode:!1})},1705:function(t,e,i){var s=i(61708);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var a=i(31982).Z;a("30b0ed10",s,!0,{sourceMap:!1,shadowMode:!1})},75320:function(t,e,i){var s=i(44441);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var a=i(31982).Z;a("7ddbe924",s,!0,{sourceMap:!1,shadowMode:!1})},5281:function(t,e,i){var s=i(59038);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var a=i(31982).Z;a("f23f986c",s,!0,{sourceMap:!1,shadowMode:!1})},29259:function(t,e,i){var s=i(29960);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var a=i(31982).Z;a("070e7332",s,!0,{sourceMap:!1,shadowMode:!1})},70240:function(t,e,i){var s=i(52496);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var a=i(31982).Z;a("d4a54d3a",s,!0,{sourceMap:!1,shadowMode:!1})},3939:function(t,e,i){var s=i(94191);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var a=i(31982).Z;a("c36a82fe",s,!0,{sourceMap:!1,shadowMode:!1})},69070:function(t,e,i){var s=i(15580);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var a=i(31982).Z;a("0ceeb3f8",s,!0,{sourceMap:!1,shadowMode:!1})},87660:function(t,e,i){var s=i(86791);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var a=i(31982).Z;a("58d902be",s,!0,{sourceMap:!1,shadowMode:!1})},77966:function(t,e,i){var s=i(36062);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var a=i(31982).Z;a("b08f5536",s,!0,{sourceMap:!1,shadowMode:!1})},53539:function(t,e,i){var s=i(82090);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var a=i(31982).Z;a("2557bd8a",s,!0,{sourceMap:!1,shadowMode:!1})},88247:function(t,e,i){var s=i(7584);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var a=i(31982).Z;a("4f7de598",s,!0,{sourceMap:!1,shadowMode:!1})},15364:function(t,e,i){var s=i(53218);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var a=i(31982).Z;a("ca16ef34",s,!0,{sourceMap:!1,shadowMode:!1})},91868:function(t,e,i){var s=i(9419);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var a=i(31982).Z;a("757cc2a3",s,!0,{sourceMap:!1,shadowMode:!1})},68295:function(t,e,i){var s=i(64958);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var a=i(31982).Z;a("717b3e8e",s,!0,{sourceMap:!1,shadowMode:!1})},84825:function(t,e,i){var s=i(59691);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var a=i(31982).Z;a("1b8cce71",s,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=LumaView.js.map