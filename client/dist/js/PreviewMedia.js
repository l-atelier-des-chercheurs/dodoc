(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[63],{91207:function(t,e,i){"use strict";i.d(e,{Z:function(){return c}});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{},[i("div",{staticClass:"_creditsBtn"},[t.show_credits_caption_button?i("EditBtn",{attrs:{btn_type:"credits",label_position:"left"},on:{click:function(e){t.show_credits_caption=!0}}}):t._e()],1),i("transition",{attrs:{name:"pagechange",mode:"out-in"}},[t.show_credits_caption?i("div",{staticClass:"_showCredits"},[i("button",{staticClass:"u-button u-button_icon _closeCredits",attrs:{type:"button"},on:{click:function(e){t.show_credits_caption=!1}}},[i("b-icon",{attrs:{icon:"x-lg"}})],1),t.media.caption||!1!==t.canEditLinkedMedia(t.media.$path)?i("div",{staticClass:"u-spacingBottom"},[i("CollaborativeEditor2",{attrs:{label:t.$t("caption"),field_to_edit:"caption",content:t.media.caption,path:t.media.$path,custom_formats:["bold","italic","link"],is_collaborative:!1,can_edit:t.can_edit}})],1):t._e(),t.media.$credits||!1!==t.canEditLinkedMedia(t.media.$path)?i("div",{staticClass:"u-spacingBottom"},[i("CollaborativeEditor2",{attrs:{label:t.$t("credit/reference"),field_to_edit:"$credits",content:t.media.$credits,path:t.media.$path,custom_formats:["bold","italic","link"],is_collaborative:!1,can_edit:t.can_edit}})],1):t._e(),t.can_edit?i("div",{staticClass:"u-instructions"},[i("small",[t._v(" "+t._s(t.$t("edit_caption_changes_for_all_medias"))+" ")])]):t._e()]):t._e()])],1)},o=[],n={props:{media:Object,publication_path:String,can_edit:Boolean},components:{},data(){return{show_credits_caption:!1}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{show_credits_caption_button(){return!this.show_credits_caption&&("text"!==this.media.$type&&"table"!==this.media.$type&&!(!1===this.canEditLinkedMedia(this.media.$path)&&!this.media.$credits&&!this.media.caption))}},methods:{canEditLinkedMedia(t){if(!t||!this.publication_path)return!1;const e=this.getParent(t);let i=this.publication_path;return e===i&&this.canLoggedinEditFolder({folder:i})?"local":(i=this.getParent(this.getParent(this.publication_path)),!(e!==i||!this.canLoggedinEditFolder({folder:i}))&&"link")}}},r=n,s=(i(38190),i(1001)),d=(0,s.Z)(r,a,o,!1,null,"592d252a",null),c=d.exports},65883:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return l}});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_previewMedia"},[t.is_loading?i("div",{key:"loader",staticClass:"_spinner"},[i("LoaderSpinner")],1):["node"===t.previewing_for?["pdf"===t.media_type?i("iframe",{staticClass:"_content",attrs:{src:t.preview_url},on:{load:t.onIframeLoad}}):"stl"===t.media_type?i("ThreeDPreview",{staticClass:"_content",attrs:{file_type:"stl",src:t.preview_url}}):t._e()]:"user"===t.previewing_for?[t.media?[i("MediaContent",{staticClass:"_content",attrs:{context:"full",file:t.media,resolution:1600}}),i("div",{staticClass:"_captionCredits"},[i("CaptionCreditsPage",{attrs:{media:t.media}})],1)]:i("span",[t._v("Error loading media")])]:t._e()]],2)},o=[],n=i(91207),r={props:{},components:{ThreeDPreview:()=>i.e(839).then(i.bind(i,47119)),CaptionCreditsPage:n.Z},data(){return{media:null,is_loading:!0}},async created(){},async mounted(){this.$route.query.path_to_meta&&"user"===this.previewing_for&&(this.media=await this.$api.getFile({path:decodeURIComponent(this.$route.query.path_to_meta)}).catch((t=>{console.error(t)}))),this.is_loading=!1},beforeDestroy(){},watch:{},computed:{previewing_for(){return"node"===this.$route.query.previewing_for?"node":"user"},full_media_path(){return decodeURIComponent(this.$route.query.path_to_media)},media_type(){return this.full_media_path.split(".").pop()},preview_url(){let t="";return"pdf"===this.media_type&&(t="#toolbar=0&view=FitV"),window.location.origin+this.full_media_path+t}},methods:{onIframeLoad(){}}},s=r,d=(i(53439),i(1001)),c=(0,d.Z)(s,a,o,!1,null,"73939be4",null),l=c.exports},86478:function(t,e,i){"use strict";i.r(e);var a=i(8081),o=i.n(a),n=i(23645),r=i.n(n),s=r()(o());s.push([t.id,"._creditsBtn[data-v-592d252a]{position:absolute;bottom:0;right:0;z-index:150;margin:calc(var(--spacing)/1)}@media print{._creditsBtn[data-v-592d252a]{display:none}}._creditsBtn[data-v-592d252a]  ._editBtn{background:hsla(0,0%,100%,.4)!important;-webkit-backdrop-filter:blur(5px)!important;backdrop-filter:blur(5px)!important}._showCredits[data-v-592d252a]{position:absolute;z-index:101;inset:0;text-align:left;background:hsla(0,0%,100%,.8);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);overflow:auto;padding:calc(var(--spacing)*1)}._closeCredits[data-v-592d252a]{position:absolute;bottom:0;right:0;z-index:100;margin:calc(var(--spacing)/1)}",""]),e["default"]=s},20937:function(t,e,i){"use strict";i.r(e);var a=i(8081),o=i.n(a),n=i(23645),r=i.n(n),s=r()(o());s.push([t.id,"._previewMedia[data-v-73939be4]{--plyr-audio-controls-background:var(--c-noir);--plyr-audio-control-color:#fff;position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center}._previewMedia ._content[data-v-73939be4]{position:relative;width:100%;height:100%;-o-object-fit:scale-down;object-fit:scale-down;-o-object-position:center;object-position:center}._previewMedia ._content[data-v-73939be4]  ._iframeStylePreview,._previewMedia ._content[data-v-73939be4]  ._mediaContent--iframe,._previewMedia ._content[data-v-73939be4]  ._mediaContent--image,._previewMedia ._content[data-v-73939be4]  .plyr--video,._previewMedia ._content[data-v-73939be4]  .plyr__poster{position:absolute;height:100%;width:100%;-o-object-fit:scale-down;object-fit:scale-down}._previewMedia ._captionCredits[data-v-73939be4]{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}._previewMedia ._captionCredits[data-v-73939be4]  *{pointer-events:auto}",""]),e["default"]=s},38190:function(t,e,i){var a=i(86478);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var o=i(20730).Z;o("33077e06",a,!0,{sourceMap:!1,shadowMode:!1})},53439:function(t,e,i){var a=i(20937);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var o=i(20730).Z;o("da488994",a,!0,{sourceMap:!1,shadowMode:!1})}}]);