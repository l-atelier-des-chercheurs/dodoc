(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[402],{44352:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"_pageView"},[e("transition",{attrs:{name:"fade_fast",mode:"out-in"}},[t.is_loading_page?e("LoaderSpinner"):e("div",[e("div",{staticClass:"_topbar"},[e("TitleField",{staticClass:"_title",attrs:{field_name:"title",label:t.can_edit?t.$t("title"):void 0,content:t.page.title,path:t.page.$path,required:!0,maxlength:70,tag:"h1",can_edit:t.can_edit}}),t.can_edit?e("DropDown",[e("RemoveMenu",{attrs:{remove_text:t.$t("remove")},on:{remove:t.removePage}})],1):t._e()],1),e("div",{staticClass:"u-spacingBottom"}),t.text_content?e("CollaborativeEditor2",{ref:"textBloc",attrs:{path:t.text_content.$path,content:t.text_content.$content,line_selected:!1,can_edit:t.can_edit}}):t._e()],1)],1)],1)},n=[],s=(a(44114),{props:{},components:{},data(){return{is_loading_page:!0,page:void 0}},async created(){},async mounted(){await this.getPage(),this.$api.join({room:this.page_path}),0===this.page.$files?.length&&await this.$api.uploadText({path:this.page.$path,filename:"content.txt",content:"<i>"+this.$t("page_content")+"</i>"}),this.is_loading_page=!1},beforeDestroy(){},watch:{},computed:{page_path(){return this.createPath({page_slug:this.$route.params.page_slug})},can_edit(){return this.canLoggedinEditFolder({folder:this.page})},text_content(){return this.page?.$files?.find((t=>"text"===t.$type))}},methods:{async getPage(){this.page=await this.$api.getFolder({path:this.page_path}).catch((()=>{}))},async removePage(){await this.$api.deleteItem({path:this.page.$path}),this.$router.push("/")}}}),o=s,p=(a(62069),a(81656)),r=(0,p.A)(o,i,n,!1,null,"2f7189fb",null),c=r.exports},44317:function(t,e,a){"use strict";a.r(e);var i=a(31601),n=a.n(i),s=a(76314),o=a.n(s),p=o()(n());p.push([t.id,"._pageView[data-v-2f7189fb]{width:90%;max-width:560px;margin:0 auto;padding:calc(var(--spacing)*2) 0}._topbar[data-v-2f7189fb]{display:flex;flex-flow:row nowrap;justify-content:space-between;align-items:center}",""]),e["default"]=p},62069:function(t,e,a){var i=a(44317);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var n=a(3825).A;n("1149077e",i,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=Page.js.map