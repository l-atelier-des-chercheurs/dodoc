(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[123],{21874:function(t,e,i){"use strict";i.d(e,{Z:function(){return c}});var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._t("default")],2)},s=[],o={props:{options:Object},mounted(){this.init()},beforeDestroy(){this.$flickity.destroy(),this.$flickity=null},methods:{init(){const t=i(11693);this.$flickity=new t(this.$el,this.options),this.$emit("init",this.$flickity)},flickity(){return this.$flickity},select(t,e,i){this.$flickity.select(t,e,i)},next(t,e){this.$flickity.next(t,e)},previous(t,e){this.$flickity.previous(t,e)},selectCell(t,e,i){this.$flickity.selectCell(t,e,i)},resize(){this.$flickity.resize()},reposition(){this.$flickity.reposition()},prepend(t){this.$flickity.prepend(t)},append(t){this.$flickity.append(t)},insert(t,e){this.$flickity.insert(t,e)},remove(t){this.$flickity.remove(t)},playPlayer(){this.$flickity.playPlayer()},stopPlayer(){this.$flickity.stopPlayer()},pausePlayer(){this.$flickity.pausePlayer()},unpausePlayer(){this.$flickity.unpausePlayer()},rerender(){this.$flickity.destroy(),this.init()},destroy(){this.$flickity.destroy()},reloadCells(){this.$flickity.reloadCells()},getCellElements(){return this.$flickity.getCellElements()},data(){const t=i(11693);return t.data(this.$el)},on(t,e){this.$flickity.on(t,e)},off(t,e){this.$flickity.off(t,e)},once(t,e){this.$flickity.once(t,e)},selectedElement(){return this.$flickity.selectedElement},selectedElements(){return this.$flickity.selectedElements},selectedIndex(){return this.$flickity.selectedIndex},cells(){return this.$flickity.cells},slides(){return this.$flickity.slides},disableDrag(){this.$flickity.options.draggable=!1,this.$flickity.updateDraggable()},enableDrag(){this.$flickity.options.draggable=!0,this.$flickity.updateDraggable()}}},a=o,r=(i(84825),i(1001)),l=(0,r.Z)(a,n,s,!1,null,null,null),c=l.exports},41078:function(t,e,i){"use strict";i.d(e,{Z:function(){return c}});var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_mediaPicker"},[i("PickMediaFromProjects",{attrs:{title:"single"===t.select_mode?t.$t("pick_media"):t.$t("pick_medias"),path:t.current_project_path,select_mode:t.select_mode},on:{addMedias:function(e){return t.$emit("addMedias",e)},close:function(e){return t.$emit("close")}}})],1)},s=[],o={props:{publication_path:String,select_mode:{type:String,default:"multiple"}},components:{},data(){return{}},async created(){},beforeDestroy(){},watch:{},computed:{current_project_path(){const t=this.getParent(this.publication_path);return this.getParent(t)}},methods:{}},a=o,r=(i(20244),i(1001)),l=(0,r.Z)(a,n,s,!1,null,"32c4a41c",null),c=l.exports},39476:function(t,e,i){"use strict";i.d(e,{Z:function(){return c}});var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("sl-drawer",{staticClass:"_publicationSettings",attrs:{label:t.$t("settings"),"no-header":"",contained:""}},[t.show_settings?i("div",[t._t("default")],2):t._e()])},s=[],o={props:{},components:{},data(){return{show_settings:!1}},created(){},mounted(){this.$eventHub.$on("publication.settings.toggle",this.toggleSettings),this.$eventHub.$on("publication.settings.close",this.closeSettings)},beforeDestroy(){this.$eventHub.$off("publication.settings.close",this.closeSettings)},watch:{},computed:{},methods:{toggleSettings(){this.$el.open?this.closeSettings():this.openSettings()},openSettings(){this.$el.open||(this.$el.show(),this.show_settings=!0)},closeSettings(){this.$el.open&&(this.$el.hide(),this.show_settings=!1)}}},a=o,r=(i(59973),i(1001)),l=(0,r.Z)(a,n,s,!1,null,"70ad4eb8",null),c=l.exports},45783:function(t,e,i){"use strict";i.d(e,{Z:function(){return v}});var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_moduleCreator",class:{"is--collapsed":!t.show_module_selector}},[i("transition",{attrs:{name:"pagechange",mode:"out-in"}},[t.show_module_selector||!t.start_collapsed?i("div",{staticClass:"_typePicker"},[t.types_available.includes("text")?i("button",{staticClass:"u-button u-button_black",attrs:{type:"button"},on:{click:t.createText}},[i("b-icon",{staticStyle:{"font-size":"var(--icon-size)"},attrs:{icon:"fonts",label:t.$t("add_text")}}),t.show_labels?[t._v(t._s(t.$t("text")))]:t._e()],2):t._e(),t.types_available.includes("medias")?i("button",{staticClass:"u-button u-button_black",attrs:{type:"button"},on:{click:function(e){t.show_media_picker=!0}}},[i("b-icon",{staticStyle:{"font-size":"var(--icon-size)"},attrs:{icon:"image",label:t.$t("add_medias")}}),t.show_labels?[t._v(t._s(t.$t("medias")))]:t._e()],2):t._e(),t.show_media_picker?i("MediaPicker",{attrs:{publication_path:t.publication_path,select_mode:t.select_mode},on:{addMedias:t.createMosaic,close:function(e){t.show_media_picker=!1}}}):t._e(),t.types_available.includes("link")?i("button",{staticClass:"u-button u-button_black",attrs:{type:"button"},on:{click:function(e){t.show_link_picker=!0}}},[i("b-icon",{staticStyle:{"font-size":"var(--icon-size)"},attrs:{icon:"link",label:t.$t("add_link")}}),t.show_labels?[t._v(t._s(t.$t("link")))]:t._e()],2):t._e(),t.show_link_picker?i("LinkPicker",{on:{embed:t.createEmbed,close:function(e){t.show_link_picker=!1}}}):t._e(),t.types_available.includes("shapes")?t._l(t.shapes,(function(e){return i("button",{key:e.type,staticClass:"u-button u-button_black",attrs:{type:"button"},on:{click:function(i){return t.createCustomModule({module_type:e.type,addtl_meta:e.addtl_meta})}}},[i("b-icon",{staticStyle:{"font-size":"var(--icon-size)"},attrs:{icon:e.icon,label:t.$t(e.type)}}),t.show_labels?[t._v(t._s(t.$t(e.type)))]:t._e()],2)})):t._e(),t.start_collapsed?i("EditBtn",{key:"addmodule",attrs:{btn_type:"close",is_unfolded:!1},on:{click:function(e){t.show_module_selector=!1}}}):t._e()],2):t.start_collapsed&&!t.show_module_selector?i("EditBtn",{key:"addmodule",staticClass:"_addBtn",attrs:{btn_type:"add",is_unfolded:!1},on:{click:function(e){t.show_module_selector=!0}}}):t._e()],1),i("DropZone",{on:{mediaDropped:t.createMosaic}})],1)},s=[],o=(i(57658),i(41078)),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BaseModal2",{on:{close:function(e){return t.$emit("close")}}},[i("div",{staticClass:"_linkPicker"},[i("div",{staticClass:"_urlBox"},[i("TextInput",{attrs:{label_str:t.$t("input_url"),instructions:t.$t("input_url_instr"),content:t.full_url,placeholder:"https://",required:!0,input_type:"url"},on:{"update:content":function(e){t.full_url=e},toggleValidity:function(e){return t.allow_save=e}}})],1),i("div",{staticClass:"u-instructions"},[t._v(" PeerTube, YouTube, Vimeo, etc. "+t._s(t.$t("for_example"))+"Â  "),t._l(["https://peertube.fr/w/wB6M6CHdfpWXpozVnqjbde","https://www.youtube.com/watch?v=Bn6zdyCAwJs","https://vimeo.com/447785086","https://observablehq.com/embed/@fil/bertin1953-glsl?cells=canvas"],(function(e,n){return i("button",{key:n,staticClass:"u-buttonLink",attrs:{type:"button"},domProps:{innerHTML:t._s(e)},on:{click:function(i){t.full_url=e}}})}))],2),i("br"),i("div",{key:t.full_url},["any"===t.url_to_site.type?[i("iframe",{staticClass:"_siteIframe",attrs:{src:t.url_to_site.src,frameborder:"0"}})]:i("vue-plyr",[i("div",{staticClass:"plyr__video-embed"},[i("iframe",{attrs:{src:t.url_to_site.src,allowfullscreen:"",allowtransparency:"",allow:"autoplay; fullscreen",sandbox:"allow-same-origin allow-scripts allow-popups",frameborder:"0"}})])])],2),i("br"),t.full_url?i("div",{staticClass:"_selectBtn"},[i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v(" "+t._s(t.$t("cancel"))+" ")]),i("button",{staticClass:"u-button u-button_bleuvert",attrs:{type:"button"},on:{click:function(e){return t.$emit("embed",t.full_url)}}},[t._v(" "+t._s(t.$t("embed"))+" ")])]):t._e()])])},r=[],l={props:{},components:{},data(){return{full_url:""}},async created(){},beforeDestroy(){},watch:{},computed:{url_to_site(){return!!this.full_url&&this.transformURL({url:this.full_url,autoplay:!1})}},methods:{}},c=l,d=(i(82356),i(1001)),h=(0,d.Z)(c,a,r,!1,null,"3b7f81aa",null),u=h.exports,p={props:{publication_path:String,pre_addtl_meta:Object,post_addtl_meta:Object,select_mode:String,show_labels:{type:Boolean,default:!0},context:String,types_available:{type:Array,default:()=>["text","medias","files","link","shapes"]},start_collapsed:{type:Boolean,default:!0}},components:{MediaPicker:o.Z,LinkPicker:u},data(){return{show_module_selector:!1,show_media_picker:!1,show_file_picker:!1,show_link_picker:!1,shapes:[{type:"ellipsis",icon:"circle-fill",addtl_meta:{background_color:"#1d327f"}},{type:"rectangle",icon:"square-fill",addtl_meta:{background_color:"#ffbe32"}},{type:"line",icon:"dash-lg",addtl_meta:{outline_width:1,outline_color:"#000000"}},{type:"arrow",icon:"arrow-right-square",addtl_meta:{outline_width:1,outline_color:"#000000"}}],is_saving:!1}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{async createMosaic({meta_filename:t,path_to_source_media_metas:e}){let i=[];if(t)i.push({meta_filename:t});else if(e)for(const n of e){const t=this.getParent(n),e=this.getParent(this.getParent(this.publication_path));let s;s=t!==e?await this.$api.copyFile({path:n,path_to_destination_folder:e}).catch((t=>{throw this.$alertify.delay(4e3).error(t),"fail"})):this.getFilename(n),i.push({meta_filename_in_project:s})}"page_by_page"===this.context&&(i=i.map((t=>(t.objectFit="contain",t)))),"page_by_page"===this.context?await this.createMultipleModules({module_type:"mosaic",source_medias:i}):await this.createModule({module_type:"mosaic",source_medias:i}),this.show_media_picker=!1},async createEmbed(t){const e="url-"+ +new Date+".txt",i=await this.$api.uploadText({path:this.publication_path,filename:e,content:t,additional_meta:{module_type:this.module_type,$type:"url"}});this.createMosaic({meta_filename:i}),this.show_link_picker=!1},async createFiles({path_to_source_media_metas:t}){let e=[];t.map((t=>{const i=this.getFilename(t);e.push({meta_filename_in_project:i})})),await this.createModule({module_type:"files",source_medias:e}),this.show_file_picker=!1},async createCustomModule({module_type:t,addtl_meta:e}){await this.createModule({module_type:t,addtl_meta:e})},async createText(){const t="text-"+ +new Date+".txt",e=await this.$api.uploadText({path:this.publication_path,filename:t,content:"",additional_meta:{module_type:this.module_type}}),i=[{meta_filename:e}];await this.createModule({module_type:"text",source_medias:i})},async createModule({module_type:t,source_medias:e=[],addtl_meta:i={}}){if(e.length>0){const t=this.getSourceMedia({source_media:e[0],folder_path:this.publication_path});t?.$infos?.gps&&(i.location=t.$infos.gps)}const n=await this.createMetaForModule({module_type:t,source_medias:e,addtl_meta:i});return this.$emit("addModules",{meta_filenames:[n]}),this.show_module_selector=!1,n},async createMultipleModules({module_type:t,source_medias:e=[]}){let i=[];for(const n of e){const e=this.getSourceMedia({source_media:n,folder_path:this.publication_path});let s={};"page_by_page"===this.context&&e?.$infos?.ratio&&(s.height=this.$root.default_new_module_width*e.$infos.ratio),e?.$infos?.gps&&(s.location=e.$infos.gps);const o=await this.createMetaForModule({module_type:t,source_medias:[n],addtl_meta:s});i.push(o)}this.show_module_selector=!1,this.$emit("addModules",{meta_filenames:i})},async createMetaForModule({module_type:t,source_medias:e,addtl_meta:i}){let n={module_type:t,source_medias:e,requested_slug:"module"};return this.pre_addtl_meta&&Object.assign(n,this.pre_addtl_meta),i&&Object.assign(n,i),this.post_addtl_meta&&Object.assign(n,this.post_addtl_meta),await this.$api.uploadFile({path:this.publication_path,additional_meta:n}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t}))}}},f=p,m=(i(81162),(0,d.Z)(f,n,s,!1,null,"1435570e",null)),v=m.exports},12046:function(t,e,i){"use strict";i.d(e,{Z:function(){return F}});var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_publicationModule",attrs:{"data-type":t.module_type},on:{click:t.preventClickTraversing}},[i("transition",{attrs:{name:"scaleInFade",mode:"out-in"}},[t.edit_mode&&"page_by_page"!==t.page_template?i("div",{staticClass:"_sideOptions"},[i("div",{staticClass:"_sideOptions--content"},[i("div",{staticClass:"_arrows"},[t.$listeners.hasOwnProperty("moveUp")?i("button",{staticClass:"u-button _sideBtns _moveBefore",attrs:{disabled:"first"===t.module_position||"alone"===t.module_position,type:"button"},on:{click:function(e){return t.$emit("moveUp")}}},[i("svg",{staticStyle:{transform:"rotate(90deg)"},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 168 168"}},[i("path",{staticStyle:{fill:"currentColor"},attrs:{d:"M87.46,49.46,73.39,64.77a65.3,65.3,0,0,1-6.15,6.15A47.8,47.8,0,0,1,61,75.29H131.6V91.14H61A39.1,39.1,0,0,1,67,95.51q2.81,2.46,6.36,6.15L87.46,117,74.48,128,34.17,83.21,74.48,38.39Z"}})])]):t._e(),t.$listeners.hasOwnProperty("moveDown")?i("button",{staticClass:"u-button _sideBtns _moveAfter",attrs:{type:"button",disabled:"last"===t.module_position||"alone"===t.module_position},on:{click:function(e){return t.$emit("moveDown")}}},[i("svg",{staticStyle:{transform:"rotate(90deg)"},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 168 168"}},[i("path",{staticStyle:{fill:"currentColor"},attrs:{d:"M78.31,117l14.07-15.31a65.3,65.3,0,0,1,6.15-6.15,47.52,47.52,0,0,1,6.29-4.37H34.17V75.29h70.65a39.1,39.1,0,0,1-6.08-4.37q-2.8-2.46-6.36-6.15L78.31,49.46l13-11.07L131.6,83.21,91.29,128Z"}})])]):t._e()]),i("div",{staticClass:"_options"},[i("div",{staticClass:"_advanced_menu"},[i("div",[i("select",{attrs:{disabled:t.available_module_types.length<=1},domProps:{value:t.publimodule.module_type},on:{change:t.changeModuleType}},t._l(t.available_module_types,(function(e){return i("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(t.$t("module.label."+e))+" ")])})),0)]),i("div",{staticClass:"_buttonRow"},t._l([100,66.6,50,33.3],(function(e){return i("button",{key:e,staticClass:"u-buttonLink",class:{"is--active":!t.publimodule.size&&100===e||t.publimodule.size===e},attrs:{type:"button"},on:{click:function(i){return t.updateMeta({size:e})}}},[t._v(" "+t._s(e)+"% ")])})),0),t.publimodule.size&&100!==t.publimodule.size?i("div",{staticClass:"_buttonRow"},t._l(["left","center","right"],(function(e){return i("button",{key:e,staticClass:"u-buttonLink",class:{"is--active":!t.publimodule.align&&"left"===e||t.publimodule.align===e},attrs:{type:"button"},on:{click:function(i){return t.updateMeta({align:e})}}},["left"===e?i("sl-icon",{attrs:{name:"align-start"}}):t._e(),"center"===e?i("sl-icon",{attrs:{name:"align-center"}}):t._e(),"right"===e?i("sl-icon",{attrs:{name:"align-end"}}):t._e()],1)})),0):t._e(),i("div",{staticClass:"_buttonRow"},[i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:t.duplicateModule}},[i("sl-icon",{attrs:{name:"file-plus"}})],1),t.can_edit?i("RemoveMenu",{attrs:{remove_text:t.$t("remove"),show_button_text:!0},on:{remove:t.removeModule}}):t._e()],1)]),t.is_associated_to_map?i("div",{staticClass:"_carto"},[t._e(),i("div",{},[i("button",{staticClass:"u-button u-button_red",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.repickLocation.apply(null,arguments)}}},[t.has_coordinates?[i("b-icon",{attrs:{icon:"pin-map-fill"}}),t._v(" "+t._s(t.$t("change_location"))+" ")]:[i("b-icon",{attrs:{icon:"pin-map"}}),t._v(" "+t._s(t.$t("place_on_map"))+" ")]],2)]),t.has_coordinates?i("div",{},[i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:t.eraseCoords}},[i("b-icon",{attrs:{icon:"x-circle"}}),t._v(" "+t._s(t.$t("erase"))+" ")],1)]):t._e()]):t._e()]),i("div",{staticClass:"_saveBtn"},[i("EditBtn",{attrs:{btn_type:"check",label_position:"left"},on:{click:t.disableEdit}})],1),t.is_repicking_location?i("div",{staticClass:"_repickNotice"},[i("div",{staticClass:"_repickNotice--content"},[i("div",[t._v(" "+t._s(t.$t("click_on_map_to_repick_location_for_media"))+" ")]),i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){t.is_repicking_location=!1}}},[t._v(" "+t._s(t.$t("cancel"))+" ")])])]):t._e()])]):t._e()]),i("div",{staticClass:"_content",style:t.media_styles},[i("div",{ref:"sentinel"}),t.is_associated_to_map&&t.has_coordinates?i("button",{ref:"pinButton",staticClass:"u-button _pinButton",class:{"is--active":t.is_active_on_map},style:"--pin-color: "+(t.pin_options?t.pin_options.color:""),attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.pinButtonClick.apply(null,arguments)}}},[i("img",{attrs:{src:t.pin_options.pin_preview_src}})]):t._e(),t.can_edit?i("div",{staticClass:"_floatingEditBtn"},[t.edit_mode?t._e():i("EditBtn",{attrs:{label_position:"left"},on:{click:t.enableEdit}})],1):t._e(),["mosaic","carousel","files"].includes(t.publimodule.module_type)?i("MediasModule",{attrs:{publimodule:t.publimodule,can_edit:t.edit_mode,context:t.context,page_template:t.page_template,number_of_max_medias:t.number_of_max_medias,show_fs_button:t.show_fs_button},on:{updateMeta:t.updateMeta,remove:t.removeModule}}):"text"===t.publimodule.module_type&&t.first_media?i("CollaborativeEditor2",{ref:"textBloc",attrs:{path:t.first_media.$path,content:t.first_media.$content,scrollingContainer:t.$el,line_selected:!1,can_edit:t.edit_mode},on:{lineClicked:function(e){return t.$emit("lineClicked",e)},contentIsEdited:function(e){return t.$emit("contentIsEdited",e)},contentIsNotEdited:function(e){return t.$emit("contentIsNotEdited",e)}}}):"shape"===t.module_type?[i("svg",{attrs:{viewBox:"0 0 100 100",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg"}},["ellipsis"===t.publimodule.module_type?i("circle",{attrs:{cx:"50",cy:"50",r:50-t.publimodule.outline_width*t.magnification/8,"vector-effect":"non-scaling-stroke"}}):"rectangle"===t.publimodule.module_type?i("rect",{attrs:{x:t.publimodule.outline_width*t.magnification/4,y:t.publimodule.outline_width*t.magnification/4,width:100-t.publimodule.outline_width*t.magnification/2,height:100-t.publimodule.outline_width*t.magnification/2,"vector-effect":"non-scaling-stroke",rx:t.border_radius.x,ry:t.border_radius.y}}):"line"===t.publimodule.module_type?i("g",[i("rect",{attrs:{width:"100",height:"100","vector-effect":"non-scaling-stroke",stroke:"none",rx:t.border_radius.x,ry:t.border_radius.y}}),i("line",{attrs:{x1:t.publimodule.outline_width*t.magnification/4||0,y1:"50",x2:100-(t.publimodule.outline_width*t.magnification/4||0),y2:"50","vector-effect":"non-scaling-stroke"}})]):"arrow"===t.publimodule.module_type?i("g",[i("rect",{attrs:{width:"100",height:"100","vector-effect":"non-scaling-stroke",stroke:"none",rx:t.border_radius.x,ry:t.border_radius.y}}),i("line",{attrs:{x1:t.publimodule.outline_width*t.magnification/4||0,y1:"50",x2:100-(t.publimodule.outline_width*t.magnification/4||0),y2:"50","vector-effect":"non-scaling-stroke"}}),i("g",{attrs:{transform:"\n              translate("+(100-(t.publimodule.outline_width*t.magnification/4||0))+", 50)",preserveAspectRatio:""}},[i("line",{attrs:{x1:"0",y1:"0",x2:"-10",y2:"-10","vector-effect":"non-scaling-stroke"}}),i("line",{attrs:{x1:"0",y1:"0",x2:"-10",y2:"10","vector-effect":"non-scaling-stroke"}})])]):t._e()])]:i("small",[t._v(t._s(t.$t("nothing_to_show")))]),(t.publimodule.caption||t.edit_mode)&&"shape"!==t.module_type&&"text"!==t.module_type?i("div",{staticClass:"_captionField"},[i("TitleField",{attrs:{label:t.edit_mode&&!t.publimodule.caption&&"page_by_page"!==t.page_template?t.$t("add_caption"):void 0,field_name:"caption",content:t.publimodule.caption,path:t.publimodule.$path,input_type:"markdown",tag:"small",can_edit:t.edit_mode&&t.can_edit}}),t.edit_mode&&t.first_media&&t.first_media.caption&&!t.publimodule.caption&&"page_by_page"!==t.page_template?i("div",{},[i("div",{staticClass:"u-instructions"},[t._v(" "+t._s(t.$t("copy_first_media_caption"))+" ")]),i("button",{attrs:{type:"button"},on:{click:function(e){return t.updateMeta({caption:t.first_media.caption})}}},[t._v(" "+t._s(t.first_media.caption)+" ")])]):t._e()],1):t._e()],2),t.edit_mode&&"page_by_page"!==t.page_template?i("div",{staticClass:"_selectorIndicator"}):t._e()],1)},s=[],o=(i(52262),i(24506),i(26699),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade_fast",mode:"out-in"}},[i("div",{key:t.medias_with_linked.length>1?"multiple":"single",staticClass:"_mediasModule",style:"--number_of_medias: "+t.medias_with_linked.length},[i("transition",{attrs:{name:"pagechange",mode:"out-in"}},["mosaic"===t.publimodule.module_type?i("MosaicMediaGrid",{key:"mosaic",attrs:{medias_with_linked:t.medias_with_linked,publimodule:t.publimodule,context:t.context,page_template:t.page_template,show_fs_button:t.show_fs_button,number_of_max_medias:t.number_of_max_medias,publication_path:t.publication_path,can_edit:t.can_edit},on:{addMedias:t.addMedias,removeMediaAtIndex:t.removeMediaAtIndex,updateMediaOpt:t.updateMediaOpt}}):"files"===t.publimodule.module_type?i("FilesList",{key:"filelist",attrs:{medias_with_linked:t.medias_with_linked,publication_path:t.publication_path,can_edit:t.can_edit},on:{addMedias:t.addMedias,reorderMedias:t.reorderMedias,removeMediaAtIndex:t.removeMediaAtIndex}}):"carousel"===t.publimodule.module_type?i("MediaCarousel",{attrs:{medias_with_linked:t.medias_with_linked,context:t.context,page_template:t.page_template,show_fs_button:t.show_fs_button,publication_path:t.publication_path,publi_width:t.publimodule.size,can_edit:t.can_edit},on:{addMedias:t.addMedias,removeMediaAtIndex:t.removeMediaAtIndex,updateMediaOpt:t.updateMediaOpt}}):t._e()],1)],1)])}),a=[],r=(i(57658),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_mediaGrid",class:{"is--multipleMedias":t.is_multiple_medias}},[t._l(t.medias_with_linked,(function(e,n){return[i("div",{key:e._linked_media&&e._linked_media.$path||"no_media_"+n,staticClass:"_mediaGrid--item",style:t.itemStyle({media_with_linked:e})},[e._linked_media?i("MediaContent",{attrs:{file:e._linked_media,resolution:"preview"===t.context?220:1600,context:t.context,show_fs_button:t.show_fs_button,is_draggable:t.can_edit}}):i("div",{staticClass:"u-instructions _noSourceMedia",domProps:{textContent:t._s(t.$t("source_media_missing"))}}),t.can_edit?i("div",{staticClass:"_btnRow"},[!t.is_multiple_medias&&("page_by_page"!==t.page_template||t.single_media_displayed_at_full_ratio)||t.mediaIsSquare(e._linked_media)||"stl"===e._linked_media.$type||"obj"===e._linked_media.$type||"other"===e._linked_media.$type?t._e():[e.objectFit&&"cover"!==e.objectFit?i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("updateMediaOpt",{index:n,opt:{objectFit:"cover"}})}}},[i("sl-icon",{attrs:{name:"aspect-ratio"}})],1):t._e(),"contain"!==e.objectFit?i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("updateMediaOpt",{index:n,opt:{objectFit:"contain"}})}}},[i("sl-icon",{attrs:{name:"aspect-ratio-fill"}})],1):t._e()],t.is_multiple_medias?i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("removeMediaAtIndex",n)}}},[i("sl-icon",{attrs:{name:"trash3"}})],1):t._e()],2):t._e()],1)]})),t.can_edit&&(!t.number_of_max_medias||t.medias_with_linked.length<t.number_of_max_medias)?i("div",{staticClass:"_mediaPickerTile"},[i("button",{staticClass:"u-button u-button_transparent u-addBtn",attrs:{type:"button"},on:{click:function(e){t.show_media_picker=!0}}},[i("sl-icon",{attrs:{name:"plus-circle"}})],1),t.show_media_picker?i("MediaPicker",{attrs:{publication_path:t.publication_path},on:{addMedias:function(e){return t.$emit("addMedias",e)},close:function(e){t.show_media_picker=!1}}}):t._e(),!t.number_of_max_medias||t.medias_with_linked.length<t.number_of_max_medias?[i("DropZone",{on:{mediaDropped:function(e){return t.$emit("addMedias",e)}}})]:t._e()],2):t._e()],2)}),l=[],c=i(41078),d={props:{medias_with_linked:Array,context:String,publimodule:Object,page_template:String,show_fs_button:Boolean,number_of_max_medias:[Boolean,Number],publication_path:String,can_edit:Boolean},components:{MediaPicker:c.Z},data(){return{show_media_picker:!1}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{is_multiple_medias(){return this.medias_with_linked.length>1},single_media_displayed_at_full_ratio(){if(this.medias_with_linked.length>1)return!1;const t=this.medias_with_linked[0]._linked_media.$infos?.ratio,e=!(!this.publimodule?.height||!this.publimodule?.width)&&this.publimodule?.height/this.publimodule?.width;if(!t||!e)return!1;const i=10;return Math.round(t*i)===Math.round(e*i)}},methods:{itemStyle({media_with_linked:t}){let e={};return e["--object-fit"]=t.objectFit||"cover",e},mediaIsSquare(t){return 1===t.$infos?.ratio}}},h=d,u=(i(87660),i(1001)),p=(0,u.Z)(h,r,l,!1,null,"73040d67",null),f=p.exports,m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_filesList"},[i("DLabel",{attrs:{str:t.$t("source_files")}}),i("SlickList",{key:t.can_edit,staticClass:"_listOfFiles",attrs:{axis:"y",value:t.medias_with_linked.map((function(t){return t.meta_filename_in_project})),useDragHandle:!0},on:{input:function(e){return t.$emit("reorderMedias",e)}}},t._l(t.medias_with_linked,(function(e,n){var s=e._linked_media;return i("SlickItem",{key:s.$path,staticClass:"_reorderedFile",attrs:{index:n}},[t.can_edit?i("span",{directives:[{name:"handle",rawName:"v-handle"}],staticClass:"u-dragHandle"},[i("sl-icon",{attrs:{name:"grip-vertical",label:"DÃ©placer"}})],1):t._e(),s&&s.$path?i("span",{staticClass:"_link"},[["image","video","audio","pdf","stl","url"].includes(s.$type)?i("MediaContent",{staticClass:"_preview",attrs:{file:s,resolution:220}}):i("div",{staticClass:"_preview _preview--none"},[i("sl-icon",{attrs:{name:"file-earmark-arrow-down"}})],1),i("span",{staticClass:"_link--filename",domProps:{textContent:t._s(s.$media_filename)}}),s.$infos.size?[i("span",{staticClass:"u-instructions _link--filesize",domProps:{textContent:t._s(t.formatBytes(s.$infos.size))}})]:t._e()],2):t._e(),s&&s.$path?i("DownloadFile",{attrs:{file:s}},[i("sl-icon-button",{attrs:{name:"file-earmark-arrow-down-fill"}})],1):t._e(),t.can_edit?i("sl-icon-button",{attrs:{name:"x",size:"small"},on:{click:function(e){return t.$emit("removeMediaAtIndex",n)}}}):t._e()],1)})),1),t.can_edit?i("div",{staticClass:"_addBtnSection"},[i("button",{staticClass:"u-button u-button_transparent u-addBtn",attrs:{type:"button"},on:{click:function(e){t.show_media_picker=!0}}},[i("sl-icon",{attrs:{name:"plus-circle"}}),t._v(" "+t._s(t.$t("add_files"))+" ")],1),t.show_media_picker?i("MediaPicker",{attrs:{publication_path:t.publication_path},on:{addMedias:function(e){return t.$emit("addMedias",e)},close:function(e){t.show_media_picker=!1}}}):t._e(),i("DropZone",{on:{mediaDropped:function(e){return t.$emit("addMedias",e)}}})],1):t._e()],1)},v=[],g=i(55656),_={props:{medias_with_linked:Array,publication_path:String,can_edit:Boolean},components:{SlickItem:g.SlickItem,SlickList:g.SlickList,MediaPicker:c.Z},directives:{handle:g.HandleDirective},data(){return{show_media_picker:!1}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{}},y=_,b=(i(88297),(0,u.Z)(y,m,v,!1,null,"4e0c6144",null)),w=b.exports,x=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_carousel",class:{}},[i("transition",{attrs:{name:"fade",mode:"out-in"}},[i("flickity",{key:t.slider_key,ref:"flickity",staticClass:"_mainCarousel",attrs:{options:t.flickityOptions}},t._l(t.medias_with_linked,(function(e,n){return i("div",{key:e._linked_media&&e._linked_media.$path||"no_media_"+n,staticClass:"carousel-cell",style:t.itemStyle({media_with_linked:e})},[e._linked_media?i("MediaContent",{attrs:{file:e._linked_media,resolution:"preview"===t.context?220:1600,context:t.context,show_fs_button:t.show_fs_button}}):i("span",{staticClass:"_noSourceMedia u-instructions",domProps:{textContent:t._s(t.$t("source_media_missing"))}}),t.can_edit?i("div",{staticClass:"_btnRow"},[e.objectFit&&"cover"!==e.objectFit&&!t.mediaIsSquare(e._linked_media)?i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("updateMediaOpt",{index:n,opt:{objectFit:"cover"}})}}},[i("sl-icon",{attrs:{name:"aspect-ratio"}})],1):t._e(),"contain"===e.objectFit||t.mediaIsSquare(e._linked_media)?t._e():i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("updateMediaOpt",{index:n,opt:{objectFit:"contain"}})}}},[i("sl-icon",{attrs:{name:"aspect-ratio-fill"}})],1),i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("removeMediaAtIndex",n)}}},[i("sl-icon",{attrs:{name:"trash3"}})],1)]):t._e()],1)})),0)],1),t.can_edit?i("div",{staticClass:"_mediaPickerTile"},[i("EditBtn",{attrs:{btn_type:"add",is_unfolded:!1},on:{click:function(e){t.show_media_picker=!0}}}),t.show_media_picker?i("MediaPicker",{attrs:{publication_path:t.publication_path},on:{addMedias:function(e){return t.$emit("addMedias",e)},close:function(e){t.show_media_picker=!1}}}):t._e(),i("DropZone",{on:{mediaDropped:function(e){return t.$emit("addMedias",e)}}})],1):t._e()],1)},k=[],C=i(21874),S=(i(26845),{props:{medias_with_linked:Array,context:String,page_template:String,show_fs_button:Boolean,number_of_max_medias:[Boolean,Number],publication_path:String,publi_width:Number,can_edit:Boolean},components:{Flickity:C.Z,MediaPicker:c.Z},data(){return{show_media_picker:!1,flickityOptions:{initialIndex:0,groupCells:!1,imagesLoaded:!0,pageDots:!0,selectedAttraction:.2,percentPosition:!1,friction:.8,cellAlign:"left",contain:!0}}},created(){},mounted(){setTimeout((()=>{}),500)},beforeDestroy(){},watch:{publi_width(){setTimeout((()=>{this.$refs.flickity&&this.$refs.flickity.resize()}),250)}},computed:{slider_key(){const t=this.medias_with_linked.map(((t,e)=>t.meta_filename_in_project+"-index-"+e));return t?JSON.stringify(t):"none"}},methods:{itemStyle({media_with_linked:t}){let e={};return e["--object-fit"]=t.objectFit||"cover",e},mediaIsSquare(t){return 1===t.$infos?.ratio}}}),E=S,M=(i(70240),(0,u.Z)(E,x,k,!1,null,"16fd47c8",null)),D=M.exports,P={props:{publimodule:Object,context:{type:String,default:"full"},page_template:String,number_of_max_medias:[Boolean,Number],show_fs_button:Boolean,can_edit:Boolean},components:{MosaicMediaGrid:f,FilesList:w,MediaCarousel:D},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{publication_path(){return this.getParent(this.publimodule.$path)},medias_with_linked(){return this.publimodule.source_medias?this.publimodule.source_medias.map((t=>{const e=this.getSourceMedia({source_media:t,folder_path:this.publication_path});return Object.assign({},t,{_linked_media:e})})):[]}},methods:{addMedias({path_to_source_media_metas:t}){const e=t.map((t=>({meta_filename_in_project:this.getFilename(t)}))),i=this.publimodule.source_medias.slice()||[],n=i.concat(e);this.$emit("updateMeta",{source_medias:n})},removeMediaAtIndex(t){const e=this.publimodule.source_medias.slice();e.splice(t,1),0===e.length?this.$emit("remove"):this.$emit("updateMeta",{source_medias:e})},reorderMedias(t){const e=this.publimodule.source_medias.slice(),i=t.reduce(((t,i)=>{const n=e.find((t=>t.meta_filename_in_project===i));return n&&t.push(n),t}),[]);this.$emit("updateMeta",{source_medias:i})},updateMediaOpt({index:t,opt:e}){const i=this.publimodule.source_medias.slice();Object.assign(i[t],e),this.$emit("updateMeta",{source_medias:i})}}},$=P,A=(i(61233),(0,u.Z)($,o,a,!1,null,"dd326110",null)),L=A.exports,z={props:{publimodule:Object,module_position:String,module_being_edited:String,magnification:Number,border_radius:{type:Object,default:()=>({x:0,y:0})},context:String,page_template:String,number_of_max_medias:{type:[Boolean,Number],default:!1},can_edit:Boolean},components:{MediasModule:L},inject:{$getMapOptions:{default:!1}},data(){return{is_repicking_location:!1,observer:void 0}},i18n:{messages:{fr:{},en:{}}},created(){},mounted(){this.$eventHub.$on(`module.enable_edit.${this.module_meta_filename}`,this.enableEdit),this.$eventHub.$on(`module.duplicate.${this.module_meta_filename}`,this.duplicateModule),this.$eventHub.$on(`module.remove.${this.module_meta_filename}`,this.removeModule),this.$eventHub.$on(`publication.story.scrollTo.${this.publimodule.$path}`,this.scrollToModule),this.$eventHub.$on("publication.map.click",this.setRepickLocation),this.startIntersectionObserver()},beforeDestroy(){this.$eventHub.$off(`module.enable_edit.${this.module_meta_filename}`,this.enableEdit),this.$eventHub.$off(`module.duplicate.${this.module_meta_filename}`,this.duplicateModule),this.$eventHub.$off(`module.remove.${this.module_meta_filename}`,this.removeModule),this.$eventHub.$off(`publication.story.scrollTo.${this.publimodule.$path}`,this.scrollToModule),this.$eventHub.$off("publication.map.click",this.setRepickLocation),this.endIntersectionObserver()},watch:{edit_mode(){this.$refs.textBloc&&(this.edit_mode?this.$nextTick((()=>this.$refs.textBloc.enableEditor())):this.$refs.textBloc.disableEditor()),this.edit_mode||(this.is_repicking_location=!1)}},computed:{is_associated_to_map(){return this.$getMapOptions},is_active_on_map(){return!!this.$getMapOptions&&this.$getMapOptions().opened_pin_path===this.publimodule.$path},available_module_types(){return"text"===this.publimodule.module_type?["text"]:["mosaic","carousel","files"]},pin_options(){return!!this.$getMapOptions&&this.$getMapOptions().pins_infos.find((({path:t})=>t===this.publimodule.$path))},has_coordinates(){return this.publimodule.location?.latitude&&this.publimodule.location?.longitude},edit_mode(){return this.module_being_edited===this.publimodule.$path},module_meta_filename(){return this.publimodule.$path.split("/").at(-1)},module_type(){return["ellipsis","rectangle","line","arrow"].includes(this.publimodule.module_type)?"shape":this.publimodule.module_type},show_fs_button(){return"page_by_page"!==this.page_template||!0===this.publimodule.show_fs_button},first_media(){return this.firstMedia(this.publimodule)},media_styles(){let t=0;return"center"===this.publimodule.align&&(66.6===this.publimodule.size?t=16.6:50===this.publimodule.size?t=25:33.3===this.publimodule.size&&(t=33.3)),"right"===this.publimodule.align&&(66.6===this.publimodule.size?t=33.3:50===this.publimodule.size?t=50:33.3===this.publimodule.size&&(t=66.6)),{"--module-width":this.publimodule.size||100,"--module-margin-left":t}}},methods:{async updateMeta(t){await this.$api.updateMeta({path:this.publimodule.$path,new_meta:t}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t}))},repickLocation(){this.is_repicking_location=!0,this.$eventHub.$emit("publication.map.disableTools")},showModuleOnMap(){this.$eventHub.$emit("publication.map.openPin",this.publimodule.$path)},pinButtonClick(){this.scrollToModule()},preventClickTraversing(t){this.edit_mode&&t.stopPropagation()},async setRepickLocation({longitude:t,latitude:e}){this.is_repicking_location&&(await this.updateMeta({location:{longitude:t,latitude:e}}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t})),this.is_repicking_location=!1,await new Promise((t=>setTimeout(t,100))),this.showModuleOnMap())},async eraseCoords(){await this.updateMeta({location:{}}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t}))},enableEdit(){this.$emit("update:module_being_edited",this.publimodule.$path)},disableEdit(){this.$emit("update:module_being_edited",void 0)},scrollToModule(t="smooth"){this.$el&&(console.log("scrollToModule "+this.publimodule.$path),this.$el.scrollIntoView({behavior:t,block:"start",inline:"nearest"}))},startIntersectionObserver(){let t=(t,e)=>{t.forEach((t=>{t.isIntersecting&&this.is_associated_to_map&&this.has_coordinates&&!this.is_active_on_map&&this.showModuleOnMap()}))},e="-10%";try{e=window.getComputedStyle(this.$el).getPropertyValue("scroll-margin-top")}catch(i){}this.observer=new IntersectionObserver(t,{rootMargin:`${e} 0% -80% 0%`}),this.observer.observe(this.$refs.sentinel)},endIntersectionObserver(){this.observer.unobserve(this.$el)},changeModuleType(t){const e=t.target.value;this.updateMeta({module_type:e})},async duplicateModule(){let t={};"page_by_page"===this.page_template&&(t.x=(this.publimodule.x||0)+10,t.y=(this.publimodule.y||0)+10);const e=await this.duplicateModuleWithSourceMedias({og_module:this.publimodule,addtl_meta_to_module:t});this.$emit("duplicate",e)},async removeModule(){await this.$api.deleteItem({path:this.publimodule.$path}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t})),this.$emit("remove")}}},I=z,T=(i(60291),(0,u.Z)(I,n,s,!1,null,"7f9cabaa",null)),F=T.exports},34780:function(t,e,i){"use strict";i.d(e,{Z:function(){return x}});var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_sectionsList"},[i("SectionsSummary",{directives:[{name:"show",rawName:"v-show",value:t.can_edit||t.sections.length>1,expression:"can_edit || sections.length > 1"}],attrs:{publication:t.publication,sections:t.sections,opened_section_meta_filename:t.opened_section_meta_filename,can_edit:t.can_edit},on:{toggleSection:function(e){return t.$emit("toggleSection",e)}}}),i("transition",{attrs:{name:"pagechange",mode:"out-in"}},[t.opened_section_meta_filename?i("OpenedSection",{key:t.opened_section_meta_filename,attrs:{publication:t.publication,sections:t.sections,opened_section_meta_filename:t.opened_section_meta_filename,can_edit:t.can_edit},on:{toggleSection:t.toggleSection}}):t._e()],1)],1)},s=[],o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_sectionsSummary",style:t.story_styles},[i("ReorderedList",{attrs:{field_name:"sections_list",items:t.sections,path:t.publication.$path,active_item_meta:t.opened_section_meta_filename,can_edit:t.can_edit},on:{openItem:t.openSection,createItem:t.createSection},scopedSlots:t._u([{key:"default",fn:function(e){return[e.item.section_title?[t._v(" "+t._s(e.item.section_title)+" ")]:[i("i",[t._v(t._s(t.$t("untitled")))])]]}}])})],1)},a=[],r={props:{publication:Object,sections:Array,opened_section_meta_filename:String,can_edit:Boolean},components:{},inject:{$getMapOptions:{default:!1}},data(){return{}},i18n:{messages:{fr:{create_section:"CrÃ©er un chapitre"},en:{create_section:"Create chapter"}}},created(){},mounted(){this.can_edit&&0===this.sections.length&&this.createSection(),this.openFirstSectionIfNoneOpened(),this.openExistingSectionIfNotExisting()},beforeDestroy(){},watch:{opened_section_meta_filename(){this.openFirstSectionIfNoneOpened()}},computed:{is_associated_to_map(){return this.$getMapOptions},default_view_color(){return this.$getMapOptions().default_view_color},story_styles(){return this.makeStoryStyles({publication:this.publication})},new_section_title(){let t=this.sections.length+1;const e=t=>this.$t("section")+" "+t;let i=e(t);while(this.sections.some((t=>t.section_title===i)))t++,i=e(t);return i},opened_section(){return this.sections.find((t=>this.getFilename(t.$path)===this.opened_section_meta_filename))}},methods:{openSection(t){this.$emit("toggleSection",this.getFilename(t))},openFirstSectionIfNoneOpened(){this.sections.length>0&&!this.opened_section_meta_filename&&this.openFirstSection()},openFirstSection(){const t=this.sections[0].$path;this.openSection(t)},openExistingSectionIfNotExisting(){this.opened_section_meta_filename&&!this.opened_section&&this.openFirstSection()},async createSection(){const t=await this.createSection2({publication:this.publication,type:"section",group:"sections_list",title:this.new_section_title});this.$emit("toggleSection",t)}}},l=r,c=(i(15364),i(1001)),d=(0,c.Z)(l,o,a,!1,null,"558acd15",null),h=d.exports,u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_openedSection"},[i("SingleSection",{ref:"section",attrs:{publication:t.publication,section:t.opened_section,can_edit:t.can_edit},on:{prevSection:t.prevSection}}),i("div",{staticClass:"_navBtns"},[i("div",{staticClass:"_navBtns--content"},[t.prev_section?i("button",{staticClass:"u-linkList",attrs:{type:"button"},on:{click:t.prevSection}},[i("b-icon",{attrs:{icon:"arrow-left-circle"}}),i("span",[t._v(" "+t._s(t.prev_section.section_title)+" ")])],1):t._e(),t.next_section?i("button",{staticClass:"u-linkList",attrs:{type:"button"},on:{click:t.nextSection}},[i("span",[t._v(" "+t._s(t.next_section.section_title)+" ")]),i("b-icon",{attrs:{icon:"arrow-right-circle"}})],1):t._e()])])],1)},p=[],f=i(17109),m={props:{publication:Object,sections:Array,opened_section_meta_filename:String,can_edit:Boolean},components:{SingleSection:f.Z},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{opened_section(){return this.sections.find((t=>this.getFilename(t.$path)===this.opened_section_meta_filename))},opened_section_index(){return this.sections.findIndex((t=>t.$path===this.opened_section?.$path))},next_section(){return this.opened_section_index<this.sections.length-1&&this.sections[this.opened_section_index+1]},prev_section(){return this.opened_section_index>0&&this.sections[this.opened_section_index-1]}},methods:{nextSection(){this.scrollToTop(),this.$emit("toggleSection",this.getFilename(this.next_section.$path))},prevSection(){this.scrollToTop(),this.$emit("toggleSection",this.getFilename(this.prev_section.$path))},async scrollToTop(){const t=function(t){const e=t.scrollHeight>t.clientHeight,i=window.getComputedStyle(t).overflowY,n=-1!==i.indexOf("hidden");return e&&!n},e=function(i){return i&&i!==document.body?t(i)?i:e(i.parentNode):document.body},i=e(this.$el);i.scrollTo({top:0,left:0,behavior:"smooth"})}}},v=m,g=(i(53539),(0,c.Z)(v,u,p,!1,null,"452cb012",null)),_=g.exports,y={props:{publication:Object,opened_section_meta_filename:String,can_edit:Boolean},components:{SectionsSummary:h,OpenedSection:_},provide(){return{$getMetaFilenamesAlreadyPresent:()=>this.meta_filenames_already_present}},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{sections(){return this.getSectionsWithProps({publication:this.publication,group:"sections_list"})},meta_filenames_already_present(){const{current:t,other:e}=this.getMediasAlreadyPresentInPublication({publication:this.publication,sections:this.sections,opened_section_meta_filename:this.opened_section_meta_filename});return[{label:this.$t("in_this_section"),medias:t,color:"var(--c-orange)"},{label:this.$t("in_another_section"),medias:e,color:"var(--c-bleuvert)"}]}},methods:{toggleSection(t){this.$emit("toggleSection",t)},unselectModule(){this.$eventHub.$emit("module.none_edited")}}},b=y,w=(i(88247),(0,c.Z)(b,n,s,!1,null,"8bad846e",null)),x=w.exports},17109:function(t,e,i){"use strict";i.d(e,{Z:function(){return h}});var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_singleSection"},[i("div",{staticClass:"_storyContainer"},[t.section?i("div",{staticClass:"_storyContent",style:t.story_styles},[t.can_edit||t.section.section_title||t.section.section_description?i("div",{staticClass:"_topbar"},[i("div",{staticClass:"_text"},[i("div",{staticClass:"_sectionTitle"},[i("TitleField",{attrs:{field_name:"section_title",content:t.section.section_title||t.$t("untitled"),path:t.section.$path,required:!0,maxlength:60,tag:"h1",can_edit:t.can_edit}}),t.can_edit?i("RemoveMenu",{attrs:{remove_text:t.$t("remove_section"),show_button_text:!1},on:{remove:t.removeSection}}):t._e()],1),t.section.section_description?i("TitleField",{attrs:{field_name:"section_description",label:t.can_edit?t.$t("description"):"",content:t.section.section_description,path:t.section.$path,maxlength:1280,input_type:"markdown",can_edit:t.can_edit}}):t._e()],1),t.can_edit?i("div",{staticClass:"_buttons"}):t._e()]):t._e(),i("transition-group",{staticClass:"_storyModules",attrs:{tag:"div",name:"StoryModules",appear:"",duration:700}},[t._l(t.section_modules_list,(function(e,n){return[i("div",{key:"mc_"+n,staticClass:"_spacer"},[t.can_edit?i("ModuleCreator",{attrs:{publication_path:t.publication.$path,types_available:["text","medias","files","link"]},on:{addModules:function(e){var i=e.meta_filenames;return t.insertModules({meta_filenames:i,index:n})}}}):t._e()],1),i("PublicationModule",{key:e.$path,staticClass:"_mediaPublication",attrs:{publimodule:e,module_being_edited:t.module_being_edited,module_position:1===t.section_modules_list.length?"alone":0===n?"first":n===t.section_modules_list.length-1?"last":"inbetween",can_edit:t.can_edit},on:{"update:module_being_edited":function(e){t.module_being_edited=e},moveUp:function(i){return t.moveModuleTo({path:e.$path,new_position:n-1})},moveDown:function(i){return t.moveModuleTo({path:e.$path,new_position:n+1})},duplicate:function(i){return t.duplicatePublicationMedia({source_module_path:e.$path,copy_meta_filename:i})},remove:function(i){return t.removeModule(e.$path)}}})]}))],2),t.can_edit?i("ModuleCreator",{staticClass:"_lastModule",attrs:{start_collapsed:!1,publication_path:t.publication.$path,types_available:["text","medias","files","link"]},on:{addModules:t.addModules}}):t._e()],1):t._e()])])},s=[],o=(i(52262),i(24506),i(45783)),a=i(12046),r={props:{publication:Object,section:Object,can_edit:Boolean},components:{ModuleCreator:o.Z,PublicationModule:a.Z},data(){return{medias:[],module_being_edited:void 0}},i18n:{messages:{fr:{remove_section:"Supprimer le chapitre"},en:{remove_section:"Remove this chapter"}}},created(){this.$eventHub.$on("module.none_edited",this.unselectModuleEdited)},async mounted(){},beforeDestroy(){this.$eventHub.$off("module.none_edited",this.unselectModuleEdited)},watch:{},computed:{section_modules_list(){return this.getModulesForSection({publication:this.publication,section:this.section}).map((({_module:t})=>t))},story_styles(){return this.makeStoryStyles({publication:this.publication})}},methods:{async addModules({meta_filenames:t}){await this.insertModuleMetaFilenamesToList2({publication:this.publication,section:this.section,meta_filenames:t});const e=t.at(-1);this.toggleNewModuleEdit({meta_filename:e})},async insertModules({meta_filenames:t,index:e}){await this.insertModuleMetaFilenamesToList2({publication:this.publication,section:this.section,index:e,meta_filenames:t});const i=t.at(-1);this.toggleNewModuleEdit({meta_filename:i})},toggleNewModuleEdit({meta_filename:t}){const e=this.publication.$path+"/"+t;setTimeout((()=>{this.$eventHub.$emit(`module.enable_edit.${t}`),this.$eventHub.$emit("publication.map.openPin",e)}),150)},async moveModuleTo({path:t,new_position:e}){await this.moveModuleTo2({publication:this.publication,section:this.section,meta_filename:this.getFilename(t),new_position:e})},async duplicatePublicationMedia({source_module_path:t,copy_meta_filename:e}){const i=this.getFilename(t);await this.duplicatePublicationMedia2({publication:this.publication,section:this.section,source_meta_filename:i,copy_meta_filename:e})},unselectModuleEdited(){this.module_being_edited=void 0},async removeSection(){this.$emit("prevSection"),await this.removeSection2({publication:this.publication,group:"sections_list",path:this.section.$path})},async removeModule(t){await this.removeModule2({publication:this.publication,section:this.section,path:t})}}},l=r,c=(i(59693),i(1001)),d=(0,c.Z)(l,n,s,!1,null,"93b152f4",null),h=d.exports},47123:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return g}});var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_storySectionTemplate"},[i("SectionsList",{attrs:{publication:t.publication,opened_section_meta_filename:t.opened_section_meta_filename,can_edit:t.can_edit},on:{toggleSection:function(e){return t.$emit("toggleSection",e)}}}),t.can_edit?i("PublicationSettings",[i("StorySettings",{attrs:{publication:t.publication}})],1):t._e()],1)},s=[],o=i(34780),a=i(39476),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("RangeValueInput",{staticClass:"u-spacingBottom",attrs:{label:t.$t("story_width"),value:t.publication.story_width,min:320,max:2400,step:1,ticks:[320,480,800,1200,2400],default_value:800,suffix:"px"},on:{save:function(e){return t.updatePubliMeta({story_width:e})}}}),i("ToggleInput",{attrs:{content:!0!==t.publication.story_is_not_responsive,label:t.$t("responsive"),options:{true:t.$t("responsive_instr"),false:t.$t("not_responsive_instr")}},on:{"update:content":function(e){return t.updatePubliMeta({story_is_not_responsive:!e})}}})],1)},l=[],c={props:{publication:Object},components:{},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{async updatePubliMeta(t){return await this.$api.updateMeta({path:this.publication.$path,new_meta:t})}}},d=c,h=(i(95934),i(1001)),u=(0,h.Z)(d,r,l,!1,null,"3a6cf35f",null),p=u.exports,f={props:{publication:Object,opened_section_meta_filename:String,can_edit:Boolean},components:{SectionsList:o.Z,PublicationSettings:a.Z,StorySettings:p},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{}},m=f,v=(i(20764),(0,h.Z)(m,n,s,!1,null,"397d9a1f",null)),g=v.exports},75179:function(t,e,i){"use strict";i.r(e);var n=i(8081),s=i.n(n),o=i(23645),a=i.n(o),r=a()(s());r.push([t.id,"._linkPicker[data-v-3b7f81aa]{width:100%;margin:0 auto}._addMediaBtn[data-v-3b7f81aa]{text-align:center;padding:calc(var(--spacing)*1)}._selectBtn[data-v-3b7f81aa]{display:flex;place-items:center;justify-content:center;width:100%;gap:calc(var(--spacing)/1);background:#fff}iframe[data-v-3b7f81aa]{width:100%;aspect-ratio:4/3}",""]),e["default"]=r},99526:function(t,e,i){"use strict";i.r(e);var n=i(8081),s=i.n(n),o=i(23645),a=i.n(o),r=a()(s());r.push([t.id,"._mediaPicker[data-v-32c4a41c]{position:absolute}",""]),e["default"]=r},57301:function(t,e,i){"use strict";i.r(e);var n=i(8081),s=i.n(n),o=i(23645),a=i.n(o),r=a()(s());r.push([t.id,"._publicationSettings[data-v-70ad4eb8]::part(base){z-index:50}._publicationSettings--closeBtn[data-v-70ad4eb8]{position:absolute;top:0;right:0;padding:calc(var(--spacing)/2)}",""]),e["default"]=r},87316:function(t,e,i){"use strict";i.r(e);var n=i(8081),s=i.n(n),o=i(23645),a=i.n(o),r=a()(s());r.push([t.id,"._filesList[data-v-4e0c6144]{position:relative;z-index:0;text-align:center}._listOfFiles[data-v-4e0c6144]{padding:0;margin:0;display:flex;flex-flow:column nowrap;gap:calc(var(--spacing)/4)}._reorderedFile[data-v-4e0c6144]{z-index:10;min-height:2em;background:#fff;border:1px solid var(--c-gris);display:flex;flex-flow:row nowrap;justify-content:center;word-break:break-word;align-items:center;padding:0;border-radius:2px;justify-content:space-between}._reorderedFile[data-v-4e0c6144]:focus-visible,._reorderedFile[data-v-4e0c6144]:hover{background:var(--c-gris)}._reorderedFile ._link[data-v-4e0c6144]{flex:1 1 auto;overflow:hidden;font-variant:none;font-weight:400;letter-spacing:0;font-size:var(--sl-font-size-x-small);text-decoration:none;display:flex;flex-flow:row nowrap;align-items:center;gap:calc(var(--spacing)/1)}._reorderedFile ._link>*[data-v-4e0c6144]{flex:1 1 50px}._reorderedFile ._link ._preview[data-v-4e0c6144]{flex:0 0 auto;font-size:100%;width:45px;height:45px;overflow:hidden;border-radius:4px;background:var(--c-gris_clair)}._reorderedFile ._link ._preview[data-v-4e0c6144]:focus-visible,._reorderedFile ._link ._preview[data-v-4e0c6144]:hover{background:#fff}._reorderedFile ._link ._preview._preview--none[data-v-4e0c6144]{display:flex;justify-content:center;align-items:center;font-size:150%}._reorderedFile ._link ._preview[data-v-4e0c6144]  ._mediaContent--image{position:absolute;width:100%;height:100%;-o-object-fit:cover;object-fit:cover;max-width:none}._reorderedFile ._link ._link--filename[data-v-4e0c6144]{flex:1 1 0;text-align:left;white-space:break-spaces}._reorderedFile ._link ._link--filename[data-v-4e0c6144],._reorderedFile ._link ._link--filesize[data-v-4e0c6144]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;overflow:hidden}._reorderedFile ._link ._link--filesize[data-v-4e0c6144]{flex:0 0 50px}._addBtnSection[data-v-4e0c6144]{padding:calc(var(--spacing)/4);text-align:left}",""]),e["default"]=r},52496:function(t,e,i){"use strict";i.r(e);var n=i(8081),s=i.n(n),o=i(23645),a=i.n(o),r=a()(s());r.push([t.id,"._mainCarousel[data-v-16fd47c8],._navCarousel[data-v-16fd47c8]{position:relative;width:100%}._mainCarousel[data-v-16fd47c8]  ._mediaContent,._navCarousel[data-v-16fd47c8]  ._mediaContent{width:100%;height:100%}._mainCarousel[data-v-16fd47c8]  ._mediaContent img,._navCarousel[data-v-16fd47c8]  ._mediaContent img{width:100%;height:100%}._mainCarousel[data-v-16fd47c8]  ._mediaContent ._iframeStylePreview,._mainCarousel[data-v-16fd47c8]  ._mediaContent ._mediaContent--iframe,._mainCarousel[data-v-16fd47c8]  ._mediaContent ._mediaContent--image,._mainCarousel[data-v-16fd47c8]  ._mediaContent .plyr--video,._mainCarousel[data-v-16fd47c8]  ._mediaContent .plyr__poster,._navCarousel[data-v-16fd47c8]  ._mediaContent ._iframeStylePreview,._navCarousel[data-v-16fd47c8]  ._mediaContent ._mediaContent--iframe,._navCarousel[data-v-16fd47c8]  ._mediaContent ._mediaContent--image,._navCarousel[data-v-16fd47c8]  ._mediaContent .plyr--video,._navCarousel[data-v-16fd47c8]  ._mediaContent .plyr__poster{position:absolute;height:100%;width:100%;-o-object-fit:var(--object-fit,cover);object-fit:var(--object-fit,cover);background-size:var(--object-fit,cover)}._carousel[data-v-16fd47c8]{background:var(--c-gris)}._mainCarousel .carousel-cell[data-v-16fd47c8]{width:100%;aspect-ratio:1/1;margin-right:calc(var(--spacing)*1)}._mainCarousel[data-v-16fd47c8]  .flickity-page-dots{bottom:0}._mainCarousel[data-v-16fd47c8]  .flickity-page-dots .dot{background:var(--c-gris);border:none;opacity:1;padding:calc(var(--spacing)/4);border:2px solid transparent}._mainCarousel[data-v-16fd47c8]  .flickity-page-dots .dot:active,._mainCarousel[data-v-16fd47c8]  .flickity-page-dots .dot:focus-visible,._mainCarousel[data-v-16fd47c8]  .flickity-page-dots .dot:hover{border-color:var(--active-color)}._mainCarousel[data-v-16fd47c8]  .flickity-page-dots .dot.is-selected{background:var(--active-color);border-color:var(--active-color)}._navCarousel[data-v-16fd47c8]{margin-top:calc(var(--spacing)/2)}._navCarousel .carousel-cell[data-v-16fd47c8]{width:160px;height:90px;margin-right:calc(var(--spacing)/2)}._mediaPickerTile[data-v-16fd47c8]{position:absolute;top:0;left:100%;display:flex;place-content:center;height:100%;align-items:center;pointer-events:none}._mediaPickerTile>*[data-v-16fd47c8]{pointer-events:auto}._btnRow[data-v-16fd47c8]{position:absolute;padding:calc(var(--spacing)/2);top:0;right:0;left:auto;z-index:100;display:flex;flex-flow:row wrap;gap:calc(var(--spacing)/2);pointer-events:none}._btnRow button[data-v-16fd47c8]{pointer-events:auto;border-radius:4px;color:var(--c-noir);background:hsla(0,0%,100%,.4);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);padding:4px}",""]),e["default"]=r},83478:function(t,e,i){"use strict";i.r(e);var n=i(8081),s=i.n(n),o=i(23645),a=i.n(o),r=a()(s());r.push([t.id,"._mediasModule[data-v-dd326110]{--number_of_medias:1;position:relative}._dropzone[data-v-dd326110]{position:absolute;width:100%;height:100%}._dropzone[data-v-dd326110]  ._dropNotice{transform:rotate(-90deg)}sl-icon-button[data-v-dd326110]::part(base){font-size:1.5em;color:var(--c-bleuvert)}",""]),e["default"]=r},66721:function(t,e,i){"use strict";i.r(e);var n=i(8081),s=i.n(n),o=i(23645),a=i.n(o),r=a()(s());r.push([t.id,"._moduleCreator[data-v-1435570e]{position:relative;display:flex;justify-content:flex-start;align-items:center;width:100%;pointer-events:none;gap:calc(var(--spacing)/4);color:var(--c-bleuvert);border-radius:1rem;--icon-size:1.2rem}._moduleCreator>*[data-v-1435570e]{pointer-events:auto}._typePicker[data-v-1435570e]{display:flex;flex-flow:row wrap;justify-content:flex-start;align-items:center;gap:calc(var(--spacing)/4)}._dropNotice[data-v-1435570e]{pointer-events:none}sl-icon-button[data-v-1435570e]::part(base){font-size:1.5em;color:var(--c-bleuvert)}._showModuleSelector[data-v-1435570e]{transition:all .4s cubic-bezier(.19,1,.22,1)}.u-addBtn[data-v-1435570e]{color:var(--c-noir)}",""]),e["default"]=r},86791:function(t,e,i){"use strict";i.r(e);var n=i(8081),s=i.n(n),o=i(23645),a=i.n(o),r=a()(s());r.push([t.id,"._mediaGrid[data-v-73040d67]{position:relative;width:100%}._mediaGrid.is--multipleMedias[data-v-73040d67]{display:flex;flex-flow:row nowrap;gap:calc(var(--spacing)/4);transition:flex .25s cubic-bezier(.19,1,.22,1)}._mediaGrid>._mediaGrid--item[data-v-73040d67]{position:relative;transition:flex .25s cubic-bezier(.19,1,.22,1)}._mediaGrid.is--multipleMedias>._mediaGrid--item[data-v-73040d67]{aspect-ratio:1/1;overflow:hidden;background:var(--c-gris_clair);flex:1 1 calc(100%/var(--number_of_medias))}._mediaGrid.is--multipleMedias[data-v-73040d67]  ._mediaContent{width:100%;height:100%}._mediaGrid.is--multipleMedias[data-v-73040d67]  ._mediaContent img{width:100%;height:100%}._mediaGrid.is--multipleMedias[data-v-73040d67]  ._mediaContent ._iframeStylePreview,._mediaGrid.is--multipleMedias[data-v-73040d67]  ._mediaContent ._mediaContent--iframe,._mediaGrid.is--multipleMedias[data-v-73040d67]  ._mediaContent ._mediaContent--image,._mediaGrid.is--multipleMedias[data-v-73040d67]  ._mediaContent .plyr--video,._mediaGrid.is--multipleMedias[data-v-73040d67]  ._mediaContent .plyr__poster{position:absolute;height:100%;width:100%;-o-object-fit:var(--object-fit,cover);object-fit:var(--object-fit,cover);background-size:var(--object-fit,cover)}._mediaPickerTile[data-v-73040d67]{position:absolute;top:0;left:100%;display:flex;place-content:center;height:100%;align-items:center;pointer-events:none}._mediaPickerTile>*[data-v-73040d67]{pointer-events:auto}._btnRow[data-v-73040d67]{position:absolute;padding:calc(var(--spacing)/2);top:0;right:0;left:auto;z-index:100;display:flex;flex-flow:row wrap;gap:calc(var(--spacing)/2);pointer-events:none}._btnRow button[data-v-73040d67]{pointer-events:auto;border-radius:4px;color:var(--c-noir);background:hsla(0,0%,100%,.4);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);padding:4px}._noSourceMedia[data-v-73040d67]{width:100%;padding:calc(var(--spacing)/4);text-align:center}",""]),e["default"]=r},93387:function(t,e,i){"use strict";i.r(e);var n=i(8081),s=i.n(n),o=i(23645),a=i.n(o),r=a()(s());r.push([t.id,"._publicationModule[data-v-7f9cabaa]{position:relative;scroll-margin-top:calc(var(--spacing)*1.5)}._publicationModule[data-type=shape] ._content[data-v-7f9cabaa],._publicationModule[data-type=shape] svg[data-v-7f9cabaa]{overflow:visible;stroke-linejoin:arcs;stroke-linecap:round}._publicationModule[data-type=shape] svg[data-v-7f9cabaa]{width:100%;height:100%}._publicationModule[data-type=shape] svg rect[data-v-7f9cabaa]{transition:all .25s cubic-bezier(.19,1,.22,1)}._publicationModule ._content[data-v-7f9cabaa]{position:relative;width:calc(var(--module-width)*1%);margin-left:calc(var(--module-margin-left)*1%);transition:all .4s cubic-bezier(.19,1,.22,1)}._selectorIndicator[data-v-7f9cabaa]{--highlight-margin:calc(var(--spacing)/-2);position:absolute;top:0;left:var(--highlight-margin);bottom:var(--highlight-margin);right:var(--highlight-margin);pointer-events:none}._sideOptions[data-v-7f9cabaa]{position:relative;margin-bottom:calc(var(--spacing)/2);width:100%;margin:0 calc(var(--spacing)/-2) calc(var(--spacing)/2);width:calc(100% + var(--spacing)/1)}._sideOptions ._sideOptions--content[data-v-7f9cabaa]{width:100%;margin:0 auto;padding:calc(var(--spacing)/4);background:var(--active-color);box-shadow:var(--panel-shadows);border-top-left-radius:6px;border-top-right-radius:6px;gap:calc(var(--spacing)/2);display:flex;align-items:center}._arrows[data-v-7f9cabaa]{flex:0 0 auto;display:flex;flex-flow:column nowrap;justify-content:space-between;align-content:space-between}._sideBtns[data-v-7f9cabaa]{display:block;width:var(--side-width);height:var(--side-width);padding:0;border-radius:calc(var(--side-width)/2);background:transparent}._sideBtns[data-v-7f9cabaa]:focus,._sideBtns[data-v-7f9cabaa]:hover{background:rgba(0,0,0,.1)}._options[data-v-7f9cabaa]{flex:1 1 auto;position:relative;display:flex;flex-flow:row wrap;align-items:center;gap:calc(var(--spacing)/4)}._saveBtn[data-v-7f9cabaa]{flex:0 0 auto;text-align:right}._advanced_menu[data-v-7f9cabaa],._carto[data-v-7f9cabaa]{flex:1 1 auto;display:flex;flex-flow:row wrap;align-items:center;gap:calc(var(--spacing)/4)}._buttonRow[data-v-7f9cabaa]{display:flex;padding:calc(var(--spacing)/4);gap:calc(var(--spacing)/2);align-items:center}._buttonRow .is--active[data-v-7f9cabaa]{color:#fff}._floatingEditBtn[data-v-7f9cabaa]{position:sticky;z-index:1;height:0;top:0}._floatingEditBtn>*[data-v-7f9cabaa]{position:absolute;top:0;right:0;margin:calc(var(--spacing)/2)}._repickNotice[data-v-7f9cabaa]{position:absolute;top:0;left:0;right:0;bottom:0;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);background:hsla(0,0%,91%,.7);padding:calc(var(--spacing)/2);display:flex;flex-flow:column nowrap}._repickNotice--content[data-v-7f9cabaa]{background:#fff;padding:calc(var(--spacing)/2)}._pinButton[data-v-7f9cabaa]{position:absolute;background:transparent;top:0;left:0;z-index:1;margin:calc(var(--spacing)/4);padding:calc(var(--spacing)/4)}._publicationModule[data-type=text] ._pinButton[data-v-7f9cabaa]{position:relative;float:left;margin-top:calc(var(--spacing)/4);margin-right:calc(var(--spacing)/4)}._pinButton.is--active[data-v-7f9cabaa]{background:var(--c-bleuvert)}._captionField[data-v-7f9cabaa]{text-align:left;margin-top:calc(var(--spacing)/4);display:flex;flex-flow:row wrap;gap:calc(var(--spacing)*1)}",""]),e["default"]=r},82090:function(t,e,i){"use strict";i.r(e);var n=i(8081),s=i.n(n),o=i(23645),a=i.n(o),r=a()(s());r.push([t.id,"._navBtns[data-v-452cb012]{justify-content:center;padding-bottom:calc(var(--spacing)*4)}._navBtns[data-v-452cb012],._navBtns--content[data-v-452cb012]{display:flex;align-items:center}._navBtns--content[data-v-452cb012]{gap:calc(var(--spacing)/1)}",""]),e["default"]=r},7584:function(t,e,i){"use strict";i.r(e);var n=i(8081),s=i.n(n),o=i(23645),a=i.n(o),r=a()(s());r.push([t.id,"._sectionsList[data-v-8bad846e]{position:relative;padding:calc(var(--spacing)*1) calc(var(--spacing)*1 + 8%)}",""]),e["default"]=r},53218:function(t,e,i){"use strict";i.r(e);var n=i(8081),s=i.n(n),o=i(23645),a=i.n(o),r=a()(s());r.push([t.id,"._sectionsSummary[data-v-558acd15]{width:100%;margin:0 auto;margin-bottom:calc(var(--spacing)*2)}._createSection[data-v-558acd15]{padding:calc(var(--spacing)/4)}",""]),e["default"]=r},11218:function(t,e,i){"use strict";i.r(e);var n=i(8081),s=i.n(n),o=i(23645),a=i.n(o),r=a()(s());r.push([t.id,"._singleSection[data-v-93b152f4]{position:relative;display:flex;justify-content:center;flex-flow:column nowrap;align-items:center;margin:0 auto calc(var(--spacing)*4)}._storyContainer[data-v-93b152f4]{width:100%}._storyContent[data-v-93b152f4]{width:100%;background:#fff;max-width:800px;padding:0;margin:0 auto;padding-bottom:calc(var(--spacing)*2);transition:width .25s cubic-bezier(.19,1,.22,1)}._sectionTitle[data-v-93b152f4]{display:flex;align-items:baseline}._mediaPublication[data-v-93b152f4]{position:relative}._mediaPublication[data-v-93b152f4] >._content{min-height:45px}._mediaPublication[data-v-93b152f4]  ._mediaContent--image,._mediaPublication[data-v-93b152f4]  .plyr{border-radius:3px}._spacer[data-v-93b152f4]{min-height:3rem;display:flex;justify-content:flex-start;align-items:center;transition:all .2s linear}._spacer[data-v-93b152f4]  ._moduleCreator.is--collapsed{padding:0}._topbar[data-v-93b152f4]{display:flex;flex-flow:row wrap;align-items:baseline;justify-content:space-between;margin:calc(var(--spacing)*1) 0 0}._topbar>._text[data-v-93b152f4]{flex:1 1 56ch}._topbar>._buttons[data-v-93b152f4]{flex:1 1 auto;display:flex;flex-flow:row wrap;gap:calc(var(--spacing)*1)}._lastModule[data-v-93b152f4]{margin-top:calc(var(--spacing)*2)}",""]),e["default"]=r},59630:function(t,e,i){"use strict";i.r(e);var n=i(8081),s=i.n(n),o=i(23645),a=i.n(o),r=a()(s());r.push([t.id,"",""]),e["default"]=r},35339:function(t,e,i){"use strict";i.r(e);var n=i(8081),s=i.n(n),o=i(23645),a=i.n(o),r=a()(s());r.push([t.id,"._storySectionTemplate[data-v-397d9a1f]{position:relative}",""]),e["default"]=r},59691:function(t,e,i){"use strict";i.r(e);var n=i(8081),s=i.n(n),o=i(23645),a=i.n(o),r=a()(s());r.push([t.id,"/*! Flickity v2.3.0\nhttps://flickity.metafizzy.co\n---------------------------------------------- */.flickity-enabled{position:relative}.flickity-enabled:focus{outline:none}.flickity-viewport{overflow:hidden;position:relative;height:100%}.flickity-slider{position:absolute;width:100%;height:100%}.flickity-enabled.is-draggable{-webkit-tap-highlight-color:transparent;-webkit-user-select:none;-moz-user-select:none;user-select:none}.flickity-enabled.is-draggable .flickity-viewport{cursor:move;cursor:grab}.flickity-enabled.is-draggable .flickity-viewport.is-pointer-down{cursor:grabbing}.flickity-button{position:absolute;background:hsla(0,0%,100%,.75);border:none;color:#333}.flickity-button:hover{background:#fff;cursor:pointer}.flickity-button:focus{outline:none;box-shadow:0 0 0 5px #19f}.flickity-button:active{opacity:.6}.flickity-button:disabled{opacity:.3;cursor:auto;pointer-events:none}.flickity-button-icon{fill:currentColor}.flickity-prev-next-button{top:50%;width:44px;height:44px;border-radius:50%;transform:translateY(-50%)}.flickity-prev-next-button.previous{left:10px}.flickity-prev-next-button.next{right:10px}.flickity-rtl .flickity-prev-next-button.previous{left:auto;right:10px}.flickity-rtl .flickity-prev-next-button.next{right:auto;left:10px}.flickity-prev-next-button .flickity-button-icon{position:absolute;left:20%;top:20%;width:60%;height:60%}.flickity-page-dots{position:absolute;width:100%;bottom:-25px;padding:0;margin:0;list-style:none;text-align:center;line-height:1}.flickity-rtl .flickity-page-dots{direction:rtl}.flickity-page-dots .dot{display:inline-block;width:10px;height:10px;margin:0 8px;background:#333;border-radius:50%;opacity:.25;cursor:pointer}.flickity-page-dots .dot.is-selected{opacity:1}",""]),e["default"]=r},95240:function(t,e,i){var n,s;(function(o,a){"use strict";n=a,s="function"===typeof n?n.call(e,i,e,t):n,void 0===s||(t.exports=s)})(window,(function(){"use strict";var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i],s=n+"MatchesSelector";if(t[s])return s}}();return function(e,i){return e[t](i)}}))},26845:function(t,e,i){var n,s;i(57658),
/*!
 * Flickity imagesLoaded v2.0.0
 * enables imagesLoaded option for Flickity
 */
function(o,a){n=[i(99110),i(76674)],s=function(t,e){return a(o,t,e)}.apply(e,n),void 0===s||(t.exports=s)}(window,(function(t,e,i){"use strict";e.createMethods.push("_createImagesLoaded");var n=e.prototype;return n._createImagesLoaded=function(){this.on("activate",this.imagesLoaded)},n.imagesLoaded=function(){if(this.options.imagesLoaded){var t=this;i(this.slider).on("progress",e)}function e(e,i){var n=t.getParentCell(i.img);t.cellSizeChange(n&&n.element),t.options.freeScroll||t.positionSliderAtSelected()}},e}))},98203:function(t,e,i){var n,s;i(57658),function(o,a){n=a,s="function"===typeof n?n.call(e,i,e,t):n,void 0===s||(t.exports=s)}("undefined"!=typeof window&&window,(function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},n=i[t]=i[t]||{};return n[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],s=0;s<i.length;s++){var o=i[s],a=n&&n[o];a&&(this.off(t,o),delete n[o]),o.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}))},79334:function(t,e,i){var n,s;i(57658),function(o,a){n=[i(95240)],s=function(t){return a(o,t)}.apply(e,n),void 0===s||(t.exports=s)}(window,(function(t,e){"use strict";var i={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e}},n=Array.prototype.slice;i.makeArray=function(t){if(Array.isArray(t))return t;if(null===t||void 0===t)return[];var e="object"==typeof t&&"number"==typeof t.length;return e?n.call(t):[t]},i.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},i.getParent=function(t,i){while(t.parentNode&&t!=document.body)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,n){t=i.makeArray(t);var s=[];return t.forEach((function(t){if(t instanceof HTMLElement)if(n){e(t,n)&&s.push(t);for(var i=t.querySelectorAll(n),o=0;o<i.length;o++)s.push(i[o])}else s.push(t)})),s},i.debounceMethod=function(t,e,i){i=i||100;var n=t.prototype[e],s=e+"Timeout";t.prototype[e]=function(){var t=this[s];clearTimeout(t);var e=arguments,o=this;this[s]=setTimeout((function(){n.apply(o,e),delete o[s]}),i)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,(function(t,e,i){return e+"-"+i})).toLowerCase()};var s=t.console;return i.htmlInit=function(e,n){i.docReady((function(){var o=i.toDashed(n),a="data-"+o,r=document.querySelectorAll("["+a+"]"),l=document.querySelectorAll(".js-"+o),c=i.makeArray(r).concat(i.makeArray(l)),d=a+"-options",h=t.jQuery;c.forEach((function(t){var i,o=t.getAttribute(a)||t.getAttribute(d);try{i=o&&JSON.parse(o)}catch(l){return void(s&&s.error("Error parsing "+a+" on "+t.className+": "+l))}var r=new e(t,i);h&&h.data(t,n,r)}))}))},i}))},85393:function(t,e,i){var n,s;(function(o,a){n=[i(48816),i(79334)],s=function(t,e){return a(o,t,e)}.apply(e,n),void 0===s||(t.exports=s)})(window,(function(t,e,i){"use strict";function n(t){var e=document.createDocumentFragment();return t.forEach((function(t){e.appendChild(t.element)})),e}var s=e.prototype;return s.insert=function(t,e){var i=this._makeCells(t);if(i&&i.length){var s=this.cells.length;e=void 0===e?s:e;var o=n(i),a=e==s;if(a)this.slider.appendChild(o);else{var r=this.cells[e].element;this.slider.insertBefore(o,r)}if(0===e)this.cells=i.concat(this.cells);else if(a)this.cells=this.cells.concat(i);else{var l=this.cells.splice(e,s-e);this.cells=this.cells.concat(i).concat(l)}this._sizeCells(i),this.cellChange(e,!0)}},s.append=function(t){this.insert(t,this.cells.length)},s.prepend=function(t){this.insert(t,0)},s.remove=function(t){var e=this.getCells(t);if(e&&e.length){var n=this.cells.length-1;e.forEach((function(t){t.remove();var e=this.cells.indexOf(t);n=Math.min(e,n),i.removeFrom(this.cells,t)}),this),this.cellChange(n,!0)}},s.cellSizeChange=function(t){var e=this.getCell(t);if(e){e.getSize();var i=this.cells.indexOf(e);this.cellChange(i)}},s.cellChange=function(t,e){var i=this.selectedElement;this._positionCells(t),this._getWrapShiftCells(),this.setGallerySize();var n=this.getCell(i);n&&(this.selectedIndex=this.getCellSlideIndex(n)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[t]),this.select(this.selectedIndex),e&&this.positionSliderAtSelected()},e}))},93073:function(t,e,i){var n,s;(function(o,a){n=[i(79334)],s=function(t){return a(o,t)}.apply(e,n),void 0===s||(t.exports=s)})(window,(function(t,e){"use strict";var i={startAnimation:function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},animate:function(){this.applyDragForce(),this.applySelectedAttraction();var t=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(t),this.isAnimating){var e=this;requestAnimationFrame((function(){e.animate()}))}},positionSlider:function(){var t=this.x;this.options.wrapAround&&this.cells.length>1&&(t=e.modulo(t,this.slideableWidth),t-=this.slideableWidth,this.shiftWrapCells(t)),this.setTranslateX(t,this.isAnimating),this.dispatchScrollEvent()},setTranslateX:function(t,e){t+=this.cursorPosition,t=this.options.rightToLeft?-t:t;var i=this.getPositionValue(t);this.slider.style.transform=e?"translate3d("+i+",0,0)":"translateX("+i+")"},dispatchScrollEvent:function(){var t=this.slides[0];if(t){var e=-this.x-t.target,i=e/this.slidesWidth;this.dispatchEvent("scroll",null,[i,e])}},positionSliderAtSelected:function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},getPositionValue:function(t){return this.options.percentPosition?.01*Math.round(t/this.size.innerWidth*1e4)+"%":Math.round(t)+"px"},settle:function(t){var e=!this.isPointerDown&&Math.round(100*this.x)==Math.round(100*t);e&&this.restingFrames++,this.restingFrames>2&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},shiftWrapCells:function(t){var e=this.cursorPosition+t;this._shiftCells(this.beforeShiftCells,e,-1);var i=this.size.innerWidth-(t+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,i,1)},_shiftCells:function(t,e,i){for(var n=0;n<t.length;n++){var s=t[n],o=e>0?i:0;s.wrapShift(o),e-=s.size.outerWidth}},_unshiftCells:function(t){if(t&&t.length)for(var e=0;e<t.length;e++)t[e].wrapShift(0)},integratePhysics:function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},applyForce:function(t){this.velocity+=t},getFrictionFactor:function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},getRestingPosition:function(){return this.x+this.velocity/(1-this.getFrictionFactor())},applyDragForce:function(){if(this.isDraggable&&this.isPointerDown){var t=this.dragX-this.x,e=t-this.velocity;this.applyForce(e)}},applySelectedAttraction:function(){var t=this.isDraggable&&this.isPointerDown;if(!t&&!this.isFreeScrolling&&this.slides.length){var e=-1*this.selectedSlide.target-this.x,i=e*this.options.selectedAttraction;this.applyForce(i)}}};return i}))},11290:function(t,e,i){var n,s;(function(o,a){n=[i(84307)],s=function(t){return a(o,t)}.apply(e,n),void 0===s||(t.exports=s)})(window,(function(t,e){"use strict";function i(t,e){this.element=t,this.parent=e,this.create()}var n=i.prototype;return n.create=function(){this.element.style.position="absolute",this.element.setAttribute("aria-hidden","true"),this.x=0,this.shift=0,this.element.style[this.parent.originSide]=0},n.destroy=function(){this.unselect(),this.element.style.position="";var t=this.parent.originSide;this.element.style[t]="",this.element.style.transform="",this.element.removeAttribute("aria-hidden")},n.getSize=function(){this.size=e(this.element)},n.setPosition=function(t){this.x=t,this.updateTarget(),this.renderPosition(t)},n.updateTarget=n.setDefaultTarget=function(){var t="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[t]+this.size.width*this.parent.cellAlign},n.renderPosition=function(t){var e="left"===this.parent.originSide?1:-1,i=this.parent.options.percentPosition?t*e*(this.parent.size.innerWidth/this.size.width):t*e;this.element.style.transform="translateX("+this.parent.getPositionValue(i)+")"},n.select=function(){this.element.classList.add("is-selected"),this.element.removeAttribute("aria-hidden")},n.unselect=function(){this.element.classList.remove("is-selected"),this.element.setAttribute("aria-hidden","true")},n.wrapShift=function(t){this.shift=t,this.renderPosition(this.x+this.parent.slideableWidth*t)},n.remove=function(){this.element.parentNode.removeChild(this.element)},i}))},74856:function(t,e,i){var n,s;i(57658),function(o,a){n=[i(48816),i(51055),i(79334)],s=function(t,e,i){return a(o,t,e,i)}.apply(e,n),void 0===s||(t.exports=s)}(window,(function(t,e,i,n){"use strict";n.extend(e.defaults,{draggable:">1",dragThreshold:3}),e.createMethods.push("_createDrag");var s=e.prototype;n.extend(s,i.prototype),s._touchActionValue="pan-y",s._createDrag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("deactivate",this.onDeactivateDrag),this.on("cellChange",this.updateDraggable)},s.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},s.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},s.updateDraggable=function(){">1"==this.options.draggable?this.isDraggable=this.slides.length>1:this.isDraggable=this.options.draggable,this.isDraggable?this.element.classList.add("is-draggable"):this.element.classList.remove("is-draggable")},s.bindDrag=function(){this.options.draggable=!0,this.updateDraggable()},s.unbindDrag=function(){this.options.draggable=!1,this.updateDraggable()},s._uiChangeDrag=function(){delete this.isFreeScrolling},s.pointerDown=function(e,i){if(this.isDraggable){var n=this.okayPointerDown(e);n&&(this._pointerDownPreventDefault(e),this.pointerDownFocus(e),document.activeElement!=this.element&&this.pointerDownBlur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=a(),t.addEventListener("scroll",this),this._pointerDownDefault(e,i))}else this._pointerDownDefault(e,i)},s._pointerDownDefault=function(t,e){this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY},this._bindPostStartEvents(t),this.dispatchEvent("pointerDown",t,[e])};var o={INPUT:!0,TEXTAREA:!0,SELECT:!0};function a(){return{x:t.pageXOffset,y:t.pageYOffset}}return s.pointerDownFocus=function(t){var e=o[t.target.nodeName];e||this.focus()},s._pointerDownPreventDefault=function(t){var e="touchstart"==t.type,i="touch"==t.pointerType,n=o[t.target.nodeName];e||i||n||t.preventDefault()},s.hasDragStarted=function(t){return Math.abs(t.x)>this.options.dragThreshold},s.pointerUp=function(t,e){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",t,[e]),this._dragPointerUp(t,e)},s.pointerDone=function(){t.removeEventListener("scroll",this),delete this.pointerDownScroll},s.dragStart=function(e,i){this.isDraggable&&(this.dragStartPosition=this.x,this.startAnimation(),t.removeEventListener("scroll",this),this.dispatchEvent("dragStart",e,[i]))},s.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.dispatchEvent("pointerMove",t,[e,i]),this._dragMove(t,e,i)},s.dragMove=function(t,e,i){if(this.isDraggable){t.preventDefault(),this.previousDragX=this.dragX;var n=this.options.rightToLeft?-1:1;this.options.wrapAround&&(i.x%=this.slideableWidth);var s=this.dragStartPosition+i.x*n;if(!this.options.wrapAround&&this.slides.length){var o=Math.max(-this.slides[0].target,this.dragStartPosition);s=s>o?.5*(s+o):s;var a=Math.min(-this.getLastSlide().target,this.dragStartPosition);s=s<a?.5*(s+a):s}this.dragX=s,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",t,[e,i])}},s.dragEnd=function(t,e){if(this.isDraggable){this.options.freeScroll&&(this.isFreeScrolling=!0);var i=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var n=this.getRestingPosition();this.isFreeScrolling=-n>this.slides[0].target&&-n<this.getLastSlide().target}else this.options.freeScroll||i!=this.selectedIndex||(i+=this.dragEndBoostSelect());delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(i),delete this.isDragSelect,this.dispatchEvent("dragEnd",t,[e])}},s.dragEndRestingSelect=function(){var t=this.getRestingPosition(),e=Math.abs(this.getSlideDistance(-t,this.selectedIndex)),i=this._getClosestResting(t,e,1),n=this._getClosestResting(t,e,-1),s=i.distance<n.distance?i.index:n.index;return s},s._getClosestResting=function(t,e,i){var n=this.selectedIndex,s=1/0,o=this.options.contain&&!this.options.wrapAround?function(t,e){return t<=e}:function(t,e){return t<e};while(o(e,s)){if(n+=i,s=e,e=this.getSlideDistance(-t,n),null===e)break;e=Math.abs(e)}return{distance:s,index:n-i}},s.getSlideDistance=function(t,e){var i=this.slides.length,s=this.options.wrapAround&&i>1,o=s?n.modulo(e,i):e,a=this.slides[o];if(!a)return null;var r=s?this.slideableWidth*Math.floor(e/i):0;return t-(a.target+r)},s.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||new Date-this.dragMoveTime>100)return 0;var t=this.getSlideDistance(-this.dragX,this.selectedIndex),e=this.previousDragX-this.dragX;return t>0&&e>0?1:t<0&&e<0?-1:0},s.staticClick=function(t,e){var i=this.getParentCell(t.target),n=i&&i.element,s=i&&this.cells.indexOf(i);this.dispatchEvent("staticClick",t,[e,n,s])},s.onscroll=function(){var t=a(),e=this.pointerDownScroll.x-t.x,i=this.pointerDownScroll.y-t.y;(Math.abs(e)>3||Math.abs(i)>3)&&this._pointerDone()},e}))},48816:function(t,e,i){var n,s;i(57658),function(o,a){n=[i(98203),i(84307),i(79334),i(11290),i(74875),i(93073)],s=function(t,e,i,n,s,r){return a(o,t,e,i,n,s,r)}.apply(e,n),void 0===s||(t.exports=s)}(window,(function(t,e,i,n,s,o,a){"use strict";var r=t.jQuery,l=t.getComputedStyle,c=t.console;function d(t,e){t=n.makeArray(t);while(t.length)e.appendChild(t.shift())}var h=0,u={};function p(t,e){var i=n.getQueryElement(t);if(i){if(this.element=i,this.element.flickityGUID){var s=u[this.element.flickityGUID];return s&&s.option(e),s}r&&(this.$element=r(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e),this._create()}else c&&c.error("Bad element for Flickity: "+(i||t))}p.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},p.createMethods=[];var f=p.prototype;n.extend(f,e.prototype),f._create=function(){var e=this.guid=++h;for(var i in this.element.flickityGUID=e,u[e]=this,this.selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&t.addEventListener("resize",this),this.options.on){var n=this.options.on[i];this.on(i,n)}p.createMethods.forEach((function(t){this[t]()}),this),this.options.watchCSS?this.watchCSS():this.activate()},f.option=function(t){n.extend(this.options,t)},f.activate=function(){if(!this.isActive){this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize();var t=this._filterFindCellElements(this.element.children);d(t,this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate"),this.selectInitialIndex(),this.isInitActivated=!0,this.dispatchEvent("ready")}},f._createSlider=function(){var t=document.createElement("div");t.className="flickity-slider",t.style[this.originSide]=0,this.slider=t},f._filterFindCellElements=function(t){return n.filterFindElements(t,this.options.cellSelector)},f.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},f._makeCells=function(t){var e=this._filterFindCellElements(t),i=e.map((function(t){return new s(t,this)}),this);return i},f.getLastCell=function(){return this.cells[this.cells.length-1]},f.getLastSlide=function(){return this.slides[this.slides.length-1]},f.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},f._positionCells=function(t){t=t||0,this.maxCellHeight=t&&this.maxCellHeight||0;var e=0;if(t>0){var i=this.cells[t-1];e=i.x+i.size.outerWidth}for(var n=this.cells.length,s=t;s<n;s++){var o=this.cells[s];o.setPosition(e),e+=o.size.outerWidth,this.maxCellHeight=Math.max(o.size.outerHeight,this.maxCellHeight)}this.slideableWidth=e,this.updateSlides(),this._containSlides(),this.slidesWidth=n?this.getLastSlide().target-this.slides[0].target:0},f._sizeCells=function(t){t.forEach((function(t){t.getSize()}))},f.updateSlides=function(){if(this.slides=[],this.cells.length){var t=new o(this);this.slides.push(t);var e="left"==this.originSide,i=e?"marginRight":"marginLeft",n=this._getCanCellFit();this.cells.forEach((function(e,s){if(t.cells.length){var a=t.outerWidth-t.firstMargin+(e.size.outerWidth-e.size[i]);n.call(this,s,a)||(t.updateTarget(),t=new o(this),this.slides.push(t)),t.addCell(e)}else t.addCell(e)}),this),t.updateTarget(),this.updateSelectedSlide()}},f._getCanCellFit=function(){var t=this.options.groupCells;if(!t)return function(){return!1};if("number"==typeof t){var e=parseInt(t,10);return function(t){return t%e!==0}}var i="string"==typeof t&&t.match(/^(\d+)%$/),n=i?parseInt(i[1],10)/100:1;return function(t,e){return e<=(this.size.innerWidth+1)*n}},f._init=f.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},f.getSize=function(){this.size=i(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var m={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};return f.setCellAlign=function(){var t=m[this.options.cellAlign];this.cellAlign=t?t[this.originSide]:this.options.cellAlign},f.setGallerySize=function(){if(this.options.setGallerySize){var t=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=t+"px"}},f._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);var t=this.cursorPosition,e=this.cells.length-1;this.beforeShiftCells=this._getGapCells(t,e,-1),t=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(t,0,1)}},f._getGapCells=function(t,e,i){var n=[];while(t>0){var s=this.cells[e];if(!s)break;n.push(s),e+=i,t-=s.size.outerWidth}return n},f._containSlides=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length){var t=this.options.rightToLeft,e=t?"marginRight":"marginLeft",i=t?"marginLeft":"marginRight",n=this.slideableWidth-this.getLastCell().size[i],s=n<this.size.innerWidth,o=this.cursorPosition+this.cells[0].size[e],a=n-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach((function(t){s?t.target=n*this.cellAlign:(t.target=Math.max(t.target,o),t.target=Math.min(t.target,a))}),this)}},f.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),r&&this.$element){t+=this.options.namespaceJQueryEvents?".flickity":"";var s=t;if(e){var o=new r.Event(e);o.type=t,s=o}this.$element.trigger(s,i)}},f.select=function(t,e,i){if(this.isActive&&(t=parseInt(t,10),this._wrapSelect(t),(this.options.wrapAround||e)&&(t=n.modulo(t,this.slides.length)),this.slides[t])){var s=this.selectedIndex;this.selectedIndex=t,this.updateSelectedSlide(),i?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[t]),t!=s&&this.dispatchEvent("change",null,[t]),this.dispatchEvent("cellSelect")}},f._wrapSelect=function(t){var e=this.slides.length,i=this.options.wrapAround&&e>1;if(!i)return t;var s=n.modulo(t,e),o=Math.abs(s-this.selectedIndex),a=Math.abs(s+e-this.selectedIndex),r=Math.abs(s-e-this.selectedIndex);!this.isDragSelect&&a<o?t+=e:!this.isDragSelect&&r<o&&(t-=e),t<0?this.x-=this.slideableWidth:t>=e&&(this.x+=this.slideableWidth)},f.previous=function(t,e){this.select(this.selectedIndex-1,t,e)},f.next=function(t,e){this.select(this.selectedIndex+1,t,e)},f.updateSelectedSlide=function(){var t=this.slides[this.selectedIndex];t&&(this.unselectSelectedSlide(),this.selectedSlide=t,t.select(),this.selectedCells=t.cells,this.selectedElements=t.getCellElements(),this.selectedCell=t.cells[0],this.selectedElement=this.selectedElements[0])},f.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},f.selectInitialIndex=function(){var t=this.options.initialIndex;if(this.isInitActivated)this.select(this.selectedIndex,!1,!0);else{if(t&&"string"==typeof t){var e=this.queryCell(t);if(e)return void this.selectCell(t,!1,!0)}var i=0;t&&this.slides[t]&&(i=t),this.select(i,!1,!0)}},f.selectCell=function(t,e,i){var n=this.queryCell(t);if(n){var s=this.getCellSlideIndex(n);this.select(s,e,i)}},f.getCellSlideIndex=function(t){for(var e=0;e<this.slides.length;e++){var i=this.slides[e],n=i.cells.indexOf(t);if(-1!=n)return e}},f.getCell=function(t){for(var e=0;e<this.cells.length;e++){var i=this.cells[e];if(i.element==t)return i}},f.getCells=function(t){t=n.makeArray(t);var e=[];return t.forEach((function(t){var i=this.getCell(t);i&&e.push(i)}),this),e},f.getCellElements=function(){return this.cells.map((function(t){return t.element}))},f.getParentCell=function(t){var e=this.getCell(t);return e||(t=n.getParent(t,".flickity-slider > *"),this.getCell(t))},f.getAdjacentCellElements=function(t,e){if(!t)return this.selectedSlide.getCellElements();e=void 0===e?this.selectedIndex:e;var i=this.slides.length;if(1+2*t>=i)return this.getCellElements();for(var s=[],o=e-t;o<=e+t;o++){var a=this.options.wrapAround?n.modulo(o,i):o,r=this.slides[a];r&&(s=s.concat(r.getCellElements()))}return s},f.queryCell=function(t){if("number"==typeof t)return this.cells[t];if("string"==typeof t){if(t.match(/^[#.]?[\d/]/))return;t=this.element.querySelector(t)}return this.getCell(t)},f.uiChange=function(){this.emitEvent("uiChange")},f.childUIPointerDown=function(t){"touchstart"!=t.type&&t.preventDefault(),this.focus()},f.onresize=function(){this.watchCSS(),this.resize()},n.debounceMethod(p,"onresize",150),f.resize=function(){if(this.isActive&&!this.isAnimating&&!this.isDragging){this.getSize(),this.options.wrapAround&&(this.x=n.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize");var t=this.selectedElements&&this.selectedElements[0];this.selectCell(t,!1,!0)}},f.watchCSS=function(){var t=this.options.watchCSS;if(t){var e=l(this.element,":after").content;-1!=e.indexOf("flickity")?this.activate():this.deactivate()}},f.onkeydown=function(t){var e=document.activeElement&&document.activeElement!=this.element;if(this.options.accessibility&&!e){var i=p.keyboardHandlers[t.keyCode];i&&i.call(this)}},p.keyboardHandlers={37:function(){var t=this.options.rightToLeft?"next":"previous";this.uiChange(),this[t]()},39:function(){var t=this.options.rightToLeft?"previous":"next";this.uiChange(),this[t]()}},f.focus=function(){var e=t.pageYOffset;this.element.focus({preventScroll:!0}),t.pageYOffset!=e&&t.scrollTo(t.pageXOffset,e)},f.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.unselectSelectedSlide(),this.cells.forEach((function(t){t.destroy()})),this.element.removeChild(this.viewport),d(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},f.destroy=function(){this.deactivate(),t.removeEventListener("resize",this),this.allOff(),this.emitEvent("destroy"),r&&this.$element&&r.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete u[this.guid]},n.extend(f,a),p.data=function(t){t=n.getQueryElement(t);var e=t&&t.flickityGUID;return e&&u[e]},n.htmlInit(p,"flickity"),r&&r.bridget&&r.bridget("flickity",p),p.setJQuery=function(t){r=t},p.Cell=s,p.Slide=o,p}))},99110:function(t,e,i){var n,s,o;
/*!
 * Flickity v2.3.0
 * Touch, responsive, flickable carousels
 *
 * Licensed GPLv3 for open source use
 * or Flickity Commercial License for commercial use
 *
 * https://flickity.metafizzy.co
 * Copyright 2015-2021 Metafizzy
 */(function(a,r){s=[i(48816),i(74856),i(70949),i(44523),i(47637),i(85393),i(5832)],n=r,o="function"===typeof n?n.apply(e,s):n,void 0===o||(t.exports=o)})(window,(function(t){return t}))},5832:function(t,e,i){var n,s;i(57658),function(o,a){n=[i(48816),i(79334)],s=function(t,e){return a(o,t,e)}.apply(e,n),void 0===s||(t.exports=s)}(window,(function(t,e,i){"use strict";e.createMethods.push("_createLazyload");var n=e.prototype;function s(t){if("IMG"==t.nodeName){var e=t.getAttribute("data-flickity-lazyload"),n=t.getAttribute("data-flickity-lazyload-src"),s=t.getAttribute("data-flickity-lazyload-srcset");if(e||n||s)return[t]}var o="img[data-flickity-lazyload], img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]",a=t.querySelectorAll(o);return i.makeArray(a)}function o(t,e){this.img=t,this.flickity=e,this.load()}return n._createLazyload=function(){this.on("select",this.lazyLoad)},n.lazyLoad=function(){var t=this.options.lazyLoad;if(t){var e="number"==typeof t?t:0,i=this.getAdjacentCellElements(e),n=[];i.forEach((function(t){var e=s(t);n=n.concat(e)})),n.forEach((function(t){new o(t,this)}),this)}},o.prototype.handleEvent=i.handleEvent,o.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);var t=this.img.getAttribute("data-flickity-lazyload")||this.img.getAttribute("data-flickity-lazyload-src"),e=this.img.getAttribute("data-flickity-lazyload-srcset");this.img.src=t,e&&this.img.setAttribute("srcset",e),this.img.removeAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload-src"),this.img.removeAttribute("data-flickity-lazyload-srcset")},o.prototype.onload=function(t){this.complete(t,"flickity-lazyloaded")},o.prototype.onerror=function(t){this.complete(t,"flickity-lazyerror")},o.prototype.complete=function(t,e){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var i=this.flickity.getParentCell(this.img),n=i&&i.element;this.flickity.cellSizeChange(n),this.img.classList.add(e),this.flickity.dispatchEvent("lazyLoad",t,n)},e.LazyLoader=o,e}))},44523:function(t,e,i){var n,s;i(57658),function(o,a){n=[i(48816),i(34506),i(79334)],s=function(t,e,i){return a(o,t,e,i)}.apply(e,n),void 0===s||(t.exports=s)}(window,(function(t,e,i,n){"use strict";function s(t){this.parent=t,this._create()}s.prototype=Object.create(i.prototype),s.prototype._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.handleClick=this.onClick.bind(this),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},s.prototype.activate=function(){this.setDots(),this.holder.addEventListener("click",this.handleClick),this.bindStartEvent(this.holder),this.parent.element.appendChild(this.holder)},s.prototype.deactivate=function(){this.holder.removeEventListener("click",this.handleClick),this.unbindStartEvent(this.holder),this.parent.element.removeChild(this.holder)},s.prototype.setDots=function(){var t=this.parent.slides.length-this.dots.length;t>0?this.addDots(t):t<0&&this.removeDots(-t)},s.prototype.addDots=function(t){for(var e=document.createDocumentFragment(),i=[],n=this.dots.length,s=n+t,o=n;o<s;o++){var a=document.createElement("li");a.className="dot",a.setAttribute("aria-label","Page dot "+(o+1)),e.appendChild(a),i.push(a)}this.holder.appendChild(e),this.dots=this.dots.concat(i)},s.prototype.removeDots=function(t){var e=this.dots.splice(this.dots.length-t,t);e.forEach((function(t){this.holder.removeChild(t)}),this)},s.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot",this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected",this.selectedDot.setAttribute("aria-current","step"))},s.prototype.onTap=s.prototype.onClick=function(t){var e=t.target;if("LI"==e.nodeName){this.parent.uiChange();var i=this.dots.indexOf(e);this.parent.select(i)}},s.prototype.destroy=function(){this.deactivate(),this.allOff()},e.PageDots=s,n.extend(e.defaults,{pageDots:!0}),e.createMethods.push("_createPageDots");var o=e.prototype;return o._createPageDots=function(){this.options.pageDots&&(this.pageDots=new s(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},o.activatePageDots=function(){this.pageDots.activate()},o.updateSelectedPageDots=function(){this.pageDots.updateSelected()},o.updatePageDots=function(){this.pageDots.setDots()},o.deactivatePageDots=function(){this.pageDots.deactivate()},e.PageDots=s,e}))},47637:function(t,e,i){var n,s;i(57658),function(o,a){n=[i(98203),i(79334),i(48816)],s=function(t,e,i){return a(t,e,i)}.apply(e,n),void 0===s||(t.exports=s)}(window,(function(t,e,i){"use strict";function n(t){this.parent=t,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}n.prototype=Object.create(t.prototype),n.prototype.play=function(){if("playing"!=this.state){var t=document.hidden;t?document.addEventListener("visibilitychange",this.onVisibilityPlay):(this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick())}},n.prototype.tick=function(){if("playing"==this.state){var t=this.parent.options.autoPlay;t="number"==typeof t?t:3e3;var e=this;this.clear(),this.timeout=setTimeout((function(){e.parent.next(!0),e.tick()}),t)}},n.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},n.prototype.clear=function(){clearTimeout(this.timeout)},n.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},n.prototype.unpause=function(){"paused"==this.state&&this.play()},n.prototype.visibilityChange=function(){var t=document.hidden;this[t?"pause":"unpause"]()},n.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},e.extend(i.defaults,{pauseAutoPlayOnHover:!0}),i.createMethods.push("_createPlayer");var s=i.prototype;return s._createPlayer=function(){this.player=new n(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},s.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},s.playPlayer=function(){this.player.play()},s.stopPlayer=function(){this.player.stop()},s.pausePlayer=function(){this.player.pause()},s.unpausePlayer=function(){this.player.unpause()},s.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},s.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},s.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},i.Player=n,i}))},70949:function(t,e,i){var n,s;i(57658),function(o,a){n=[i(48816),i(34506),i(79334)],s=function(t,e,i){return a(o,t,e,i)}.apply(e,n),void 0===s||(t.exports=s)}(window,(function(t,e,i,n){"use strict";var s="http://www.w3.org/2000/svg";function o(t,e){this.direction=t,this.parent=e,this._create()}function a(t){return"string"==typeof t?t:"M "+t.x0+",50 L "+t.x1+","+(t.y1+50)+" L "+t.x2+","+(t.y2+50)+" L "+t.x3+",50  L "+t.x2+","+(50-t.y2)+" L "+t.x1+","+(50-t.y1)+" Z"}o.prototype=Object.create(i.prototype),o.prototype._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var t=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==t;var e=this.element=document.createElement("button");e.className="flickity-button flickity-prev-next-button",e.className+=this.isPrevious?" previous":" next",e.setAttribute("type","button"),this.disable(),e.setAttribute("aria-label",this.isPrevious?"Previous":"Next");var i=this.createSVG();e.appendChild(i),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},o.prototype.activate=function(){this.bindStartEvent(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},o.prototype.deactivate=function(){this.parent.element.removeChild(this.element),this.unbindStartEvent(this.element),this.element.removeEventListener("click",this)},o.prototype.createSVG=function(){var t=document.createElementNS(s,"svg");t.setAttribute("class","flickity-button-icon"),t.setAttribute("viewBox","0 0 100 100");var e=document.createElementNS(s,"path"),i=a(this.parent.options.arrowShape);return e.setAttribute("d",i),e.setAttribute("class","arrow"),this.isLeft||e.setAttribute("transform","translate(100, 100) rotate(180) "),t.appendChild(e),t},o.prototype.handleEvent=n.handleEvent,o.prototype.onclick=function(){if(this.isEnabled){this.parent.uiChange();var t=this.isPrevious?"previous":"next";this.parent[t]()}},o.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},o.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},o.prototype.update=function(){var t=this.parent.slides;if(this.parent.options.wrapAround&&t.length>1)this.enable();else{var e=t.length?t.length-1:0,i=this.isPrevious?0:e,n=this.parent.selectedIndex==i?"disable":"enable";this[n]()}},o.prototype.destroy=function(){this.deactivate(),this.allOff()},n.extend(e.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),e.createMethods.push("_createPrevNextButtons");var r=e.prototype;return r._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new o(-1,this),this.nextButton=new o(1,this),this.on("activate",this.activatePrevNextButtons))},r.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},r.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},e.PrevNextButton=o,e}))},74875:function(t,e,i){var n,s;i(57658),function(o,a){n=a,s="function"===typeof n?n.call(e,i,e,t):n,void 0===s||(t.exports=s)}(window,(function(){"use strict";function t(t){this.parent=t,this.isOriginLeft="left"==t.originSide,this.cells=[],this.outerWidth=0,this.height=0}var e=t.prototype;return e.addCell=function(t){if(this.cells.push(t),this.outerWidth+=t.size.outerWidth,this.height=Math.max(t.size.outerHeight,this.height),1==this.cells.length){this.x=t.x;var e=this.isOriginLeft?"marginLeft":"marginRight";this.firstMargin=t.size[e]}},e.updateTarget=function(){var t=this.isOriginLeft?"marginRight":"marginLeft",e=this.getLastCell(),i=e?e.size[t]:0,n=this.outerWidth-(this.firstMargin+i);this.target=this.x+this.firstMargin+n*this.parent.cellAlign},e.getLastCell=function(){return this.cells[this.cells.length-1]},e.select=function(){this.cells.forEach((function(t){t.select()}))},e.unselect=function(){this.cells.forEach((function(t){t.unselect()}))},e.getCellElements=function(){return this.cells.map((function(t){return t.element}))},t}))},84307:function(t,e,i){var n,s;
/*!
 * getSize v2.0.3
 * measure size of elements
 * MIT license
 */(function(o,a){n=a,s="function"===typeof n?n.call(e,i,e,t):n,void 0===s||(t.exports=s)})(window,(function(){"use strict";function t(t){var e=parseFloat(t),i=-1==t.indexOf("%")&&!isNaN(e);return i&&e}function e(){}var i="undefined"==typeof console?e:function(t){console.error(t)},n=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],s=n.length;function o(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<s;e++){var i=n[e];t[i]=0}return t}function a(t){var e=getComputedStyle(t);return e||i("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),e}var r,l=!1;function c(){if(!l){l=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var n=a(e);r=200==Math.round(t(n.width)),d.isBoxSizeOuter=r,i.removeChild(e)}}function d(e){if(c(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var i=a(e);if("none"==i.display)return o();var l={};l.width=e.offsetWidth,l.height=e.offsetHeight;for(var d=l.isBorderBox="border-box"==i.boxSizing,h=0;h<s;h++){var u=n[h],p=i[u],f=parseFloat(p);l[u]=isNaN(f)?0:f}var m=l.paddingLeft+l.paddingRight,v=l.paddingTop+l.paddingBottom,g=l.marginLeft+l.marginRight,_=l.marginTop+l.marginBottom,y=l.borderLeftWidth+l.borderRightWidth,b=l.borderTopWidth+l.borderBottomWidth,w=d&&r,x=t(i.width);!1!==x&&(l.width=x+(w?0:m+y));var k=t(i.height);return!1!==k&&(l.height=k+(w?0:v+b)),l.innerWidth=l.width-(m+y),l.innerHeight=l.height-(v+b),l.outerWidth=l.width+g,l.outerHeight=l.height+_,l}}return d}))},76674:function(t,e,i){var n,s;i(57658),
/*!
 * imagesLoaded v4.1.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
function(o,a){"use strict";n=[i(98203)],s=function(t){return a(o,t)}.apply(e,n),void 0===s||(t.exports=s)}("undefined"!==typeof window?window:this,(function(t,e){"use strict";var i=t.jQuery,n=t.console;function s(t,e){for(var i in e)t[i]=e[i];return t}var o=Array.prototype.slice;function a(t){if(Array.isArray(t))return t;var e="object"==typeof t&&"number"==typeof t.length;return e?o.call(t):[t]}function r(t,e,o){if(!(this instanceof r))return new r(t,e,o);var l=t;"string"==typeof t&&(l=document.querySelectorAll(t)),l?(this.elements=a(l),this.options=s({},this.options),"function"==typeof e?o=e:s(this.options,e),o&&this.on("always",o),this.getImages(),i&&(this.jqDeferred=new i.Deferred),setTimeout(this.check.bind(this))):n.error("Bad element for imagesLoaded "+(l||t))}r.prototype=Object.create(e.prototype),r.prototype.options={},r.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},r.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&l[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var s=i[n];this.addImage(s)}if("string"==typeof this.options.background){var o=t.querySelectorAll(this.options.background);for(n=0;n<o.length;n++){var a=o[n];this.addElementBackgroundImages(a)}}}};var l={1:!0,9:!0,11:!0};function c(t){this.img=t}function d(t,e){this.url=t,this.element=e,this.img=new Image}return r.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e){var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);while(null!==n){var s=n&&n[2];s&&this.addBackground(s,t),n=i.exec(e.backgroundImage)}}},r.prototype.addImage=function(t){var e=new c(t);this.images.push(e)},r.prototype.addBackground=function(t,e){var i=new d(t,e);this.images.push(i)},r.prototype.check=function(){var t=this;function e(e,i,n){setTimeout((function(){t.progress(e,i,n)}))}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach((function(t){t.once("progress",e),t.check()})):this.complete()},r.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&n&&n.log("progress: "+i,t,e)},r.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},c.prototype=Object.create(e.prototype),c.prototype.check=function(){var t=this.getIsImageComplete();t?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},c.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},c.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},c.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},c.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},c.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},c.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},d.prototype=Object.create(c.prototype),d.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url;var t=this.getIsImageComplete();t&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},d.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},d.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},r.makeJQueryPlugin=function(e){e=e||t.jQuery,e&&(i=e,i.fn.imagesLoaded=function(t,e){var n=new r(this,t,e);return n.jqDeferred.promise(i(this))})},r.makeJQueryPlugin(),r}))},51055:function(t,e,i){var n,s;
/*!
 * Unidragger v2.4.0
 * Draggable base class
 * MIT license
 */(function(o,a){n=[i(34506)],s=function(t){return a(o,t)}.apply(e,n),void 0===s||(t.exports=s)})(window,(function(t,e){"use strict";function i(){}var n=i.prototype=Object.create(e.prototype);n.bindHandles=function(){this._bindHandles(!0)},n.unbindHandles=function(){this._bindHandles(!1)},n._bindHandles=function(e){e=void 0===e||e;for(var i=e?"addEventListener":"removeEventListener",n=e?this._touchActionValue:"",s=0;s<this.handles.length;s++){var o=this.handles[s];this._bindStartEvent(o,e),o[i]("click",this),t.PointerEvent&&(o.style.touchAction=n)}},n._touchActionValue="none",n.pointerDown=function(t,e){var i=this.okayPointerDown(t);i&&(this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY},t.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e]))};var s={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},o={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return n.okayPointerDown=function(t){var e=s[t.target.nodeName],i=o[t.target.type],n=!e||i;return n||this._pointerReset(),n},n.pointerDownBlur=function(){var t=document.activeElement,e=t&&t.blur&&t!=document.body;e&&t.blur()},n.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,i]),this._dragMove(t,e,i)},n._dragPointerMove=function(t,e){var i={x:e.pageX-this.pointerDownPointer.pageX,y:e.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(i)&&this._dragStart(t,e),i},n.hasDragStarted=function(t){return Math.abs(t.x)>3||Math.abs(t.y)>3},n.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]),this._dragPointerUp(t,e)},n._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e)},n._dragStart=function(t,e){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(t,e)},n.dragStart=function(t,e){this.emitEvent("dragStart",[t,e])},n._dragMove=function(t,e,i){this.isDragging&&this.dragMove(t,e,i)},n.dragMove=function(t,e,i){t.preventDefault(),this.emitEvent("dragMove",[t,e,i])},n._dragEnd=function(t,e){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(t,e)},n.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e])},n.onclick=function(t){this.isPreventingClicks&&t.preventDefault()},n._staticClick=function(t,e){this.isIgnoringMouseUp&&"mouseup"==t.type||(this.staticClick(t,e),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},n.staticClick=function(t,e){this.emitEvent("staticClick",[t,e])},i.getPointerPoint=e.getPointerPoint,i}))},82101:function(t,e,i){var n,s;i(57658),function(o,a){n=a,s="function"===typeof n?n.call(e,i,e,t):n,void 0===s||(t.exports=s)}("undefined"!=typeof window&&window,(function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},n=i[t]=i[t]||{};return n[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],s=0;s<i.length;s++){var o=i[s],a=n&&n[o];a&&(this.off(t,o),delete n[o]),o.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}))},34506:function(t,e,i){var n,s;
/*!
 * Unipointer v2.4.0
 * base class for doing one thing with pointer event
 * MIT license
 */(function(o,a){n=[i(82101)],s=function(t){return a(o,t)}.apply(e,n),void 0===s||(t.exports=s)})(window,(function(t,e){"use strict";function i(){}function n(){}var s=n.prototype=Object.create(e.prototype);s.bindStartEvent=function(t){this._bindStartEvent(t,!0)},s.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},s._bindStartEvent=function(e,i){i=void 0===i||i;var n=i?"addEventListener":"removeEventListener",s="mousedown";"ontouchstart"in t?s="touchstart":t.PointerEvent&&(s="pointerdown"),e[n](s,this)},s.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},s.getTouch=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.identifier==this.pointerIdentifier)return i}},s.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t)},s.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},s.onpointerdown=function(t){this._pointerDown(t,t)},s._pointerDown=function(t,e){t.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e))},s.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])};var o={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return s._bindPostStartEvents=function(e){if(e){var i=o[e.type];i.forEach((function(e){t.addEventListener(e,this)}),this),this._boundPointerEvents=i}},s._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach((function(e){t.removeEventListener(e,this)}),this),delete this._boundPointerEvents)},s.onmousemove=function(t){this._pointerMove(t,t)},s.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},s.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},s._pointerMove=function(t,e){this.pointerMove(t,e)},s.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])},s.onmouseup=function(t){this._pointerUp(t,t)},s.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},s.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},s._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},s.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])},s._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},s._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},s.pointerDone=i,s.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},s.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},s._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},s.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])},n.getPointerPoint=function(t){return{x:t.pageX,y:t.pageY}},n}))},54626:function(t,e,i){var n,s;i(57658),function(o,a){n=a,s="function"===typeof n?n.call(e,i,e,t):n,void 0===s||(t.exports=s)}("undefined"!=typeof window&&window,(function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},n=i[t]=i[t]||{};return n[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],s=0;s<i.length;s++){var o=i[s],a=n&&n[o];a&&(this.off(t,o),delete n[o]),o.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}))},68182:function(t,e,i){var n,s;i(57658),function(o,a){n=[i(95240)],s=function(t){return a(o,t)}.apply(e,n),void 0===s||(t.exports=s)}(window,(function(t,e){"use strict";var i={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e}},n=Array.prototype.slice;i.makeArray=function(t){if(Array.isArray(t))return t;if(null===t||void 0===t)return[];var e="object"==typeof t&&"number"==typeof t.length;return e?n.call(t):[t]},i.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},i.getParent=function(t,i){while(t.parentNode&&t!=document.body)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,n){t=i.makeArray(t);var s=[];return t.forEach((function(t){if(t instanceof HTMLElement)if(n){e(t,n)&&s.push(t);for(var i=t.querySelectorAll(n),o=0;o<i.length;o++)s.push(i[o])}else s.push(t)})),s},i.debounceMethod=function(t,e,i){i=i||100;var n=t.prototype[e],s=e+"Timeout";t.prototype[e]=function(){var t=this[s];clearTimeout(t);var e=arguments,o=this;this[s]=setTimeout((function(){n.apply(o,e),delete o[s]}),i)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,(function(t,e,i){return e+"-"+i})).toLowerCase()};var s=t.console;return i.htmlInit=function(e,n){i.docReady((function(){var o=i.toDashed(n),a="data-"+o,r=document.querySelectorAll("["+a+"]"),l=document.querySelectorAll(".js-"+o),c=i.makeArray(r).concat(i.makeArray(l)),d=a+"-options",h=t.jQuery;c.forEach((function(t){var i,o=t.getAttribute(a)||t.getAttribute(d);try{i=o&&JSON.parse(o)}catch(l){return void(s&&s.error("Error parsing "+a+" on "+t.className+": "+l))}var r=new e(t,i);h&&h.data(t,n,r)}))}))},i}))},74846:function(t,e,i){var n,s;(function(o,a){n=[i(4291),i(68182)],s=function(t,e){return a(o,t,e)}.apply(e,n),void 0===s||(t.exports=s)})(window,(function(t,e,i){"use strict";function n(t){var e=document.createDocumentFragment();return t.forEach((function(t){e.appendChild(t.element)})),e}var s=e.prototype;return s.insert=function(t,e){var i=this._makeCells(t);if(i&&i.length){var s=this.cells.length;e=void 0===e?s:e;var o=n(i),a=e==s;if(a)this.slider.appendChild(o);else{var r=this.cells[e].element;this.slider.insertBefore(o,r)}if(0===e)this.cells=i.concat(this.cells);else if(a)this.cells=this.cells.concat(i);else{var l=this.cells.splice(e,s-e);this.cells=this.cells.concat(i).concat(l)}this._sizeCells(i),this.cellChange(e,!0)}},s.append=function(t){this.insert(t,this.cells.length)},s.prepend=function(t){this.insert(t,0)},s.remove=function(t){var e=this.getCells(t);if(e&&e.length){var n=this.cells.length-1;e.forEach((function(t){t.remove();var e=this.cells.indexOf(t);n=Math.min(e,n),i.removeFrom(this.cells,t)}),this),this.cellChange(n,!0)}},s.cellSizeChange=function(t){var e=this.getCell(t);if(e){e.getSize();var i=this.cells.indexOf(e);this.cellChange(i)}},s.cellChange=function(t,e){var i=this.selectedElement;this._positionCells(t),this._getWrapShiftCells(),this.setGallerySize();var n=this.getCell(i);n&&(this.selectedIndex=this.getCellSlideIndex(n)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[t]),this.select(this.selectedIndex),e&&this.positionSliderAtSelected()},e}))},84240:function(t,e,i){var n,s;(function(o,a){n=[i(68182)],s=function(t){return a(o,t)}.apply(e,n),void 0===s||(t.exports=s)})(window,(function(t,e){"use strict";var i={startAnimation:function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},animate:function(){this.applyDragForce(),this.applySelectedAttraction();var t=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(t),this.isAnimating){var e=this;requestAnimationFrame((function(){e.animate()}))}},positionSlider:function(){var t=this.x;this.options.wrapAround&&this.cells.length>1&&(t=e.modulo(t,this.slideableWidth),t-=this.slideableWidth,this.shiftWrapCells(t)),this.setTranslateX(t,this.isAnimating),this.dispatchScrollEvent()},setTranslateX:function(t,e){t+=this.cursorPosition,t=this.options.rightToLeft?-t:t;var i=this.getPositionValue(t);this.slider.style.transform=e?"translate3d("+i+",0,0)":"translateX("+i+")"},dispatchScrollEvent:function(){var t=this.slides[0];if(t){var e=-this.x-t.target,i=e/this.slidesWidth;this.dispatchEvent("scroll",null,[i,e])}},positionSliderAtSelected:function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},getPositionValue:function(t){return this.options.percentPosition?.01*Math.round(t/this.size.innerWidth*1e4)+"%":Math.round(t)+"px"},settle:function(t){var e=!this.isPointerDown&&Math.round(100*this.x)==Math.round(100*t);e&&this.restingFrames++,this.restingFrames>2&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},shiftWrapCells:function(t){var e=this.cursorPosition+t;this._shiftCells(this.beforeShiftCells,e,-1);var i=this.size.innerWidth-(t+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,i,1)},_shiftCells:function(t,e,i){for(var n=0;n<t.length;n++){var s=t[n],o=e>0?i:0;s.wrapShift(o),e-=s.size.outerWidth}},_unshiftCells:function(t){if(t&&t.length)for(var e=0;e<t.length;e++)t[e].wrapShift(0)},integratePhysics:function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},applyForce:function(t){this.velocity+=t},getFrictionFactor:function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},getRestingPosition:function(){return this.x+this.velocity/(1-this.getFrictionFactor())},applyDragForce:function(){if(this.isDraggable&&this.isPointerDown){var t=this.dragX-this.x,e=t-this.velocity;this.applyForce(e)}},applySelectedAttraction:function(){var t=this.isDraggable&&this.isPointerDown;if(!t&&!this.isFreeScrolling&&this.slides.length){var e=-1*this.selectedSlide.target-this.x,i=e*this.options.selectedAttraction;this.applyForce(i)}}};return i}))},95967:function(t,e,i){var n,s;(function(o,a){n=[i(61161)],s=function(t){return a(o,t)}.apply(e,n),void 0===s||(t.exports=s)})(window,(function(t,e){"use strict";function i(t,e){this.element=t,this.parent=e,this.create()}var n=i.prototype;return n.create=function(){this.element.style.position="absolute",this.element.setAttribute("aria-hidden","true"),this.x=0,this.shift=0,this.element.style[this.parent.originSide]=0},n.destroy=function(){this.unselect(),this.element.style.position="";var t=this.parent.originSide;this.element.style[t]="",this.element.style.transform="",this.element.removeAttribute("aria-hidden")},n.getSize=function(){this.size=e(this.element)},n.setPosition=function(t){this.x=t,this.updateTarget(),this.renderPosition(t)},n.updateTarget=n.setDefaultTarget=function(){var t="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[t]+this.size.width*this.parent.cellAlign},n.renderPosition=function(t){var e="left"===this.parent.originSide?1:-1,i=this.parent.options.percentPosition?t*e*(this.parent.size.innerWidth/this.size.width):t*e;this.element.style.transform="translateX("+this.parent.getPositionValue(i)+")"},n.select=function(){this.element.classList.add("is-selected"),this.element.removeAttribute("aria-hidden")},n.unselect=function(){this.element.classList.remove("is-selected"),this.element.setAttribute("aria-hidden","true")},n.wrapShift=function(t){this.shift=t,this.renderPosition(this.x+this.parent.slideableWidth*t)},n.remove=function(){this.element.parentNode.removeChild(this.element)},i}))},23732:function(t,e,i){var n,s;i(57658),function(o,a){n=[i(4291),i(25478),i(68182)],s=function(t,e,i){return a(o,t,e,i)}.apply(e,n),void 0===s||(t.exports=s)}(window,(function(t,e,i,n){"use strict";n.extend(e.defaults,{draggable:">1",dragThreshold:3}),e.createMethods.push("_createDrag");var s=e.prototype;n.extend(s,i.prototype),s._touchActionValue="pan-y",s._createDrag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("deactivate",this.onDeactivateDrag),this.on("cellChange",this.updateDraggable)},s.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},s.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},s.updateDraggable=function(){">1"==this.options.draggable?this.isDraggable=this.slides.length>1:this.isDraggable=this.options.draggable,this.isDraggable?this.element.classList.add("is-draggable"):this.element.classList.remove("is-draggable")},s.bindDrag=function(){this.options.draggable=!0,this.updateDraggable()},s.unbindDrag=function(){this.options.draggable=!1,this.updateDraggable()},s._uiChangeDrag=function(){delete this.isFreeScrolling},s.pointerDown=function(e,i){if(this.isDraggable){var n=this.okayPointerDown(e);n&&(this._pointerDownPreventDefault(e),this.pointerDownFocus(e),document.activeElement!=this.element&&this.pointerDownBlur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=a(),t.addEventListener("scroll",this),this._pointerDownDefault(e,i))}else this._pointerDownDefault(e,i)},s._pointerDownDefault=function(t,e){this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY},this._bindPostStartEvents(t),this.dispatchEvent("pointerDown",t,[e])};var o={INPUT:!0,TEXTAREA:!0,SELECT:!0};function a(){return{x:t.pageXOffset,y:t.pageYOffset}}return s.pointerDownFocus=function(t){var e=o[t.target.nodeName];e||this.focus()},s._pointerDownPreventDefault=function(t){var e="touchstart"==t.type,i="touch"==t.pointerType,n=o[t.target.nodeName];e||i||n||t.preventDefault()},s.hasDragStarted=function(t){return Math.abs(t.x)>this.options.dragThreshold},s.pointerUp=function(t,e){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",t,[e]),this._dragPointerUp(t,e)},s.pointerDone=function(){t.removeEventListener("scroll",this),delete this.pointerDownScroll},s.dragStart=function(e,i){this.isDraggable&&(this.dragStartPosition=this.x,this.startAnimation(),t.removeEventListener("scroll",this),this.dispatchEvent("dragStart",e,[i]))},s.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.dispatchEvent("pointerMove",t,[e,i]),this._dragMove(t,e,i)},s.dragMove=function(t,e,i){if(this.isDraggable){t.preventDefault(),this.previousDragX=this.dragX;var n=this.options.rightToLeft?-1:1;this.options.wrapAround&&(i.x%=this.slideableWidth);var s=this.dragStartPosition+i.x*n;if(!this.options.wrapAround&&this.slides.length){var o=Math.max(-this.slides[0].target,this.dragStartPosition);s=s>o?.5*(s+o):s;var a=Math.min(-this.getLastSlide().target,this.dragStartPosition);s=s<a?.5*(s+a):s}this.dragX=s,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",t,[e,i])}},s.dragEnd=function(t,e){if(this.isDraggable){this.options.freeScroll&&(this.isFreeScrolling=!0);var i=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var n=this.getRestingPosition();this.isFreeScrolling=-n>this.slides[0].target&&-n<this.getLastSlide().target}else this.options.freeScroll||i!=this.selectedIndex||(i+=this.dragEndBoostSelect());delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(i),delete this.isDragSelect,this.dispatchEvent("dragEnd",t,[e])}},s.dragEndRestingSelect=function(){var t=this.getRestingPosition(),e=Math.abs(this.getSlideDistance(-t,this.selectedIndex)),i=this._getClosestResting(t,e,1),n=this._getClosestResting(t,e,-1),s=i.distance<n.distance?i.index:n.index;return s},s._getClosestResting=function(t,e,i){var n=this.selectedIndex,s=1/0,o=this.options.contain&&!this.options.wrapAround?function(t,e){return t<=e}:function(t,e){return t<e};while(o(e,s)){if(n+=i,s=e,e=this.getSlideDistance(-t,n),null===e)break;e=Math.abs(e)}return{distance:s,index:n-i}},s.getSlideDistance=function(t,e){var i=this.slides.length,s=this.options.wrapAround&&i>1,o=s?n.modulo(e,i):e,a=this.slides[o];if(!a)return null;var r=s?this.slideableWidth*Math.floor(e/i):0;return t-(a.target+r)},s.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||new Date-this.dragMoveTime>100)return 0;var t=this.getSlideDistance(-this.dragX,this.selectedIndex),e=this.previousDragX-this.dragX;return t>0&&e>0?1:t<0&&e<0?-1:0},s.staticClick=function(t,e){var i=this.getParentCell(t.target),n=i&&i.element,s=i&&this.cells.indexOf(i);this.dispatchEvent("staticClick",t,[e,n,s])},s.onscroll=function(){var t=a(),e=this.pointerDownScroll.x-t.x,i=this.pointerDownScroll.y-t.y;(Math.abs(e)>3||Math.abs(i)>3)&&this._pointerDone()},e}))},4291:function(t,e,i){var n,s;i(57658),function(o,a){n=[i(54626),i(61161),i(68182),i(95967),i(27008),i(84240)],s=function(t,e,i,n,s,r){return a(o,t,e,i,n,s,r)}.apply(e,n),void 0===s||(t.exports=s)}(window,(function(t,e,i,n,s,o,a){"use strict";var r=t.jQuery,l=t.getComputedStyle,c=t.console;function d(t,e){t=n.makeArray(t);while(t.length)e.appendChild(t.shift())}var h=0,u={};function p(t,e){var i=n.getQueryElement(t);if(i){if(this.element=i,this.element.flickityGUID){var s=u[this.element.flickityGUID];return s&&s.option(e),s}r&&(this.$element=r(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e),this._create()}else c&&c.error("Bad element for Flickity: "+(i||t))}p.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},p.createMethods=[];var f=p.prototype;n.extend(f,e.prototype),f._create=function(){var e=this.guid=++h;for(var i in this.element.flickityGUID=e,u[e]=this,this.selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&t.addEventListener("resize",this),this.options.on){var n=this.options.on[i];this.on(i,n)}p.createMethods.forEach((function(t){this[t]()}),this),this.options.watchCSS?this.watchCSS():this.activate()},f.option=function(t){n.extend(this.options,t)},f.activate=function(){if(!this.isActive){this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize();var t=this._filterFindCellElements(this.element.children);d(t,this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate"),this.selectInitialIndex(),this.isInitActivated=!0,this.dispatchEvent("ready")}},f._createSlider=function(){var t=document.createElement("div");t.className="flickity-slider",t.style[this.originSide]=0,this.slider=t},f._filterFindCellElements=function(t){return n.filterFindElements(t,this.options.cellSelector)},f.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},f._makeCells=function(t){var e=this._filterFindCellElements(t),i=e.map((function(t){return new s(t,this)}),this);return i},f.getLastCell=function(){return this.cells[this.cells.length-1]},f.getLastSlide=function(){return this.slides[this.slides.length-1]},f.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},f._positionCells=function(t){t=t||0,this.maxCellHeight=t&&this.maxCellHeight||0;var e=0;if(t>0){var i=this.cells[t-1];e=i.x+i.size.outerWidth}for(var n=this.cells.length,s=t;s<n;s++){var o=this.cells[s];o.setPosition(e),e+=o.size.outerWidth,this.maxCellHeight=Math.max(o.size.outerHeight,this.maxCellHeight)}this.slideableWidth=e,this.updateSlides(),this._containSlides(),this.slidesWidth=n?this.getLastSlide().target-this.slides[0].target:0},f._sizeCells=function(t){t.forEach((function(t){t.getSize()}))},f.updateSlides=function(){if(this.slides=[],this.cells.length){var t=new o(this);this.slides.push(t);var e="left"==this.originSide,i=e?"marginRight":"marginLeft",n=this._getCanCellFit();this.cells.forEach((function(e,s){if(t.cells.length){var a=t.outerWidth-t.firstMargin+(e.size.outerWidth-e.size[i]);n.call(this,s,a)||(t.updateTarget(),t=new o(this),this.slides.push(t)),t.addCell(e)}else t.addCell(e)}),this),t.updateTarget(),this.updateSelectedSlide()}},f._getCanCellFit=function(){var t=this.options.groupCells;if(!t)return function(){return!1};if("number"==typeof t){var e=parseInt(t,10);return function(t){return t%e!==0}}var i="string"==typeof t&&t.match(/^(\d+)%$/),n=i?parseInt(i[1],10)/100:1;return function(t,e){return e<=(this.size.innerWidth+1)*n}},f._init=f.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},f.getSize=function(){this.size=i(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var m={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};return f.setCellAlign=function(){var t=m[this.options.cellAlign];this.cellAlign=t?t[this.originSide]:this.options.cellAlign},f.setGallerySize=function(){if(this.options.setGallerySize){var t=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=t+"px"}},f._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);var t=this.cursorPosition,e=this.cells.length-1;this.beforeShiftCells=this._getGapCells(t,e,-1),t=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(t,0,1)}},f._getGapCells=function(t,e,i){var n=[];while(t>0){var s=this.cells[e];if(!s)break;n.push(s),e+=i,t-=s.size.outerWidth}return n},f._containSlides=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length){var t=this.options.rightToLeft,e=t?"marginRight":"marginLeft",i=t?"marginLeft":"marginRight",n=this.slideableWidth-this.getLastCell().size[i],s=n<this.size.innerWidth,o=this.cursorPosition+this.cells[0].size[e],a=n-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach((function(t){s?t.target=n*this.cellAlign:(t.target=Math.max(t.target,o),t.target=Math.min(t.target,a))}),this)}},f.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),r&&this.$element){t+=this.options.namespaceJQueryEvents?".flickity":"";var s=t;if(e){var o=new r.Event(e);o.type=t,s=o}this.$element.trigger(s,i)}},f.select=function(t,e,i){if(this.isActive&&(t=parseInt(t,10),this._wrapSelect(t),(this.options.wrapAround||e)&&(t=n.modulo(t,this.slides.length)),this.slides[t])){var s=this.selectedIndex;this.selectedIndex=t,this.updateSelectedSlide(),i?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[t]),t!=s&&this.dispatchEvent("change",null,[t]),this.dispatchEvent("cellSelect")}},f._wrapSelect=function(t){var e=this.slides.length,i=this.options.wrapAround&&e>1;if(!i)return t;var s=n.modulo(t,e),o=Math.abs(s-this.selectedIndex),a=Math.abs(s+e-this.selectedIndex),r=Math.abs(s-e-this.selectedIndex);!this.isDragSelect&&a<o?t+=e:!this.isDragSelect&&r<o&&(t-=e),t<0?this.x-=this.slideableWidth:t>=e&&(this.x+=this.slideableWidth)},f.previous=function(t,e){this.select(this.selectedIndex-1,t,e)},f.next=function(t,e){this.select(this.selectedIndex+1,t,e)},f.updateSelectedSlide=function(){var t=this.slides[this.selectedIndex];t&&(this.unselectSelectedSlide(),this.selectedSlide=t,t.select(),this.selectedCells=t.cells,this.selectedElements=t.getCellElements(),this.selectedCell=t.cells[0],this.selectedElement=this.selectedElements[0])},f.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},f.selectInitialIndex=function(){var t=this.options.initialIndex;if(this.isInitActivated)this.select(this.selectedIndex,!1,!0);else{if(t&&"string"==typeof t){var e=this.queryCell(t);if(e)return void this.selectCell(t,!1,!0)}var i=0;t&&this.slides[t]&&(i=t),this.select(i,!1,!0)}},f.selectCell=function(t,e,i){var n=this.queryCell(t);if(n){var s=this.getCellSlideIndex(n);this.select(s,e,i)}},f.getCellSlideIndex=function(t){for(var e=0;e<this.slides.length;e++){var i=this.slides[e],n=i.cells.indexOf(t);if(-1!=n)return e}},f.getCell=function(t){for(var e=0;e<this.cells.length;e++){var i=this.cells[e];if(i.element==t)return i}},f.getCells=function(t){t=n.makeArray(t);var e=[];return t.forEach((function(t){var i=this.getCell(t);i&&e.push(i)}),this),e},f.getCellElements=function(){return this.cells.map((function(t){return t.element}))},f.getParentCell=function(t){var e=this.getCell(t);return e||(t=n.getParent(t,".flickity-slider > *"),this.getCell(t))},f.getAdjacentCellElements=function(t,e){if(!t)return this.selectedSlide.getCellElements();e=void 0===e?this.selectedIndex:e;var i=this.slides.length;if(1+2*t>=i)return this.getCellElements();for(var s=[],o=e-t;o<=e+t;o++){var a=this.options.wrapAround?n.modulo(o,i):o,r=this.slides[a];r&&(s=s.concat(r.getCellElements()))}return s},f.queryCell=function(t){if("number"==typeof t)return this.cells[t];if("string"==typeof t){if(t.match(/^[#.]?[\d/]/))return;t=this.element.querySelector(t)}return this.getCell(t)},f.uiChange=function(){this.emitEvent("uiChange")},f.childUIPointerDown=function(t){"touchstart"!=t.type&&t.preventDefault(),this.focus()},f.onresize=function(){this.watchCSS(),this.resize()},n.debounceMethod(p,"onresize",150),f.resize=function(){if(this.isActive&&!this.isAnimating&&!this.isDragging){this.getSize(),this.options.wrapAround&&(this.x=n.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize");var t=this.selectedElements&&this.selectedElements[0];this.selectCell(t,!1,!0)}},f.watchCSS=function(){var t=this.options.watchCSS;if(t){var e=l(this.element,":after").content;-1!=e.indexOf("flickity")?this.activate():this.deactivate()}},f.onkeydown=function(t){var e=document.activeElement&&document.activeElement!=this.element;if(this.options.accessibility&&!e){var i=p.keyboardHandlers[t.keyCode];i&&i.call(this)}},p.keyboardHandlers={37:function(){var t=this.options.rightToLeft?"next":"previous";this.uiChange(),this[t]()},39:function(){var t=this.options.rightToLeft?"previous":"next";this.uiChange(),this[t]()}},f.focus=function(){var e=t.pageYOffset;this.element.focus({preventScroll:!0}),t.pageYOffset!=e&&t.scrollTo(t.pageXOffset,e)},f.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.unselectSelectedSlide(),this.cells.forEach((function(t){t.destroy()})),this.element.removeChild(this.viewport),d(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},f.destroy=function(){this.deactivate(),t.removeEventListener("resize",this),this.allOff(),this.emitEvent("destroy"),r&&this.$element&&r.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete u[this.guid]},n.extend(f,a),p.data=function(t){t=n.getQueryElement(t);var e=t&&t.flickityGUID;return e&&u[e]},n.htmlInit(p,"flickity"),r&&r.bridget&&r.bridget("flickity",p),p.setJQuery=function(t){r=t},p.Cell=s,p.Slide=o,p}))},11693:function(t,e,i){var n,s,o;
/*!
 * Flickity v2.3.0
 * Touch, responsive, flickable carousels
 *
 * Licensed GPLv3 for open source use
 * or Flickity Commercial License for commercial use
 *
 * https://flickity.metafizzy.co
 * Copyright 2015-2021 Metafizzy
 */(function(a,r){s=[i(4291),i(23732),i(26497),i(71376),i(35466),i(74846),i(72233)],n=r,o="function"===typeof n?n.apply(e,s):n,void 0===o||(t.exports=o)})(window,(function(t){return t}))},72233:function(t,e,i){var n,s;i(57658),function(o,a){n=[i(4291),i(68182)],s=function(t,e){return a(o,t,e)}.apply(e,n),void 0===s||(t.exports=s)}(window,(function(t,e,i){"use strict";e.createMethods.push("_createLazyload");var n=e.prototype;function s(t){if("IMG"==t.nodeName){var e=t.getAttribute("data-flickity-lazyload"),n=t.getAttribute("data-flickity-lazyload-src"),s=t.getAttribute("data-flickity-lazyload-srcset");if(e||n||s)return[t]}var o="img[data-flickity-lazyload], img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]",a=t.querySelectorAll(o);return i.makeArray(a)}function o(t,e){this.img=t,this.flickity=e,this.load()}return n._createLazyload=function(){this.on("select",this.lazyLoad)},n.lazyLoad=function(){var t=this.options.lazyLoad;if(t){var e="number"==typeof t?t:0,i=this.getAdjacentCellElements(e),n=[];i.forEach((function(t){var e=s(t);n=n.concat(e)})),n.forEach((function(t){new o(t,this)}),this)}},o.prototype.handleEvent=i.handleEvent,o.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);var t=this.img.getAttribute("data-flickity-lazyload")||this.img.getAttribute("data-flickity-lazyload-src"),e=this.img.getAttribute("data-flickity-lazyload-srcset");this.img.src=t,e&&this.img.setAttribute("srcset",e),this.img.removeAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload-src"),this.img.removeAttribute("data-flickity-lazyload-srcset")},o.prototype.onload=function(t){this.complete(t,"flickity-lazyloaded")},o.prototype.onerror=function(t){this.complete(t,"flickity-lazyerror")},o.prototype.complete=function(t,e){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var i=this.flickity.getParentCell(this.img),n=i&&i.element;this.flickity.cellSizeChange(n),this.img.classList.add(e),this.flickity.dispatchEvent("lazyLoad",t,n)},e.LazyLoader=o,e}))},71376:function(t,e,i){var n,s;i(57658),function(o,a){n=[i(4291),i(34506),i(68182)],s=function(t,e,i){return a(o,t,e,i)}.apply(e,n),void 0===s||(t.exports=s)}(window,(function(t,e,i,n){"use strict";function s(t){this.parent=t,this._create()}s.prototype=Object.create(i.prototype),s.prototype._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.handleClick=this.onClick.bind(this),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},s.prototype.activate=function(){this.setDots(),this.holder.addEventListener("click",this.handleClick),this.bindStartEvent(this.holder),this.parent.element.appendChild(this.holder)},s.prototype.deactivate=function(){this.holder.removeEventListener("click",this.handleClick),this.unbindStartEvent(this.holder),this.parent.element.removeChild(this.holder)},s.prototype.setDots=function(){var t=this.parent.slides.length-this.dots.length;t>0?this.addDots(t):t<0&&this.removeDots(-t)},s.prototype.addDots=function(t){for(var e=document.createDocumentFragment(),i=[],n=this.dots.length,s=n+t,o=n;o<s;o++){var a=document.createElement("li");a.className="dot",a.setAttribute("aria-label","Page dot "+(o+1)),e.appendChild(a),i.push(a)}this.holder.appendChild(e),this.dots=this.dots.concat(i)},s.prototype.removeDots=function(t){var e=this.dots.splice(this.dots.length-t,t);e.forEach((function(t){this.holder.removeChild(t)}),this)},s.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot",this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected",this.selectedDot.setAttribute("aria-current","step"))},s.prototype.onTap=s.prototype.onClick=function(t){var e=t.target;if("LI"==e.nodeName){this.parent.uiChange();var i=this.dots.indexOf(e);this.parent.select(i)}},s.prototype.destroy=function(){this.deactivate(),this.allOff()},e.PageDots=s,n.extend(e.defaults,{pageDots:!0}),e.createMethods.push("_createPageDots");var o=e.prototype;return o._createPageDots=function(){this.options.pageDots&&(this.pageDots=new s(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},o.activatePageDots=function(){this.pageDots.activate()},o.updateSelectedPageDots=function(){this.pageDots.updateSelected()},o.updatePageDots=function(){this.pageDots.setDots()},o.deactivatePageDots=function(){this.pageDots.deactivate()},e.PageDots=s,e}))},35466:function(t,e,i){var n,s;i(57658),function(o,a){n=[i(54626),i(68182),i(4291)],s=function(t,e,i){return a(t,e,i)}.apply(e,n),void 0===s||(t.exports=s)}(window,(function(t,e,i){"use strict";function n(t){this.parent=t,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}n.prototype=Object.create(t.prototype),n.prototype.play=function(){if("playing"!=this.state){var t=document.hidden;t?document.addEventListener("visibilitychange",this.onVisibilityPlay):(this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick())}},n.prototype.tick=function(){if("playing"==this.state){var t=this.parent.options.autoPlay;t="number"==typeof t?t:3e3;var e=this;this.clear(),this.timeout=setTimeout((function(){e.parent.next(!0),e.tick()}),t)}},n.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},n.prototype.clear=function(){clearTimeout(this.timeout)},n.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},n.prototype.unpause=function(){"paused"==this.state&&this.play()},n.prototype.visibilityChange=function(){var t=document.hidden;this[t?"pause":"unpause"]()},n.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},e.extend(i.defaults,{pauseAutoPlayOnHover:!0}),i.createMethods.push("_createPlayer");var s=i.prototype;return s._createPlayer=function(){this.player=new n(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},s.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},s.playPlayer=function(){this.player.play()},s.stopPlayer=function(){this.player.stop()},s.pausePlayer=function(){this.player.pause()},s.unpausePlayer=function(){this.player.unpause()},s.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},s.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},s.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},i.Player=n,i}))},26497:function(t,e,i){var n,s;i(57658),function(o,a){n=[i(4291),i(34506),i(68182)],s=function(t,e,i){return a(o,t,e,i)}.apply(e,n),void 0===s||(t.exports=s)}(window,(function(t,e,i,n){"use strict";var s="http://www.w3.org/2000/svg";function o(t,e){this.direction=t,this.parent=e,this._create()}function a(t){return"string"==typeof t?t:"M "+t.x0+",50 L "+t.x1+","+(t.y1+50)+" L "+t.x2+","+(t.y2+50)+" L "+t.x3+",50  L "+t.x2+","+(50-t.y2)+" L "+t.x1+","+(50-t.y1)+" Z"}o.prototype=Object.create(i.prototype),o.prototype._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var t=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==t;var e=this.element=document.createElement("button");e.className="flickity-button flickity-prev-next-button",e.className+=this.isPrevious?" previous":" next",e.setAttribute("type","button"),this.disable(),e.setAttribute("aria-label",this.isPrevious?"Previous":"Next");var i=this.createSVG();e.appendChild(i),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},o.prototype.activate=function(){this.bindStartEvent(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},o.prototype.deactivate=function(){this.parent.element.removeChild(this.element),this.unbindStartEvent(this.element),this.element.removeEventListener("click",this)},o.prototype.createSVG=function(){var t=document.createElementNS(s,"svg");t.setAttribute("class","flickity-button-icon"),t.setAttribute("viewBox","0 0 100 100");var e=document.createElementNS(s,"path"),i=a(this.parent.options.arrowShape);return e.setAttribute("d",i),e.setAttribute("class","arrow"),this.isLeft||e.setAttribute("transform","translate(100, 100) rotate(180) "),t.appendChild(e),t},o.prototype.handleEvent=n.handleEvent,o.prototype.onclick=function(){if(this.isEnabled){this.parent.uiChange();var t=this.isPrevious?"previous":"next";this.parent[t]()}},o.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},o.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},o.prototype.update=function(){var t=this.parent.slides;if(this.parent.options.wrapAround&&t.length>1)this.enable();else{var e=t.length?t.length-1:0,i=this.isPrevious?0:e,n=this.parent.selectedIndex==i?"disable":"enable";this[n]()}},o.prototype.destroy=function(){this.deactivate(),this.allOff()},n.extend(e.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),e.createMethods.push("_createPrevNextButtons");var r=e.prototype;return r._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new o(-1,this),this.nextButton=new o(1,this),this.on("activate",this.activatePrevNextButtons))},r.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},r.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},e.PrevNextButton=o,e}))},27008:function(t,e,i){var n,s;i(57658),function(o,a){n=a,s="function"===typeof n?n.call(e,i,e,t):n,void 0===s||(t.exports=s)}(window,(function(){"use strict";function t(t){this.parent=t,this.isOriginLeft="left"==t.originSide,this.cells=[],this.outerWidth=0,this.height=0}var e=t.prototype;return e.addCell=function(t){if(this.cells.push(t),this.outerWidth+=t.size.outerWidth,this.height=Math.max(t.size.outerHeight,this.height),1==this.cells.length){this.x=t.x;var e=this.isOriginLeft?"marginLeft":"marginRight";this.firstMargin=t.size[e]}},e.updateTarget=function(){var t=this.isOriginLeft?"marginRight":"marginLeft",e=this.getLastCell(),i=e?e.size[t]:0,n=this.outerWidth-(this.firstMargin+i);this.target=this.x+this.firstMargin+n*this.parent.cellAlign},e.getLastCell=function(){return this.cells[this.cells.length-1]},e.select=function(){this.cells.forEach((function(t){t.select()}))},e.unselect=function(){this.cells.forEach((function(t){t.unselect()}))},e.getCellElements=function(){return this.cells.map((function(t){return t.element}))},t}))},61161:function(t,e,i){var n,s;
/*!
 * getSize v2.0.3
 * measure size of elements
 * MIT license
 */(function(o,a){n=a,s="function"===typeof n?n.call(e,i,e,t):n,void 0===s||(t.exports=s)})(window,(function(){"use strict";function t(t){var e=parseFloat(t),i=-1==t.indexOf("%")&&!isNaN(e);return i&&e}function e(){}var i="undefined"==typeof console?e:function(t){console.error(t)},n=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],s=n.length;function o(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<s;e++){var i=n[e];t[i]=0}return t}function a(t){var e=getComputedStyle(t);return e||i("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),e}var r,l=!1;function c(){if(!l){l=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var n=a(e);r=200==Math.round(t(n.width)),d.isBoxSizeOuter=r,i.removeChild(e)}}function d(e){if(c(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var i=a(e);if("none"==i.display)return o();var l={};l.width=e.offsetWidth,l.height=e.offsetHeight;for(var d=l.isBorderBox="border-box"==i.boxSizing,h=0;h<s;h++){var u=n[h],p=i[u],f=parseFloat(p);l[u]=isNaN(f)?0:f}var m=l.paddingLeft+l.paddingRight,v=l.paddingTop+l.paddingBottom,g=l.marginLeft+l.marginRight,_=l.marginTop+l.marginBottom,y=l.borderLeftWidth+l.borderRightWidth,b=l.borderTopWidth+l.borderBottomWidth,w=d&&r,x=t(i.width);!1!==x&&(l.width=x+(w?0:m+y));var k=t(i.height);return!1!==k&&(l.height=k+(w?0:v+b)),l.innerWidth=l.width-(m+y),l.innerHeight=l.height-(v+b),l.outerWidth=l.width+g,l.outerHeight=l.height+_,l}}return d}))},25478:function(t,e,i){var n,s;
/*!
 * Unidragger v2.4.0
 * Draggable base class
 * MIT license
 */(function(o,a){n=[i(34506)],s=function(t){return a(o,t)}.apply(e,n),void 0===s||(t.exports=s)})(window,(function(t,e){"use strict";function i(){}var n=i.prototype=Object.create(e.prototype);n.bindHandles=function(){this._bindHandles(!0)},n.unbindHandles=function(){this._bindHandles(!1)},n._bindHandles=function(e){e=void 0===e||e;for(var i=e?"addEventListener":"removeEventListener",n=e?this._touchActionValue:"",s=0;s<this.handles.length;s++){var o=this.handles[s];this._bindStartEvent(o,e),o[i]("click",this),t.PointerEvent&&(o.style.touchAction=n)}},n._touchActionValue="none",n.pointerDown=function(t,e){var i=this.okayPointerDown(t);i&&(this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY},t.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e]))};var s={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},o={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return n.okayPointerDown=function(t){var e=s[t.target.nodeName],i=o[t.target.type],n=!e||i;return n||this._pointerReset(),n},n.pointerDownBlur=function(){var t=document.activeElement,e=t&&t.blur&&t!=document.body;e&&t.blur()},n.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,i]),this._dragMove(t,e,i)},n._dragPointerMove=function(t,e){var i={x:e.pageX-this.pointerDownPointer.pageX,y:e.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(i)&&this._dragStart(t,e),i},n.hasDragStarted=function(t){return Math.abs(t.x)>3||Math.abs(t.y)>3},n.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]),this._dragPointerUp(t,e)},n._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e)},n._dragStart=function(t,e){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(t,e)},n.dragStart=function(t,e){this.emitEvent("dragStart",[t,e])},n._dragMove=function(t,e,i){this.isDragging&&this.dragMove(t,e,i)},n.dragMove=function(t,e,i){t.preventDefault(),this.emitEvent("dragMove",[t,e,i])},n._dragEnd=function(t,e){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(t,e)},n.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e])},n.onclick=function(t){this.isPreventingClicks&&t.preventDefault()},n._staticClick=function(t,e){this.isIgnoringMouseUp&&"mouseup"==t.type||(this.staticClick(t,e),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},n.staticClick=function(t,e){this.emitEvent("staticClick",[t,e])},i.getPointerPoint=e.getPointerPoint,i}))},82356:function(t,e,i){var n=i(75179);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(31982).Z;s("15886648",n,!0,{sourceMap:!1,shadowMode:!1})},20244:function(t,e,i){var n=i(99526);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(31982).Z;s("54ebc155",n,!0,{sourceMap:!1,shadowMode:!1})},59973:function(t,e,i){var n=i(57301);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(31982).Z;s("71109d3e",n,!0,{sourceMap:!1,shadowMode:!1})},88297:function(t,e,i){var n=i(87316);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(31982).Z;s("a38c187e",n,!0,{sourceMap:!1,shadowMode:!1})},70240:function(t,e,i){var n=i(52496);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(31982).Z;s("d4a54d3a",n,!0,{sourceMap:!1,shadowMode:!1})},61233:function(t,e,i){var n=i(83478);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(31982).Z;s("248287b2",n,!0,{sourceMap:!1,shadowMode:!1})},81162:function(t,e,i){var n=i(66721);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(31982).Z;s("22a564ba",n,!0,{sourceMap:!1,shadowMode:!1})},87660:function(t,e,i){var n=i(86791);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(31982).Z;s("58d902be",n,!0,{sourceMap:!1,shadowMode:!1})},60291:function(t,e,i){var n=i(93387);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(31982).Z;s("548a15ac",n,!0,{sourceMap:!1,shadowMode:!1})},53539:function(t,e,i){var n=i(82090);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(31982).Z;s("2557bd8a",n,!0,{sourceMap:!1,shadowMode:!1})},88247:function(t,e,i){var n=i(7584);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(31982).Z;s("4f7de598",n,!0,{sourceMap:!1,shadowMode:!1})},15364:function(t,e,i){var n=i(53218);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(31982).Z;s("ca16ef34",n,!0,{sourceMap:!1,shadowMode:!1})},59693:function(t,e,i){var n=i(11218);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(31982).Z;s("34869aea",n,!0,{sourceMap:!1,shadowMode:!1})},95934:function(t,e,i){var n=i(59630);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(31982).Z;s("2a1da00a",n,!0,{sourceMap:!1,shadowMode:!1})},20764:function(t,e,i){var n=i(35339);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(31982).Z;s("d50ddc28",n,!0,{sourceMap:!1,shadowMode:!1})},84825:function(t,e,i){var n=i(59691);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=i(31982).Z;s("1b8cce71",n,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=123.js.map