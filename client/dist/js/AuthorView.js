(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[112],{87160:function(t,e,a){"use strict";a.d(e,{Z:function(){return N}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_authorCard",class:{"u-card2":"full"!==t.context},attrs:{"data-context":t.context,"data-isself":t.is_self}},[a("full"!==t.context?"router-link":"span",{tag:"component",staticClass:"_linkTo",attrs:{to:t.author_url},nativeOn:{click:function(e){"full"!==t.context&&t.$emit("navToPage")}}},[a("div",{staticClass:"_topbar"},[a("div",{staticClass:"_cover"},[a("CoverField",{attrs:{context:t.context,cover:t.author.$cover,title:t.$t("pick_portrait"),preview_format:"circle",path:t.author.$path,placeholder:t.author.name.substring(0,2),can_edit:t.can_edit}})],1),a("div",{staticClass:"_text"},[a("div",{},[a("TitleField",{attrs:{field_name:"name",content:t.author.name,path:t.author.$path,required:!0,minlength:3,maxlength:40,tag:"h2",can_edit:t.can_edit}}),t.authorIsInstance({field:"$admins",folder_path:t.author.$path})?a("div",{staticClass:"u-instructions"},[a("small",[a("b-icon",{attrs:{icon:"shield-check","aria-label":t.$t("admin")}}),t._v(" "+t._s(t.$t("admin"))+" ")],1)]):t.is_instance_admin&&"full"===t.context?a("div",[a("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){t.show_settings_modal=!0}}},[t._v(" "+t._s(t.$t("add_to_instance_admin"))+" ")]),t.show_settings_modal?a("AdminSettings",{attrs:{starting_tab:"administration_and_access_control"},on:{close:function(e){t.show_settings_modal=!1}}}):t._e()],1):t._e()],1),t.is_instance_admin||t.is_self?a("div",[a("TitleField",{attrs:{field_name:"email",label:"full"===t.context?t.$t("email"):void 0,content:t.author.email,path:t.author.$path,required:t.$root.app_infos.instance_meta.require_mail_to_signup,input_type:"email",autocomplete:"email",can_edit:t.can_edit}})],1):t._e(),"full"===t.context?a("TitleField",{staticClass:"_presentation",attrs:{field_name:"presentation",label:t.can_edit&&!t.author.presentation?t.$t("presentation"):"",content:t.author.presentation,path:t.author.$path,maxlength:1280,input_type:"markdown",can_edit:t.can_edit}}):t._e()],1)]),t.can_edit?a("DetailsPane",{attrs:{header:t.$t("options"),icon:"gear"}},[a("div",{staticClass:"u-spacingBottom"},[a("TitleField",{attrs:{field_name:"$password",label:t.$t("password"),content:"",path:t.author.$path,required:!0,minlength:3,maxlength:20,input_type:"password",can_edit:t.can_edit}})],1),a("div",{},[a("RemoveMenu",{attrs:{remove_text:t.$t("remove_author"),remove_expl:t.$t("remove_author_expl")},on:{remove:t.removeAuthor}})],1)]):t._e()],1)],1)},n=[],i=(a(57658),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("BaseModal2",{attrs:{title:t.$t("admin_settings")},on:{close:function(e){return t.$emit("close")}}},[a("div",{},[t.is_loading?a("div",{key:"loader",staticClass:"_spinner"},[a("LoaderSpinner")],1):a("div",[a("sl-tab-group",{ref:"tabgroup",on:{"sl-tab-show":t.newTabShown}},[a("sl-tab",{attrs:{slot:"nav",panel:"informations"},slot:"nav"},[t._v(" "+t._s(t.$t("informations"))+" ")]),a("sl-tab",{attrs:{slot:"nav",panel:"logo_and_images"},slot:"nav"},[t._v(" "+t._s(t.$t("logo_and_images"))+" ")]),a("sl-tab",{attrs:{slot:"nav",panel:"administration_and_access_control"},slot:"nav"},[t._v(" "+t._s(t.$t("administration_and_access_control"))+" ")]),a("sl-tab",{attrs:{slot:"nav",panel:"fonts"},slot:"nav"},[t._v(" "+t._s(t.$t("fonts"))+" ")]),a("sl-tab",{attrs:{slot:"nav",panel:"events"},slot:"nav"},[t._v(" "+t._s(t.$t("events"))+" ")]),a("sl-tab",{attrs:{slot:"nav",panel:"pages"},slot:"nav"},[t._v(" "+t._s(t.$t("pages"))+" ")]),a("sl-tab",{attrs:{slot:"nav",panel:"storage"},slot:"nav"},[t._v(" "+t._s(t.$t("storage"))+" ")]),a("sl-tab-panel",{attrs:{name:"informations"}},["informations"===t.current_tab?[a("div",{staticClass:"u-spacingBottom"},[a("TitleField",{staticClass:"u-spacingBottom",attrs:{field_name:"name_of_instance",label:t.$t("name_of_instance"),instructions:t.$t("name_of_instance_instructions"),content:t.settings.name_of_instance||"",path:t.settings.$path,tag:"h1",maxlength:40,can_edit:t.is_instance_admin}})],1),a("div",{staticClass:"u-spacingBottom"},[a("TitleField",{attrs:{field_name:"presentation_of_instance",label:t.$t("presentation_of_instance"),instructions:t.$t("presentation_of_instance_instructions"),content:t.settings.presentation_of_instance,path:t.settings.$path,required:!1,input_type:"markdown",can_edit:t.is_instance_admin}})],1),a("div",{staticClass:"u-spacingBottom"},[a("TitleField",{attrs:{field_name:"contactmail_of_instance",label:t.$t("contactmail_of_instance"),instructions:t.$t("contactmail_of_instance_instructions"),content:t.settings.contactmail_of_instance,path:t.settings.$path,required:!1,input_type:"email",can_edit:t.is_instance_admin}})],1),a("div",{staticClass:"u-instructions"},[a("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:t.reloadPage}},[t._v(" "+t._s(t.$t("refresh_window_to_apply"))+" ")])])]:t._e()],2),a("sl-tab-panel",{attrs:{name:"logo_and_images"}},["logo_and_images"===t.current_tab?[a("ImagesPanel",{attrs:{settings:t.settings,can_edit:t.is_instance_admin},on:{reloadPage:t.reloadPage}})]:t._e()],2),a("sl-tab-panel",{attrs:{name:"administration_and_access_control"}},["administration_and_access_control"===t.current_tab?[a("AdminsAndContributorsField",{attrs:{folder:t.settings,can_edit:t.is_instance_admin,custom_label:t.$t("instance_admins_and_admins"),admin_label:t.$t("admin"),admin_instructions:t.$t("instance_admin_instructions"),contrib_instructions:t.$t("instance_contrib_instructions")}}),a("br"),a("ToggleField",{attrs:{label:t.$t("require_signup_to_contribute"),field_name:"require_signup_to_contribute",content:!0===t.settings.require_signup_to_contribute,path:t.settings.$path,can_edit:t.is_instance_admin}}),a("br"),a("ToggleField",{attrs:{label:t.$t("require_mail_to_signup"),field_name:"require_mail_to_signup",content:!0===t.settings.require_mail_to_signup,path:t.settings.$path,can_edit:t.is_instance_admin}}),a("br"),a("TitleField",{attrs:{field_name:"general_password",label:t.$t("general_password"),instructions:t.$t("general_password_instructions"),content:t.settings.general_password,path:t.settings.$path,input_type:"password",required:!1,can_edit:t.is_instance_admin}}),a("br"),a("TitleField",{attrs:{field_name:"signup_password",label:t.$t("signup_password"),instructions:t.$t("signup_password_instructions"),content:t.settings.signup_password,path:t.settings.$path,required:!1,can_edit:t.is_instance_admin}}),a("br"),a("div",{staticClass:"u-instructions"},[t._v(" "+t._s(t.$t("restart_to_apply"))+" ")])]:t._e()],2),a("sl-tab-panel",{attrs:{name:"fonts"}},["fonts"===t.current_tab?a("FontsPanel"):t._e()],1),a("sl-tab-panel",{attrs:{name:"events"}},["events"===t.current_tab?[a("div",{},[t._v(t._s(t.$t("events")))]),a("ToggleField",{attrs:{label:t.$t("enable_events"),field_name:"enable_events",content:!0===t.settings.require_signup_to_contribute,path:t.settings.$path,can_edit:t.is_instance_admin}})]:t._e()],2),a("sl-tab-panel",{attrs:{name:"pages"}},["pages"===t.current_tab?a("PagesPanel",{on:{close:function(e){return t.$emit("close")}}}):t._e()],1),a("sl-tab-panel",{attrs:{name:"storage"}},["storage"===t.current_tab?a("PickNativePath",{attrs:{can_edit:t.is_instance_admin&&t.$root.app_infos.is_electron}}):t._e(),a("br"),a("div",{staticClass:"u-instructions"},[t._v(" "+t._s(t.$t("restart_to_apply"))+" ")])],1)],1)],1)])])}),o=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.opened_font_item_path?[a("FontItem",{attrs:{font_path:t.opened_font_item_path},on:{toggle:function(e){t.opened_font_item_path=!1}}})]:[a("div",t._l(t.fonts,(function(e){return a("div",{key:e.$path,staticClass:"_fontRow"},[a("h3",[t._v(" "+t._s(e.title)+" ")]),a("button",{staticClass:"u-buttonLink",attrs:{type:"button"},domProps:{textContent:t._s(t.$t("open"))},on:{click:function(a){return t.openFontItem(e.$path)}}})])})),0),a("br"),a("button",{staticClass:"u-button u-button_bleuvert",class:{"is--active":t.show_create_font},attrs:{type:"button"},on:{click:function(e){t.show_create_font=!t.show_create_font}}},[t._v(" "+t._s(t.$t("add"))+" ")]),t.show_create_font?a("form",{staticClass:"input-validation-required",on:{submit:function(e){return e.preventDefault(),t.createFont.apply(null,arguments)}}},[a("fieldset",[a("legend",{staticClass:"u-label"},[t._v(t._s(t.$t("add_font")))]),a("TextInput",{attrs:{content:t.new_font_title,label_str:"font_name",required:!0,input_type:"text"},on:{"update:content":function(e){t.new_font_title=e}}}),a("br"),a("br"),a("button",{staticClass:"u-button u-button_bleuvert",attrs:{slot:"footer",disabled:0===t.new_font_title.length,type:"submit"},slot:"footer"},[t._v(" "+t._s(t.$t("create"))+" ")])],1)]):t._e()]],2)},l=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_fontItem"},[t.is_loading?a("div",{key:"loader",staticClass:"_spinner"},[a("LoaderSpinner")],1):a("div",[a("div",{staticClass:"_topContent"},[a("TitleField",{staticClass:"_title",attrs:{field_name:"title",content:t.font.title,path:t.font_path,tag:"h3",can_edit:!0}}),a("button",{staticClass:"u-buttonLink",attrs:{type:"button"},domProps:{textContent:t._s(t.$t("close"))},on:{click:function(e){return t.$emit("toggle")}}})],1),a("div",[a("br"),a("div",{staticClass:"u-instructions"},[a("small",[t._v(" "+t._s(t.$t("font_instr"))+" ")])]),a("br"),a("div",[a("DLabel",{attrs:{str:"1."+t.$t("import")}}),a("input",{staticClass:"inputfile-2",attrs:{type:"file",multiple:"multiple",id:t.id+"-add_file",name:"file",accept:".woff2"},on:{change:function(e){return t.updateInputFiles(e)}}}),a("label",{attrs:{for:t.id+"-add_file"}},[a("svg",{attrs:{width:"20",height:"17",viewBox:"0 0 20 17"}},[a("path",{attrs:{d:"M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"}})]),t._v(" "+t._s(t.$t("import"))+" ")]),t.selected_files.length>0?a("UploadFiles",{attrs:{files_to_import:t.selected_files,path:t.font_path},on:{close:function(e){t.selected_files=[]}}}):t._e()],1),a("br"),t.font.$files&&t.font.$files.length>0?a("div",{},[a("DLabel",{attrs:{str:"2."+t.$t("select")}}),a("div",{staticClass:"_fileList"},t._l(t.font_options,(function(e,s){return a("div",{key:s,staticClass:"_file",attrs:{value:e.key}},[t._v(" "+t._s(e.text)+" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.new_font_files[e.key],expression:"new_font_files[font_option.key]"}],on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.new_font_files,e.key,a.target.multiple?s:s[0])}}},[a("option",{attrs:{value:""},domProps:{textContent:t._s("–")}}),t._l(t.font.$files,(function(e){return a("option",{key:e.$path,domProps:{textContent:t._s(e.$media_filename)}})}))],2)])})),0),JSON.stringify(t.font.font_files)!==JSON.stringify(t.new_font_files)?[a("br"),a("SaveCancelButtons",{staticClass:"_scb",on:{save:t.updateFont,cancel:t.cancel}})]:t._e()],2):t._e(),a("div",{staticClass:"u-instructions"},[a("small",[t._v(" "+t._s(t.$t("reload_page_to_apply"))+" ")])]),a("button",{staticClass:"u-button",attrs:{type:"button"},on:{click:function(e){return t.$router.go()}}},[t._v(" "+t._s(t.$t("reload_page"))+" ")])])])])},_=[],u={props:{font_path:String},components:{},data(){return{selected_files:[],id:`fonts_upload_${(Math.random().toString(36)+"00000000000000000").slice(2,5)}`,is_loading:!0,font:void 0,new_font_files:{},font_options:[{key:"regular-normal",text:this.$t("font_regular")+"/"+this.$t("font_normal")},{key:"regular-italic",text:this.$t("font_regular")+"/"+this.$t("font_italic")},{key:"bold-normal",text:this.$t("font_bold")+"/"+this.$t("font_normal")},{key:"bold-italic",text:this.$t("font_bold")+"/"+this.$t("font_italic")}]}},created(){},async mounted(){this.font=await this.$api.getFolder({path:this.font_path}),this.new_font_files=this.font.font_files||{},this.is_loading=!1,this.$api.join({room:this.font_path})},beforeDestroy(){this.$api.leave({room:this.font_path})},watch:{"font.font_files"(){this.initFF()}},computed:{},methods:{initFF(){this.new_font_files=JSON.parse(JSON.stringify(this.font.font_files))},updateInputFiles(t){this.selected_files=Array.from(t.target.files),t.target.value=""},async updateFont(){await this.$api.updateMeta({path:this.font_path,new_meta:{font_files:this.new_font_files}}),this.$emit("toggle")},cancel(){this.initFF()}}},d=u,p=(a(7792),a(1001)),h=(0,p.Z)(d,c,_,!1,null,"041d16a7",null),f=h.exports,m={props:{},components:{FontItem:f},data(){return{fonts:void 0,show_create_font:!1,opened_font_item_path:!1,new_font_title:"",path:"fonts"}},created(){},async mounted(){this.fonts=await this.$api.getFolders({path:this.path}).catch((t=>{this.fetch_fonts_error=t.response})),this.$api.join({room:this.path})},beforeDestroy(){this.$api.leave({room:this.path})},watch:{},computed:{},methods:{async createFont(){const t=await this.$api.createFolder({path:this.path,additional_meta:{title:this.new_font_title,requested_slug:this.new_font_title,$status:"public"}});this.openFontItem(this.path+"/"+t)},openFontItem(t){this.opened_font_item_path=t}}},g=m,v=(a(87003),(0,p.Z)(g,r,l,!1,null,"0b1c0cf3",null)),b=v.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("DLabel",{attrs:{str:t.$t("images")}}),a("div",{staticClass:"u-spacingBottom"},[a("input",{staticClass:"inputfile-2",attrs:{type:"file",multiple:"multiple",id:t.id+"-add_file",name:"file",accept:"image/*"},on:{change:function(e){return t.updateInputFiles(e)}}}),a("label",{attrs:{for:t.id+"-add_file"}},[a("svg",{attrs:{width:"20",height:"17",viewBox:"0 0 20 17"}},[a("path",{attrs:{d:"M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"}})]),t._v(" "+t._s(t.$t("import"))+" ")]),t.selected_files.length>0?a("UploadFiles",{attrs:{files_to_import:t.selected_files,path:t.settings.$path},on:{close:function(e){t.selected_files=[]}}}):t._e()],1),t.settings.$files&&t.settings.$files.length>0?a("div",{staticClass:"u-spacingBottom _imagesList"},t._l(t.settings.$files,(function(t){return a("div",{key:t.$path,staticClass:"_imagesList--image"},[a("MediaContent",{attrs:{file:t,context:"preview",resolution:640}})],1)})),0):t._e(),t.settings.$files?a("div",t._l(t.possible_types,(function(e){return a("div",{key:e.key,staticClass:"u-spacingBottom"},[a("DLabel",{attrs:{str:e.label,instructions:e.instructions}}),a("RadioCheckboxField",{attrs:{field_name:e.key,input_type:"radio",content:t.settings[e.key],path:t.settings.$path,can_edit:t.can_edit,options:t.editing_options}})],1)})),0):t._e(),a("ColorInput",{staticClass:"u-spacingBottom",attrs:{label:t.$t("hero_background_color"),value:t.settings.hero_background_color},on:{save:function(e){return t.saveNewHeroBgColor({$event:e,field:"hero_background_color"})}}}),a("ColorInput",{staticClass:"u-spacingBottom",attrs:{label:t.$t("text_background_color"),value:t.settings.text_background_color},on:{save:function(e){return t.saveNewHeroBgColor({$event:e,field:"text_background_color"})}}}),a("div",{staticClass:"u-spacingBottom"},[a("DLabel",{attrs:{str:t.$t("text_image_layout")}}),a("RadioCheckboxField",{attrs:{field_name:"text_image_layout",input_type:"radio",content:t.settings["text_image_layout"],path:t.settings.$path,can_edit:t.can_edit,options:t.layout_options}})],1),a("div",{staticClass:"u-instructions"},[a("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("reloadPage")}}},[t._v(" "+t._s(t.$t("refresh_window_to_apply"))+" ")])])],1)},w=[],y={props:{settings:Object,can_edit:Boolean},components:{},data(){return{selected_files:[],id:`admin_images_upload_${(Math.random().toString(36)+"00000000000000000").slice(2,5)}`,possible_types:[{key:"favicon_image_name",label:this.$t("favicon_image"),instructions:this.$t("favicon_image_instr")},{key:"topbar_image_name",label:this.$t("topbar_image"),instructions:this.$t("topbar_image_instr")},{key:"hero_image_name",label:this.$t("hero_image"),instructions:this.$t("hero_image_instr")}],layout_options:[{key:"image_text",label:"Image + texte"},{key:"text_image",label:"Texte + image"},{key:"image_text_overlay",label:"Image et texte superposés"}]}},created(){},async mounted(){},beforeDestroy(){},watch:{},computed:{editing_options(){if(!this.settings.$files||0===this.settings.$files.length)return[];let t=[];return t.push({key:"",label:"–"}),this.settings.$files.map((e=>{const a=this.makeRelativeURLFromThumbs({$thumbs:e.$thumbs,$type:e.$type,$path:"",resolution:640});t.push({key:e.$path,label:e.$path,thumb_src:a})})),t}},methods:{async saveNewHeroBgColor({$event:t,field:e}){await this.$api.updateMeta({path:this.settings.$path,new_meta:{[e]:t||""}})},updateInputFiles(t){this.selected_files=Array.from(t.target.files),t.target.value=""},imageSelected(t){return this.settings[t]},async updateImageField(t,e){await this.$api.updateMeta({path:this.settings.$path,new_meta:{[e]:t}})}}},x=y,C=(a(14970),(0,p.Z)(x,$,w,!1,null,"80193df2",null)),k=C.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"_pagesList"},t._l(t.pages,(function(e){return a("div",{key:e.$path,staticClass:"_pagesList--page"},[a("h3",[t._v(" "+t._s(e.title)+" ")]),a("router-link",{staticClass:"u-buttonLink",attrs:{to:t.createURLFromPath(e.$path)},nativeOn:{click:function(e){return t.$emit("close")}}},[t._v(" "+t._s(t.$t("open"))+" ")])],1)})),0),a("br"),a("button",{staticClass:"u-button u-button_bleuvert",class:{"is--active":t.show_create_page},attrs:{type:"button"},on:{click:function(e){t.show_create_page=!t.show_create_page}}},[t._v(" "+t._s(t.$t("add"))+" ")]),t.show_create_page?a("form",{staticClass:"input-validation-required",on:{submit:function(e){return e.preventDefault(),t.createPage.apply(null,arguments)}}},[a("fieldset",[a("legend",{staticClass:"u-label"},[t._v(t._s(t.$t("create_page")))]),a("TextInput",{attrs:{content:t.new_page_title,label_str:"title",required:!0,input_type:"text"},on:{"update:content":function(e){t.new_page_title=e}}}),a("br"),a("br"),a("button",{staticClass:"u-button u-button_bleuvert",attrs:{slot:"footer",disabled:0===t.new_page_title.length,type:"submit"},slot:"footer"},[t._v(" "+t._s(t.$t("create"))+" ")])],1)]):t._e()])},M=[],T={props:{},components:{},data(){return{pages:void 0,fetch_pages_error:void 0,show_create_page:!1,new_page_title:"",path:"pages"}},created(){},async mounted(){this.pages=await this.$api.getFolders({path:this.path}).catch((t=>{this.fetch_pages_error=t.response})),this.$api.join({room:this.path})},beforeDestroy(){this.$api.leave({room:this.path})},watch:{},computed:{},methods:{async createPage(){await this.$api.createFolder({path:this.path,additional_meta:{title:this.new_page_title,requested_slug:this.new_page_title,$status:"public"}});this.show_create_page=!1}}},L=T,P=(a(39915),(0,p.Z)(L,F,M,!1,null,"577c2c9d",null)),I=P.exports,A={props:{starting_tab:String},components:{FontsPanel:b,ImagesPanel:k,PagesPanel:I},data(){return{path_to_content:void 0,new_path_to_content:void 0,settings:void 0,is_loading:!0,current_tab:"informations"}},created(){},async mounted(){this.settings=await this.$api.getFolder({path:""}).catch((t=>(this.is_loading=!1,t))),this.is_loading=!1,this.starting_tab&&setTimeout((()=>{this.$refs.tabgroup.show(this.starting_tab)}),100),this.$api.join({room:this.settings.$path})},beforeDestroy(){this.$api.leave({room:this.settings.$path})},watch:{},computed:{},methods:{restartDodoc(){this.$api.restartDodoc()},reloadPage(){window.location.reload()},saveNewPathToContent(){},newTabShown(t){this.current_tab=t.detail.name}}},q=A,B=(0,p.Z)(q,i,o,!1,null,"790e37fd",null),D=B.exports,Z={props:{author:Object,context:String},components:{AdminSettings:D},data(){return{show_settings_modal:!1}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{is_self(){return!!this.connected_as&&this.connected_as.$path===this.author.$path},can_edit(){return(this.is_self||this.is_instance_admin)&&"full"===this.context},author_url(){return this.createURLFromPath(this.author.$path)}},methods:{async removeAuthor(){await this.$api.deleteItem({path:this.author.$path}),this.is_self&&await this.$api.logoutFromFolder(),this.$router.push("/@")}}},S=Z,j=(a(12410),(0,p.Z)(S,s,n,!1,null,"fe965b86",null)),N=j.exports},54274:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return _}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_authorView"},[a("div",{staticClass:"_backBtn"},[a("router-link",{staticClass:"u-buttonLink",attrs:{to:"/"}},[a("b-icon",{attrs:{icon:"arrow-left-short"}}),t._v(" "+t._s(t.$t("home"))+" ")],1),a("router-link",{staticClass:"u-buttonLink",attrs:{to:"/@"}},[a("b-icon",{attrs:{icon:"slash"}}),t._v(" "+t._s(t.$t("list_of_contributors"))+" ")],1)],1),t.is_loading?a("div",{key:"loader",staticClass:"_spinner"},[a("LoaderSpinner")],1):[a("div",{staticClass:"_card"},[a("AuthorCard",{key:t.author.$path,staticClass:"u-spacingBottom",attrs:{author:t.author,context:"full"}})],1)]],2)},n=[],i=a(87160),o={props:{},components:{AuthorCard:i.Z},data(){return{author:void 0,is_loading:!0,fetch_author_error:!1}},created(){},async mounted(){await this.listAuthor(),this.$api.join({room:this.author.$path})},beforeDestroy(){this.$api.leave({room:this.author.$path})},watch:{},computed:{},methods:{async listAuthor(){const t=this.createPath({author_slug:this.$route.params.author_slug}),e=await this.$api.getFolder({path:t}).catch((t=>{this.fetch_author_error=t.response,this.is_loading=!1}));this.is_loading=!1,this.author=e}}},r=o,l=(a(55820),a(1001)),c=(0,l.Z)(r,s,n,!1,null,"2f3da02c",null),_=c.exports},55719:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_notFound"},[a("h2",[t._v(t._s(t.$t("page_not_found")))]),a("router-link",{staticClass:"u-buttonLink",attrs:{to:"/"}},[t._v(" "+t._s(t.$t("go_home"))+" ")])],1)},n=[],i={props:{},components:{},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{}},o=i,r=(a(41707),a(1001)),l=(0,r.Z)(o,s,n,!1,null,"352da5ea",null),c=l.exports},9375:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_uiView"},[a("div",{staticClass:"_authors"},t._l(t.authors_sublist,(function(t){var e=t.$path;return a("AuthorTag",{key:e,attrs:{path:e}})})),1),a("hr"),a("div",{staticClass:"_authors"},t._l(t.authors_sublist,(function(e){var s=e.$path;return a("AuthorTag",{key:s,attrs:{path:s},on:{click:t.dummy}})})),1),a("hr"),a("div",{staticClass:"_authors"},t._l(t.authors_sublist,(function(e){var s=e.$path;return a("AuthorTag",{key:s,attrs:{path:s,mode:"select"},on:{click:t.dummy}})})),1),a("hr"),a("div",{staticClass:"_authors"},t._l(t.authors_sublist,(function(e){var s=e.$path;return a("AuthorTag",{key:s,attrs:{path:s,mode:"add"},on:{click:t.dummy}})})),1),a("hr"),a("div",{staticClass:"_authors"},t._l(t.authors_sublist,(function(e){var s=e.$path;return a("AuthorTag",{key:s,attrs:{path:s,mode:"remove"},on:{click:t.dummy}})})),1),a("hr"),a("div",{staticClass:"_authors"},t._l(t.authors_sublist,(function(t){var e=t.$path;return a("AuthorTag",{key:e,attrs:{path:e,mode:"link"}})})),1),a("hr"),a("div",{staticClass:"_authors"},t._l(t.authors_sublist,(function(t){var e=t.$path;return a("AuthorTag",{key:e,attrs:{path:e,show_image_only:!0,mode:"link"}})})),1),a("hr"),a("div",{key:"list",staticClass:"u-listOfAvatars"},t._l(t.authors_sublist,(function(t){var e=t.$path;return a("AuthorTag",{key:e,attrs:{path:e,show_image_only:!0,mode:"link"}})})),1)])},n=[],i={props:{},components:{},data(){return{authors:[]}},i18n:{messages:{fr:{}}},created(){},async mounted(){this.authors=await this.$api.getFolders({path:"authors"})},beforeDestroy(){},watch:{},computed:{authors_sublist(){return this.authors.slice(0,5)}},methods:{dummy(){}}},o=i,r=(a(73714),a(1001)),l=(0,r.Z)(o,s,n,!1,null,"03ac0f5a",null),c=l.exports},51910:function(t,e,a){"use strict";a.r(e);var s=a(8081),n=a.n(s),i=a(23645),o=a.n(i),r=o()(n());r.push([t.id,"._authorCard[data-v-fe965b86]{border-radius:3px}._authorCard[data-isself][data-v-fe965b86]:not([data-context=full]){border:1px solid var(--c-bleumarine);background-color:var(--c-bleumarine_clair)}._authorCard ._topbar[data-v-fe965b86]{display:flex;flex-flow:row nowrap;align-items:center;gap:calc(var(--spacing)/2);padding:calc(var(--spacing)/2)}._authorCard ._topbar>*[data-v-fe965b86]{flex:1 1 0}._authorCard ._topbar>._cover[data-v-fe965b86]{flex:0 0 100px;aspect-ratio:1/1}._authorCard[data-context=full] ._topbar[data-v-fe965b86]{flex-flow:column nowrap;align-items:stretch}._authorCard[data-context=full] ._topbar ._cover[data-v-fe965b86]{flex:0 0 auto}._linkTo[data-v-fe965b86]{text-decoration:none;color:inherit}._cover[data-v-fe965b86]{position:relative;overflow:hidden}._text[data-v-fe965b86]{display:flex;flex-flow:column nowrap;padding-bottom:calc(var(--spacing)/2);gap:calc(var(--spacing)/2)}._text[data-v-fe965b86]  a{color:currentColor}",""]),e["default"]=r},69626:function(t,e,a){"use strict";a.r(e);var s=a(8081),n=a.n(s),i=a(23645),o=a.n(i),r=o()(n());r.push([t.id,"._fontItem[data-v-041d16a7]{padding:calc(var(--spacing)/2) 0}._topContent[data-v-041d16a7]{display:flex;flex-flow:row wrap;justify-content:space-between}._topContent ._title[data-v-041d16a7]{width:auto}._fileList[data-v-041d16a7]{display:flex;flex-flow:column nowrap;padding:calc(var(--spacing)/2) 0;gap:calc(var(--spacing)/2)}._file>*[data-v-041d16a7]{flex:0 0 50%}",""]),e["default"]=r},33825:function(t,e,a){"use strict";a.r(e);var s=a(8081),n=a.n(s),i=a(23645),o=a.n(i),r=o()(n());r.push([t.id,"._fontRow[data-v-0b1c0cf3]{display:flex;justify-content:space-between;align-content:center;border-bottom:2px solid var(--c-gris);padding:calc(var(--spacing)/2) 0}",""]),e["default"]=r},94647:function(t,e,a){"use strict";a.r(e);var s=a(8081),n=a.n(s),i=a(23645),o=a.n(i),r=o()(n());r.push([t.id,"._cover[data-v-80193df2]{position:relative;width:100%;aspect-ratio:2/1;border:2px solid var(--c-gris)}._cover[data-v-80193df2]  img{-o-object-fit:scale-down;object-fit:scale-down}._imagesList[data-v-80193df2]{border:2px solid var(--c-gris);display:grid;grid-template-columns:repeat(auto-fill,minmax(50px,1fr));gap:2px;padding:calc(var(--spacing)/4)}._imagesList--image[data-v-80193df2]{width:100%;aspect-ratio:1}._imagesList--image[data-v-80193df2]  ._mediaContent{width:100%;height:100%}._imagesList--image[data-v-80193df2]  ._mediaContent--image{position:absolute;width:100%;height:100%;-o-object-fit:cover;object-fit:cover;max-width:none}",""]),e["default"]=r},39600:function(t,e,a){"use strict";a.r(e);var s=a(8081),n=a.n(s),i=a(23645),o=a.n(i),r=o()(n());r.push([t.id,"._pagesList--page[data-v-577c2c9d]{display:flex;justify-content:space-between;align-content:center;border-bottom:2px solid var(--c-gris);padding:calc(var(--spacing)/2) 0}",""]),e["default"]=r},22410:function(t,e,a){"use strict";a.r(e);var s=a(8081),n=a.n(s),i=a(23645),o=a.n(i),r=o()(n());r.push([t.id,"._authorView[data-v-2f3da02c]{padding:calc(var(--spacing)*1);padding-bottom:calc(var(--spacing)*6)}._card[data-v-2f3da02c]{max-width:400px;margin:0 auto}",""]),e["default"]=r},28776:function(t,e,a){"use strict";a.r(e);var s=a(8081),n=a.n(s),i=a(23645),o=a.n(i),r=o()(n());r.push([t.id,"._notFound[data-v-352da5ea]{width:100%;min-height:60vh;margin:0 auto;max-width:var(--max-column-width);padding:calc(var(--spacing)*1);display:flex;flex-flow:column nowrap;justify-content:center;align-items:center;gap:calc(var(--spacing)/2)}",""]),e["default"]=r},64770:function(t,e,a){"use strict";a.r(e);var s=a(8081),n=a.n(s),i=a(23645),o=a.n(i),r=o()(n());r.push([t.id,"._uiView[data-v-03ac0f5a]{max-width:600px;margin:calc(var(--spacing)/1) auto;width:100%}._authors[data-v-03ac0f5a]{display:flex;flex-flow:row wrap;align-items:center;gap:calc(var(--spacing)/4)}",""]),e["default"]=r},12410:function(t,e,a){var s=a(51910);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var n=a(31982).Z;n("b2c2dfb2",s,!0,{sourceMap:!1,shadowMode:!1})},7792:function(t,e,a){var s=a(69626);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var n=a(31982).Z;n("0a8260e9",s,!0,{sourceMap:!1,shadowMode:!1})},87003:function(t,e,a){var s=a(33825);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var n=a(31982).Z;n("463f413b",s,!0,{sourceMap:!1,shadowMode:!1})},14970:function(t,e,a){var s=a(94647);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var n=a(31982).Z;n("368e6618",s,!0,{sourceMap:!1,shadowMode:!1})},39915:function(t,e,a){var s=a(39600);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var n=a(31982).Z;n("35bfefe1",s,!0,{sourceMap:!1,shadowMode:!1})},55820:function(t,e,a){var s=a(22410);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var n=a(31982).Z;n("5be58946",s,!0,{sourceMap:!1,shadowMode:!1})},41707:function(t,e,a){var s=a(28776);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var n=a(31982).Z;n("0e93d47c",s,!0,{sourceMap:!1,shadowMode:!1})},73714:function(t,e,a){var s=a(64770);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);var n=a(31982).Z;n("3c8c6c3f",s,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=AuthorView.js.map