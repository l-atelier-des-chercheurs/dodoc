{"version":3,"file":"js/504.js","mappings":"mJAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,SAAS,CAACE,MAAM,CAAC,IAAMJ,EAAIK,GAAG,kBAAuD,IAApCL,EAAIM,qBAAqBC,OAAcL,EAAG,MAAM,CAACF,EAAIQ,GAAG,OAAO,CAAER,EAAIM,qBAAqBC,OAAS,EAAGL,EAAG,WAAW,CAACE,MAAM,CAAC,KAAOJ,EAAIM,qBAAqB,SAAWN,EAAIS,SAAS,KAAO,OAAOC,GAAG,CAAC,SAAW,SAASC,GAAQ,OAAOX,EAAIY,MAAM,SAAUD,EAAO,KAAKX,EAAIa,OAAO,EACrZ,EACIC,EAAkB,GCctB,GACAC,MAAA,CACAN,SAAAO,OACAC,aAAAD,OACAE,gBAAAC,OAEAC,WAAA,GACAC,IAAAA,GACA,OACAC,YAAA,GAEA,EACAC,OAAAA,GACA,KAAAC,gBAAA,KAAAf,SACA,EACAgB,OAAAA,GAAA,EACAC,aAAAA,GAAA,EACAC,MAAA,CACAV,YAAAA,GAAA,GAMAW,SAAA,CACAC,gBAAAA,GACA,YAAAP,WACA,EACAhB,oBAAAA,GACA,YAAAuB,iBAAAC,QACAC,GACA,KAAAC,gBAAAD,EAAA,KAAAd,gBACA,KAAAC,gBAAAe,MAAAC,GAAAA,IAAAH,KAEA,GAEAI,QAAA,CACA,qBAAAX,CAAAf,GACA,MAAA2B,EAAA,cAAA3B,IACAa,QAAA,KAAAe,KACAC,WAAA,CACAF,SAEAG,OAAAC,IAGA,IAEAlB,GAAAmB,sBACA,KAAAnB,YAAAA,EAAAmB,oBACAC,QACAC,MAAA,CAAAC,EAAAC,IACAD,EAAAE,cAAAD,KAEA,ICtEsQ,I,WCOlQE,GAAY,OACd,EACAhD,EACAe,GACA,EACA,KACA,WACA,MAIF,EAAeiC,EAAiB,O","sources":["webpack://app/./src/adc-core/fields/TagsSuggestion.vue","webpack://app/src/adc-core/fields/TagsSuggestion.vue","webpack://app/./src/adc-core/fields/TagsSuggestion.vue?c8c5","webpack://app/./src/adc-core/fields/TagsSuggestion.vue?08e8"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('DLabel',{attrs:{\"str\":_vm.$t('suggestions')}}),(_vm.filtered_suggestions.length === 0)?_c('div',[_vm._v(\"–\")]):[(_vm.filtered_suggestions.length > 0)?_c('TagsList',{attrs:{\"tags\":_vm.filtered_suggestions,\"tag_type\":_vm.tag_type,\"mode\":'add'},on:{\"tagClick\":function($event){return _vm.$emit('newTag', $event)}}}):_vm._e()]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <DLabel :str=\"$t('suggestions')\" />\n    <div v-if=\"filtered_suggestions.length === 0\">–</div>\n    <template v-else>\n      <TagsList\n        v-if=\"filtered_suggestions.length > 0\"\n        :tags=\"filtered_suggestions\"\n        :tag_type=\"tag_type\"\n        :mode=\"'add'\"\n        @tagClick=\"$emit('newTag', $event)\"\n      />\n    </template>\n  </div>\n</template>\n<script>\nexport default {\n  props: {\n    tag_type: String,\n    new_tag_name: String,\n    tags_to_exclude: Array,\n  },\n  components: {},\n  data() {\n    return {\n      suggestions: [],\n    };\n  },\n  created() {\n    this.loadSuggestions(this.tag_type);\n  },\n  mounted() {},\n  beforeDestroy() {},\n  watch: {\n    new_tag_name() {},\n    // suggestions_list(new_suggestions_list, old_suggestions_list) {\n    // if (old_suggestions_list.length === 0 && new_suggestions_list.length > 0)\n    //   this.show_suggestions = true;\n    // },\n  },\n  computed: {\n    suggestions_list() {\n      return this.suggestions;\n    },\n    filtered_suggestions() {\n      return this.suggestions_list.filter(\n        (s) =>\n          this.twoStringsMatch(s, this.new_tag_name) &&\n          !this.tags_to_exclude.some((t) => t === s)\n      );\n    },\n  },\n  methods: {\n    async loadSuggestions(tag_type) {\n      const path = `categories/${tag_type}`;\n      const suggestions = await this.$api\n        .getFolders({\n          path,\n        })\n        .catch((err) => {\n          // probably no suggestions, abort\n          err;\n          return;\n        });\n      if (suggestions?.list_of_suggestions)\n        this.suggestions = suggestions.list_of_suggestions\n          .slice()\n          .sort((a, b) => {\n            return a.localeCompare(b);\n          });\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TagsSuggestion.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TagsSuggestion.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TagsSuggestion.vue?vue&type=template&id=3a335bdc&scoped=true\"\nimport script from \"./TagsSuggestion.vue?vue&type=script&lang=js\"\nexport * from \"./TagsSuggestion.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a335bdc\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","$t","filtered_suggestions","length","_v","tag_type","on","$event","$emit","_e","staticRenderFns","props","String","new_tag_name","tags_to_exclude","Array","components","data","suggestions","created","loadSuggestions","mounted","beforeDestroy","watch","computed","suggestions_list","filter","s","twoStringsMatch","some","t","methods","path","$api","getFolders","catch","err","list_of_suggestions","slice","sort","a","b","localeCompare","component"],"sourceRoot":""}