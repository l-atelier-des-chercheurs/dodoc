{"version":3,"file":"js/408.js","mappings":"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","sources":["webpack://app/./src/components/KeywordsField.vue?03ae","webpack://app/./src/components/KeywordsFieldEditor.vue?456a","webpack://app/src/components/KeywordsFieldEditor.vue","webpack://app/./src/components/KeywordsFieldEditor.vue?12f0","webpack://app/./src/components/KeywordsFieldEditor.vue","webpack://app/src/components/KeywordsField.vue","webpack://app/./src/components/KeywordsField.vue?462f","webpack://app/./src/components/KeywordsField.vue","webpack://app/./src/components/SingleKeyword.vue?f4be","webpack://app/src/components/SingleKeyword.vue","webpack://app/./src/components/SingleKeyword.vue?00e5","webpack://app/./src/components/SingleKeyword.vue","webpack://app/./src/components/publications/agora/AgoraExport.vue?dfe9","webpack://app/src/components/publications/agora/AgoraExport.vue","webpack://app/./src/components/publications/agora/AgoraExport.vue?a593","webpack://app/./src/components/publications/agora/AgoraExport.vue","webpack://app/./src/components/KeywordsFieldEditor.vue?2c16","webpack://app/./src/components/SingleKeyword.vue?b445","webpack://app/./src/components/publications/agora/AgoraExport.vue?dc9a","webpack://app/./src/components/KeywordsFieldEditor.vue?e44b","webpack://app/./src/components/SingleKeyword.vue?5d5e","webpack://app/./src/components/publications/agora/AgoraExport.vue?b8c9"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"_keywordsField\"},[(_vm.label)?_c('DLabel',{staticClass:\"_label\",attrs:{\"str\":_vm.label}}):_vm._e(),(_vm.keywords.length > 0)?_c('div',{staticClass:\"u-keywords\"},_vm._l((_vm.keywords),function(keyword){return _c('SingleKeyword',{key:keyword,attrs:{\"keyword\":keyword}})}),1):_vm._e(),(_vm.can_edit)?_c('EditBtn',{on:{\"click\":_vm.enableEditMode}}):_vm._e(),(_vm.edit_mode)?_c('BaseModal2',{attrs:{\"title\":_vm.label},on:{\"close\":function($event){_vm.edit_mode = false}}},[(_vm.new_keywords.length > 0)?_c('div',{staticClass:\"u-keywords\"},_vm._l((_vm.new_keywords),function(keyword){return _c('SingleKeyword',{key:keyword,attrs:{\"keyword\":keyword,\"can_remove\":true},on:{\"remove\":function($event){return _vm.removeKeyword(keyword)}}})}),1):_vm._e(),_c('hr'),_c('KeywordsFieldEditor',{attrs:{\"keywords\":_vm.new_keywords},on:{\"update:keywords\":function($event){_vm.new_keywords = $event}}}),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('SaveCancelButtons',{staticClass:\"_scb\",on:{\"save\":_vm.updateKeywords,\"cancel\":_vm.cancel}})],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"_keywordsFieldEditor\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user_suggestion),expression:\"user_suggestion\"}],ref:\"keywordField\",attrs:{\"type\":\"text\",\"required\":\"\",\"placeholder\":_vm.$t('keyword_materials_etc')},domProps:{\"value\":(_vm.user_suggestion)},on:{\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }$event.preventDefault();return _vm.$emit('cancelEdit')},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey){ return null; }$event.preventDefault();return _vm.newKeyword.apply(null, arguments)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }if(!$event.shiftKey){ return null; }if($event.ctrlKey||$event.altKey||$event.metaKey){ return null; }$event.preventDefault();return _vm.submitFirstSuggestion.apply(null, arguments)}],\"input\":function($event){if($event.target.composing){ return; }_vm.user_suggestion=$event.target.value}}}),_c('div',{staticClass:\"u-instructions\"},[_c('small',[(_vm.suggested_keywords.length > 0)?[_vm._v(\" \"+_vm._s(_vm.$t(\"validate_with_shift_enter\"))+\" \")]:(_vm.user_suggestion.length > 0)?[_vm._v(_vm._s(_vm.$t(\"create_new_keyword_enter\")))]:_vm._e()],2)]),_c('div',{staticClass:\"_catSug\"},[(!_vm.suggestion_from_category)?_c('div',{staticClass:\"_categories\"},_vm._l((_vm.categories_with_keywords),function(category){return _c('button',{key:category,staticClass:\"u-button _category\",style:(_vm.getCatColor(category)),attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.toggleCategory(category)}}},[_vm._v(\" \"+_vm._s(category)+\" (\"+_vm._s(_vm.matchingKeywordsWithCategory(category).length)+\") \")])}),0):_c('div',[_c('button',{staticClass:\"u-button _category\",style:(_vm.getCatColor(_vm.suggestion_from_category)),attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.toggleCategory(_vm.suggestion_from_category)}}},[_vm._v(\" \"+_vm._s(_vm.suggestion_from_category)+\" (\"+_vm._s(_vm.matchingKeywordsWithCategory(_vm.suggestion_from_category).length)+\")   \"),_c('b-icon',{attrs:{\"icon\":\"x-circle\"}})],1)]),(_vm.suggested_keywords.length > 0)?_c('div',{staticClass:\"_suggestions\"},[_c('div',{staticClass:\"u-keywords\"},_vm._l((_vm.suggested_keywords),function(suggested_keyword,index){return _c('SingleKeyword',{key:suggested_keyword,class:{\n            'is--first': index === 0,\n          },attrs:{\"keyword\":suggested_keyword,\"can_add\":true},on:{\"add\":function($event){return _vm.addKeyword(suggested_keyword)}}})}),1)]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"_keywordsFieldEditor\">\n    <input\n      type=\"text\"\n      v-model=\"user_suggestion\"\n      ref=\"keywordField\"\n      required\n      :placeholder=\"$t('keyword_materials_etc')\"\n      @keydown.esc.prevent=\"$emit('cancelEdit')\"\n      @keydown.enter.exact.prevent=\"newKeyword\"\n      @keydown.enter.shift.exact.prevent=\"submitFirstSuggestion\"\n    />\n    <div class=\"u-instructions\">\n      <small>\n        <template v-if=\"suggested_keywords.length > 0\">\n          {{ $t(\"validate_with_shift_enter\") }}\n        </template>\n        <template v-else-if=\"user_suggestion.length > 0\">{{\n          $t(\"create_new_keyword_enter\")\n        }}</template>\n      </small>\n    </div>\n\n    <div class=\"_catSug\">\n      <div class=\"_categories\" v-if=\"!suggestion_from_category\">\n        <button\n          v-for=\"category in categories_with_keywords\"\n          type=\"button\"\n          class=\"u-button _category\"\n          :key=\"category\"\n          :style=\"getCatColor(category)\"\n          @click=\"toggleCategory(category)\"\n        >\n          {{ category }}\n          ({{ matchingKeywordsWithCategory(category).length }})\n        </button>\n      </div>\n      <div v-else>\n        <button\n          type=\"button\"\n          class=\"u-button _category\"\n          :style=\"getCatColor(suggestion_from_category)\"\n          @click=\"toggleCategory(suggestion_from_category)\"\n        >\n          {{ suggestion_from_category }}\n          ({{ matchingKeywordsWithCategory(suggestion_from_category).length }})\n          &nbsp;\n          <b-icon icon=\"x-circle\" />\n        </button>\n      </div>\n\n      <div class=\"_suggestions\" v-if=\"suggested_keywords.length > 0\">\n        <div class=\"u-keywords\">\n          <SingleKeyword\n            v-for=\"(suggested_keyword, index) in suggested_keywords\"\n            :key=\"suggested_keyword\"\n            :class=\"{\n              'is--first': index === 0,\n            }\"\n            :keyword=\"suggested_keyword\"\n            :can_add=\"true\"\n            @add=\"addKeyword(suggested_keyword)\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport SingleKeyword from \"@/components/SingleKeyword.vue\";\n\nexport default {\n  props: {\n    keywords: Array,\n  },\n  components: {\n    SingleKeyword,\n  },\n  data() {\n    return {\n      user_suggestion: \"\",\n      suggestion_from_category: false,\n      categories: [],\n\n      path: \"categories\",\n    };\n  },\n  i18n: {\n    messages: {\n      fr: {\n        validate_with_shift_enter:\n          \"Validez la première suggestion avec SHIFT+ENTRÉE, ou créez un nouveau mot-clé avec ENTRÉE.\",\n        create_new_keyword_enter: \"Créez un nouveau mot-clé avec ENTRÉE.\",\n      },\n      en: {\n        validate_with_shift_enter:\n          \"Add first suggestion with SHIFT+ENTER, or create a new keyword with ENTER.\",\n        create_new_keyword_enter: \"Create a new keyword with ENTER.\",\n      },\n    },\n  },\n\n  async created() {\n    this.categories = await this.$api.getFolders({\n      path: this.path,\n    });\n    this.$api.join({ room: this.path });\n  },\n  async mounted() {},\n  beforeDestroy() {\n    this.$api.leave({ room: this.path });\n  },\n  watch: {},\n  computed: {\n    all_categories() {\n      return this.categories.map((c) => c.title);\n    },\n    all_keywords() {\n      return this.categories.reduce((acc, category) => {\n        if (category.title && category.list_of_suggestions) {\n          category.list_of_suggestions.map((item) => {\n            acc.push(category.title + \"/\" + item);\n          });\n        }\n        return acc;\n      }, []);\n    },\n    categories_with_keywords() {\n      return this.all_categories.filter((c) => {\n        return this.matchingKeywordsWithCategory(c).length > 0;\n      });\n    },\n    suggested_keywords() {\n      return this.matchingKeywordsWithCategory(this.suggestion_from_category);\n    },\n  },\n  methods: {\n    matchingKeywordsWithCategory(filter_by_category) {\n      return this.all_keywords.filter((kw) => {\n        const category = kw.includes(\"/\") ? kw.split(\"/\").at(0) : false;\n        const name = kw.includes(\"/\") ? kw.split(\"/\").at(1) : kw;\n\n        if (this.keywords.includes(kw)) return false;\n\n        if (filter_by_category && filter_by_category !== category) return false;\n\n        if (!filter_by_category && this.user_suggestion.length === 0)\n          return false;\n\n        return this.twoStringsMatch(name, this.user_suggestion);\n      });\n    },\n    toggleCategory(category) {\n      if (this.suggestion_from_category === category)\n        this.suggestion_from_category = false;\n      else this.suggestion_from_category = category;\n    },\n    getCatColor(category) {\n      const c = window.app_infos.custom_suggested_categories.find(\n        (c) => c.title === category\n      );\n      if (!c?.tag_color) return;\n      return `--cat-color: ${c.tag_color}`;\n    },\n    newKeyword() {\n      if (this.user_suggestion.length > 0)\n        this.addKeyword(this.user_suggestion);\n    },\n    submitFirstSuggestion() {\n      if (this.suggested_keywords.length === 0) return false;\n      const first_suggestion = this.suggested_keywords.at(0);\n      this.addKeyword(first_suggestion);\n    },\n    keywordKey(keyword) {\n      return keyword.category + \"/\" + keyword.name;\n    },\n    addKeyword(new_keyword) {\n      let kw = this.keywords.slice();\n      kw.push(new_keyword);\n      kw.sort((a, b) => {\n        return b;\n      });\n      this.$emit(\"update:keywords\", kw);\n      this.user_suggestion = \"\";\n\n      this.$refs.keywordField.focus();\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n._keywordsFieldEditor {\n  margin-top: calc(var(--spacing) / 4);\n}\n._suggestions {\n  margin-top: calc(var(--spacing) / 2);\n  padding-top: calc(var(--spacing) / 2);\n  // border-top: 2px solid var(--c-noir);\n\n  ._keyword {\n    cursor: pointer;\n  }\n}\n\n._catSug {\n  // border-left: 2px solid black;\n  padding: calc(var(--spacing) / 2) 0;\n  // background: var(--c-noir);\n}\n\n._categories {\n  display: flex;\n  flex-flow: row wrap;\n  padding: 0;\n  gap: calc(var(--spacing) / 4);\n}\n\n._category {\n  padding: calc(var(--spacing) / 4) calc(var(--spacing) / 2);\n  border-radius: 4px;\n  font-weight: 600;\n  background: var(--cat-color);\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./KeywordsFieldEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./KeywordsFieldEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./KeywordsFieldEditor.vue?vue&type=template&id=bf8392da&scoped=true&\"\nimport script from \"./KeywordsFieldEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./KeywordsFieldEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./KeywordsFieldEditor.vue?vue&type=style&index=0&id=bf8392da&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bf8392da\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"_keywordsField\">\n    <DLabel v-if=\"label\" class=\"_label\" :str=\"label\" />\n    <div class=\"u-keywords\" v-if=\"keywords.length > 0\">\n      <SingleKeyword\n        v-for=\"keyword in keywords\"\n        :key=\"keyword\"\n        :keyword=\"keyword\"\n      />\n    </div>\n    <EditBtn v-if=\"can_edit\" @click=\"enableEditMode\" />\n\n    <BaseModal2 :title=\"label\" v-if=\"edit_mode\" @close=\"edit_mode = false\">\n      <div class=\"u-keywords\" v-if=\"new_keywords.length > 0\">\n        <SingleKeyword\n          v-for=\"keyword in new_keywords\"\n          :key=\"keyword\"\n          :keyword=\"keyword\"\n          :can_remove=\"true\"\n          @remove=\"removeKeyword(keyword)\"\n        />\n      </div>\n\n      <hr />\n\n      <KeywordsFieldEditor\n        :keywords=\"new_keywords\"\n        @update:keywords=\"new_keywords = $event\"\n      />\n      <div slot=\"footer\">\n        <SaveCancelButtons\n          class=\"_scb\"\n          @save=\"updateKeywords\"\n          @cancel=\"cancel\"\n        />\n      </div>\n    </BaseModal2>\n  </div>\n</template>\n<script>\nimport KeywordsFieldEditor from \"@/components/KeywordsFieldEditor.vue\";\nimport SingleKeyword from \"@/components/SingleKeyword.vue\";\n\nexport default {\n  props: {\n    field_name: String,\n    label: String,\n    path: String,\n    keywords: {\n      type: Array,\n      default: () => [],\n    },\n    can_edit: Boolean,\n  },\n  components: {\n    KeywordsFieldEditor,\n    SingleKeyword,\n  },\n  data() {\n    return {\n      new_keywords: this.keywords || [],\n      edit_mode: this.can_edit && !this.path && !this.field_name,\n      is_saving: false,\n    };\n  },\n  created() {},\n  mounted() {},\n  beforeDestroy() {},\n  watch: {\n    new_keywords() {\n      this.$emit(\"update:keywords\", this.new_keywords);\n    },\n  },\n  computed: {},\n  methods: {\n    enableEditMode() {\n      this.edit_mode = true;\n    },\n    async updateKeywords() {\n      this.is_saving = true;\n      await new Promise((r) => setTimeout(r, 50));\n\n      try {\n        const new_meta = {\n          [this.field_name]: this.new_keywords,\n        };\n\n        await this.$api.updateMeta({\n          path: this.path,\n          new_meta,\n        });\n        this.edit_mode = false;\n        this.is_saving = false;\n      } catch (err) {\n        this.is_saving = false;\n      }\n    },\n    cancel() {\n      this.new_keywords = this.keywords || [];\n      this.edit_mode = false;\n    },\n\n    removeKeyword(_kw) {\n      this.new_keywords = this.new_keywords.filter((kw) => kw !== _kw);\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./KeywordsField.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./KeywordsField.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./KeywordsField.vue?vue&type=template&id=81aef24e&scoped=true&\"\nimport script from \"./KeywordsField.vue?vue&type=script&lang=js&\"\nexport * from \"./KeywordsField.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"81aef24e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"_singleKeyword\",class:{\n    'is--clickable': _vm.can_add,\n  },style:(_vm.kw_styles)},[_c('div',{},[(_vm.category)?_c('div',{staticClass:\"_category\"},[_vm._v(\" \"+_vm._s(_vm.category.toUpperCase())+\" \")]):_vm._e(),_c('div',{staticClass:\"_name\"},[_vm._v(\" \"+_vm._s(_vm.name)+\" \")])]),(_vm.count)?_c('div',{staticClass:\"_count\"},[_vm._v(\" \"+_vm._s(_vm.count)+\" \")]):_vm._e(),(_vm.can_remove)?_c('b-icon',{staticClass:\"_white\",attrs:{\"icon\":\"dash-circle\"},on:{\"click\":function($event){return _vm.$emit('remove')}}}):_vm._e(),(_vm.can_add)?_c('button',{staticClass:\"_addBtn\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('add')}}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"_singleKeyword\"\n    :class=\"{\n      'is--clickable': can_add,\n    }\"\n    :style=\"kw_styles\"\n  >\n    <div class=\"\">\n      <div class=\"_category\" v-if=\"category\">\n        {{ category.toUpperCase() }}\n      </div>\n      <div class=\"_name\">\n        {{ name }}\n      </div>\n    </div>\n    <div v-if=\"count\" class=\"_count\">\n      {{ count }}\n    </div>\n    <b-icon\n      v-if=\"can_remove\"\n      class=\"_white\"\n      icon=\"dash-circle\"\n      @click=\"$emit('remove')\"\n    />\n    <button\n      type=\"button\"\n      v-if=\"can_add\"\n      class=\"_addBtn\"\n      @click=\"$emit('add')\"\n    />\n  </div>\n</template>\n<script>\nexport default {\n  props: {\n    keyword: String,\n    count: Number,\n    cat_color: String,\n    can_remove: Boolean,\n    can_add: Boolean,\n  },\n  components: {},\n  data() {\n    return {};\n  },\n  created() {},\n  mounted() {},\n  beforeDestroy() {},\n  watch: {},\n  computed: {\n    category() {\n      return this.keyword.includes(\"/\") ? this.keyword.split(\"/\").at(0) : false;\n    },\n    name() {\n      return this.keyword.includes(\"/\")\n        ? this.keyword.split(\"/\").at(1)\n        : this.keyword;\n    },\n    kw_styles() {\n      let category_color = false;\n\n      if (this.cat_color) category_color = this.cat_color;\n      else {\n        const category = window.app_infos.custom_suggested_categories.find(\n          (c) => c.title === this.category\n        );\n        category_color = category?.tag_color;\n      }\n      return category_color ? `--cat-color: ${category_color}` : \"\";\n    },\n  },\n  methods: {},\n};\n</script>\n<style lang=\"scss\" scoped>\n._singleKeyword {\n  position: relative;\n  // background-color: rgba(255, 255, 255, 0.2);\n  padding: calc(var(--spacing) / 4) calc(var(--spacing) / 2);\n  border-radius: 4px;\n  // color: white;\n  line-height: 1.2;\n\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  gap: calc(var(--spacing) / 1);\n\n  background-color: var(--cat-color, white);\n  color: #000;\n\n  transition: all 0.1s cubic-bezier(0.19, 1, 0.22, 1);\n\n  &.is--clickable:hover {\n    opacity: 0.7;\n    // background-color: rgba(41, 41, 41, 1);\n  }\n}\n\n._category {\n  font-size: 80%;\n  // color: var(--cat-color);\n}\n._name {\n  font-size: 110%;\n}\n\n._addBtn {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  background: transparent;\n}\n\n._count {\n  border: 1px solid currentColor;\n  border-radius: 10px;\n  min-width: 14px;\n  height: 14px;\n  font-size: 8px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-weight: 600;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SingleKeyword.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SingleKeyword.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SingleKeyword.vue?vue&type=template&id=f2ad472e&scoped=true&\"\nimport script from \"./SingleKeyword.vue?vue&type=script&lang=js&\"\nexport * from \"./SingleKeyword.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SingleKeyword.vue?vue&type=style&index=0&id=f2ad472e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f2ad472e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"_agoraExport\"},[_c('div',{ref:\"agoraView\",staticClass:\"_agoraExport--items\",on:{\"scroll\":_vm.onScroll}},_vm._l((_vm.section_modules_list),function(agoramodule){return _c('div',{key:agoramodule.$path,staticClass:\"_item\"},[(_vm.getFirstSourceMedia(agoramodule.source_medias))?[_c('MediaContent',{attrs:{\"file\":_vm.getFirstSourceMedia(agoramodule.source_medias),\"resolution\":1600,\"context\":'full',\"show_fs_button\":false}})]:[_c('div',[_vm._v(\"Erreur au chargement du média\")])]],2)}),0),_c('transition',{attrs:{\"name\":\"slideup\"}},[(_vm.currently_shown_module && _vm.currently_shown_module.keywords)?_c('div',{key:_vm.currently_shown_module.$path,staticClass:\"_agoraExport--bottom\"},[_c('KeywordsField',{attrs:{\"field_name\":'keywords',\"keywords\":_vm.currently_shown_module.keywords,\"can_edit\":false}})],1):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"_agoraExport\">\n    <div class=\"_agoraExport--items\" ref=\"agoraView\" @scroll=\"onScroll\">\n      <div\n        v-for=\"agoramodule in section_modules_list\"\n        :key=\"agoramodule.$path\"\n        class=\"_item\"\n      >\n        <template v-if=\"getFirstSourceMedia(agoramodule.source_medias)\">\n          <MediaContent\n            :file=\"getFirstSourceMedia(agoramodule.source_medias)\"\n            :resolution=\"1600\"\n            :context=\"'full'\"\n            :show_fs_button=\"false\"\n          />\n        </template>\n        <template v-else>\n          <div>Erreur au chargement du média</div>\n        </template>\n      </div>\n    </div>\n    <transition name=\"slideup\">\n      <div\n        class=\"_agoraExport--bottom\"\n        v-if=\"currently_shown_module && currently_shown_module.keywords\"\n        :key=\"currently_shown_module.$path\"\n      >\n        <KeywordsField\n          :field_name=\"'keywords'\"\n          :keywords=\"currently_shown_module.keywords\"\n          :can_edit=\"false\"\n        />\n      </div>\n    </transition>\n  </div>\n</template>\n<script>\nimport KeywordsField from \"@/components/KeywordsField.vue\";\n\nexport default {\n  props: {\n    publication: Object,\n  },\n  components: {\n    KeywordsField,\n  },\n  data() {\n    return {\n      scroll_y: 0,\n      scroll_height: undefined,\n    };\n  },\n  created() {},\n  mounted() {\n    this.$nextTick(() => {\n      this.onResize();\n    });\n    window.addEventListener(\"resize\", this.onResize);\n  },\n  beforeDestroy() {\n    window.removeEventListener(\"resize\", this.onResize);\n  },\n  watch: {},\n  computed: {\n    first_section() {\n      const sections = this.getSectionsWithProps({\n        publication: this.publication,\n        group: \"sections_list\",\n      });\n      return sections[0];\n    },\n    section_modules_list() {\n      return this.getModulesForSection({\n        publication: this.publication,\n        section: this.first_section,\n      }).map(({ _module }) => _module);\n    },\n    currently_shown_module_index() {\n      // 0 to 0.1 --> 0\n      // 0.1 to 1.1 --> 1\n      // 1.1 to 2.1 --> 2\n      return Math.ceil(this.scroll_y / this.scroll_height - 0.1);\n    },\n    currently_shown_module() {\n      return this.section_modules_list[this.currently_shown_module_index];\n    },\n  },\n  methods: {\n    onResize() {\n      if (this.$refs.agoraView)\n        this.scroll_height = this.$refs.agoraView.offsetHeight;\n    },\n    getFirstSourceMedia(source_medias) {\n      const first_source_media = source_medias[0];\n      if (!first_source_media) return false;\n      return this.getSourceMedia({\n        source_media: {\n          meta_filename: first_source_media.meta_filename,\n        },\n        folder_path: this.publication.$path,\n      });\n    },\n    onScroll(e) {\n      this.scroll_y = e.target.scrollTop;\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n._agoraExport {\n  display: flex;\n  height: 100vh;\n}\n._agoraExport--items {\n  flex: 1 1 auto;\n  overflow-y: auto;\n}\n._agoraExport--bottom {\n  position: absolute;\n  padding: calc(var(--spacing) / 1);\n  padding-top: calc(var(--spacing) * 2);\n  // background-color: rgba(255, 255, 255, 0.3);\n  mask-image: linear-gradient(\n    to top,\n    white 0%,\n    white calc(100% - calc(var(--spacing) * 2)),\n    transparent 100%\n  );\n  backdrop-filter: blur(4px);\n  bottom: 0;\n  width: 100%;\n\n  ::v-deep {\n    .u-keywords {\n      font-size: 1.1rem;\n    }\n  }\n}\n\n._item {\n  position: sticky;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  padding: 10px;\n  padding-bottom: calc(var(--spacing) * 2);\n  overflow: hidden;\n\n  ::v-deep ._mediaContent {\n    width: 100%;\n    height: 100%;\n\n    img {\n      width: 100%;\n      height: 100%;\n    }\n\n    ._mediaContent--image,\n    .plyr--video,\n    .plyr__poster,\n    ._mediaContent--iframe,\n    ._iframeStylePreview {\n      position: absolute;\n      height: 100%;\n      width: 100%;\n      object-fit: contain;\n      background-size: contain;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AgoraExport.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AgoraExport.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AgoraExport.vue?vue&type=template&id=1a51b8d1&scoped=true&\"\nimport script from \"./AgoraExport.vue?vue&type=script&lang=js&\"\nexport * from \"./AgoraExport.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AgoraExport.vue?vue&type=style&index=0&id=1a51b8d1&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1a51b8d1\",\n  null\n  \n)\n\nexport default component.exports","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"._keywordsFieldEditor[data-v-bf8392da]{margin-top:calc(var(--spacing)/4)}._suggestions[data-v-bf8392da]{margin-top:calc(var(--spacing)/2);padding-top:calc(var(--spacing)/2)}._suggestions ._keyword[data-v-bf8392da]{cursor:pointer}._catSug[data-v-bf8392da]{padding:calc(var(--spacing)/2) 0}._categories[data-v-bf8392da]{display:flex;flex-flow:row wrap;padding:0;gap:calc(var(--spacing)/4)}._category[data-v-bf8392da]{padding:calc(var(--spacing)/4) calc(var(--spacing)/2);border-radius:4px;font-weight:600;background:var(--cat-color)}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"._singleKeyword[data-v-f2ad472e]{position:relative;padding:calc(var(--spacing)/4) calc(var(--spacing)/2);border-radius:4px;line-height:1.2;display:flex;flex-flow:row nowrap;align-items:center;gap:calc(var(--spacing)/1);background-color:var(--cat-color,#fff);color:#000;transition:all .1s cubic-bezier(.19,1,.22,1)}._singleKeyword.is--clickable[data-v-f2ad472e]:hover{opacity:.7}._category[data-v-f2ad472e]{font-size:80%}._name[data-v-f2ad472e]{font-size:110%}._addBtn[data-v-f2ad472e]{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;background:transparent}._count[data-v-f2ad472e]{border:1px solid currentColor;border-radius:10px;min-width:14px;height:14px;font-size:8px;display:flex;justify-content:center;align-items:center;font-weight:600}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"._agoraExport[data-v-1a51b8d1]{display:flex;height:100vh}._agoraExport--items[data-v-1a51b8d1]{flex:1 1 auto;overflow-y:auto}._agoraExport--bottom[data-v-1a51b8d1]{position:absolute;padding:calc(var(--spacing)/1);padding-top:calc(var(--spacing)*2);-webkit-mask-image:linear-gradient(to top,#fff 0,#fff calc(100% - var(--spacing)*2),transparent 100%);mask-image:linear-gradient(to top,#fff 0,#fff calc(100% - var(--spacing)*2),transparent 100%);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);bottom:0;width:100%}._agoraExport--bottom[data-v-1a51b8d1]  .u-keywords{font-size:1.1rem}._item[data-v-1a51b8d1]{position:sticky;top:0;width:100%;height:100%;padding:10px;padding-bottom:calc(var(--spacing)*2);overflow:hidden}._item[data-v-1a51b8d1]  ._mediaContent{width:100%;height:100%}._item[data-v-1a51b8d1]  ._mediaContent img{width:100%;height:100%}._item[data-v-1a51b8d1]  ._mediaContent ._iframeStylePreview,._item[data-v-1a51b8d1]  ._mediaContent ._mediaContent--iframe,._item[data-v-1a51b8d1]  ._mediaContent ._mediaContent--image,._item[data-v-1a51b8d1]  ._mediaContent .plyr--video,._item[data-v-1a51b8d1]  ._mediaContent .plyr__poster{position:absolute;height:100%;width:100%;-o-object-fit:contain;object-fit:contain;background-size:contain}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[2]!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[3]!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[4]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./KeywordsFieldEditor.vue?vue&type=style&index=0&id=bf8392da&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"9a1ab002\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[2]!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[3]!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[4]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SingleKeyword.vue?vue&type=style&index=0&id=f2ad472e&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"354422cf\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[2]!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[3]!../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[4]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AgoraExport.vue?vue&type=style&index=0&id=1a51b8d1&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"7424b920\", content, true, {\"sourceMap\":false,\"shadowMode\":false});"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","label","_e","keywords","length","_l","keyword","key","on","enableEditMode","$event","edit_mode","new_keywords","removeKeyword","slot","updateKeywords","cancel","staticRenderFns","directives","name","rawName","value","expression","ref","$t","domProps","type","indexOf","_k","keyCode","preventDefault","$emit","ctrlKey","shiftKey","altKey","metaKey","newKeyword","apply","arguments","submitFirstSuggestion","target","composing","user_suggestion","suggested_keywords","_v","_s","suggestion_from_category","style","getCatColor","toggleCategory","matchingKeywordsWithCategory","category","suggested_keyword","index","class","addKeyword","props","Array","components","SingleKeyword","data","categories","path","i18n","messages","fr","validate_with_shift_enter","create_new_keyword_enter","en","$api","getFolders","join","room","beforeDestroy","leave","watch","computed","all_categories","map","c","title","all_keywords","reduce","acc","list_of_suggestions","item","push","categories_with_keywords","filter","methods","filter_by_category","kw","includes","split","at","twoStringsMatch","window","app_infos","custom_suggested_categories","find","tag_color","first_suggestion","keywordKey","new_keyword","slice","sort","a","b","$refs","keywordField","focus","component","field_name","String","default","can_edit","Boolean","KeywordsFieldEditor","is_saving","created","mounted","Promise","r","setTimeout","new_meta","updateMeta","err","_kw","can_add","toUpperCase","count","Number","cat_color","can_remove","kw_styles","category_color","onScroll","agoramodule","$path","getFirstSourceMedia","source_medias","currently_shown_module","publication","Object","KeywordsField","scroll_y","scroll_height","undefined","$nextTick","onResize","addEventListener","removeEventListener","first_section","sections","getSectionsWithProps","group","section_modules_list","getModulesForSection","section","_module","currently_shown_module_index","Math","ceil","agoraView","offsetHeight","first_source_media","getSourceMedia","source_media","meta_filename","folder_path","e","scrollTop","___CSS_LOADER_EXPORT___","module","id","content","__esModule","locals","exports","add"],"sourceRoot":""}