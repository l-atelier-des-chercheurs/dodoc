{"version":3,"file":"js/668.js","mappings":"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","sources":["webpack://app/./src/components/makes/ExportSaveMakeModal.vue","webpack://app/src/components/makes/ExportSaveMakeModal.vue","webpack://app/./src/components/makes/ExportSaveMakeModal.vue?1b34","webpack://app/./src/components/makes/ExportSaveMakeModal.vue?dc82","webpack://app/./src/components/makes/ImageAndVideoMontage.vue","webpack://app/./src/components/makes/MontageModule.vue","webpack://app/src/components/makes/MontageModule.vue","webpack://app/./src/components/makes/MontageModule.vue?eb67","webpack://app/./src/components/makes/MontageModule.vue?74cf","webpack://app/src/components/makes/ImageAndVideoMontage.vue","webpack://app/./src/components/makes/ImageAndVideoMontage.vue?e0c3","webpack://app/./src/components/makes/ImageAndVideoMontage.vue?7dda","webpack://app/./src/components/publications/MediaPicker.vue","webpack://app/src/components/publications/MediaPicker.vue","webpack://app/./src/components/publications/MediaPicker.vue?82ca","webpack://app/./src/components/publications/MediaPicker.vue?c6f1","webpack://app/./src/components/publications/modules/ModuleCreator.vue","webpack://app/./src/components/publications/CaptureModal.vue","webpack://app/src/components/publications/CaptureModal.vue","webpack://app/./src/components/publications/CaptureModal.vue?fda0","webpack://app/./src/components/publications/CaptureModal.vue?0582","webpack://app/./src/adc-core/modals/LinkPicker.vue","webpack://app/src/adc-core/modals/LinkPicker.vue","webpack://app/./src/adc-core/modals/LinkPicker.vue?7b22","webpack://app/./src/adc-core/modals/LinkPicker.vue?c1e9","webpack://app/src/components/publications/modules/ModuleCreator.vue","webpack://app/./src/components/publications/modules/ModuleCreator.vue?655d","webpack://app/./src/components/publications/modules/ModuleCreator.vue?b557","webpack://app/./src/adc-core/modals/LinkPicker.vue?cfb3","webpack://app/./src/components/makes/ExportSaveMakeModal.vue?150f","webpack://app/./src/components/makes/ImageAndVideoMontage.vue?f4da","webpack://app/./src/components/makes/MontageModule.vue?d180","webpack://app/./src/components/publications/MediaPicker.vue?dbc8","webpack://app/./src/components/publications/modules/ModuleCreator.vue?9906","webpack://app/./src/adc-core/modals/LinkPicker.vue?b5c1","webpack://app/./src/components/makes/ExportSaveMakeModal.vue?bf60","webpack://app/./src/components/makes/ImageAndVideoMontage.vue?2eeb","webpack://app/./src/components/makes/MontageModule.vue?5860","webpack://app/./src/components/publications/MediaPicker.vue?5e00","webpack://app/./src/components/publications/modules/ModuleCreator.vue?158d"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('BaseModal2',{attrs:{\"title\":_vm.title || _vm.$t('export')},on:{\"close\":function($event){return _vm.$emit('close')}}},[_c('div',{staticClass:\"_cont\"},[_c('div',{staticClass:\"u-spacingBottom\"},[_vm._t(\"default\")],2),(_vm.enable_options)?_c('div',[_c('div',{staticClass:\"u-sameRow\"},[_c('a',{staticClass:\"u-buttonLink\",attrs:{\"disabled\":!_vm.export_href,\"download\":_vm.export_name,\"href\":_vm.export_href,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm.$t(\"download\"))+\" \")]),_c('button',{staticClass:\"u-button u-button_red\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.saveToProject}},[_c('svg',{staticStyle:{\"enable-background\":\"new 0 0 168 168\"},attrs:{\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 168 168\",\"xml:space\":\"preserve\"}},[_c('path',{staticStyle:{\"fill\":\"var(--c-rouge)\"},attrs:{\"d\":\"M84,0C37.6,0,0,37.6,0,84c0,46.4,37.6,84,84,84c46.4,0,84-37.6,84-84 C168,37.6,130.4,0,84,0z\"}}),_c('g',{staticStyle:{\"fill\":\"var(--c-orange)\"}},[_c('path',{attrs:{\"d\":\"m42 42h21.6v21h-21.6z\"}}),_c('path',{attrs:{\"d\":\"m73.2 42h21.6v21h-21.6z\"}}),_c('path',{attrs:{\"d\":\"m104.4 42h21.6v21h-21.6z\"}}),_c('path',{attrs:{\"d\":\"m42 73.5h21.6v21h-21.6z\"}}),_c('path',{attrs:{\"d\":\"m73.2 73.5h21.6v21h-21.6z\"}}),_c('path',{attrs:{\"d\":\"m104.4 73.5h21.6v21h-21.6z\"}}),_c('path',{attrs:{\"d\":\"m42 105h21.6v21h-21.6z\"}}),_c('path',{attrs:{\"d\":\"m73.2 105h21.6v21h-21.6z\"}}),_c('path',{attrs:{\"d\":\"m104.4 105h21.6v21h-21.6z\"}})])]),_vm._v(\" \"+_vm._s(_vm.$t(\"save_to_project\"))+\" \")])])]):_vm._e(),(_vm.finished_saving_to_project)?_c('div',{staticClass:\"_saveNotice\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"media_was_saved_to_project\"))+\" \")]):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <BaseModal2 :title=\"title || $t('export')\" @close=\"$emit('close')\">\n    <div class=\"_cont\">\n      <div class=\"u-spacingBottom\">\n        <slot />\n      </div>\n\n      <div v-if=\"enable_options\">\n        <div class=\"u-sameRow\">\n          <a\n            :disabled=\"!export_href\"\n            :download=\"export_name\"\n            :href=\"export_href\"\n            target=\"_blank\"\n            class=\"u-buttonLink\"\n          >\n            {{ $t(\"download\") }}\n          </a>\n          <button\n            type=\"button\"\n            class=\"u-button u-button_red\"\n            @click=\"saveToProject\"\n          >\n            <svg\n              version=\"1.1\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n              x=\"0px\"\n              y=\"0px\"\n              viewBox=\"0 0 168 168\"\n              style=\"enable-background: new 0 0 168 168\"\n              xml:space=\"preserve\"\n            >\n              <path\n                style=\"fill: var(--c-rouge)\"\n                d=\"M84,0C37.6,0,0,37.6,0,84c0,46.4,37.6,84,84,84c46.4,0,84-37.6,84-84 C168,37.6,130.4,0,84,0z\"\n              />\n              <g style=\"fill: var(--c-orange)\">\n                <path d=\"m42 42h21.6v21h-21.6z\" />\n                <path d=\"m73.2 42h21.6v21h-21.6z\" />\n                <path d=\"m104.4 42h21.6v21h-21.6z\" />\n                <path d=\"m42 73.5h21.6v21h-21.6z\" />\n                <path d=\"m73.2 73.5h21.6v21h-21.6z\" />\n                <path d=\"m104.4 73.5h21.6v21h-21.6z\" />\n                <path d=\"m42 105h21.6v21h-21.6z\" />\n                <path d=\"m73.2 105h21.6v21h-21.6z\" />\n                <path d=\"m104.4 105h21.6v21h-21.6z\" />\n              </g>\n            </svg>\n            {{ $t(\"save_to_project\") }}\n          </button>\n        </div>\n      </div>\n      <div class=\"_saveNotice\" v-if=\"finished_saving_to_project\">\n        {{ $t(\"media_was_saved_to_project\") }}\n      </div>\n    </div>\n  </BaseModal2>\n</template>\n<script>\nexport default {\n  props: {\n    title: String,\n    export_name: {\n      type: String,\n      default: \"file\",\n    },\n    export_blob: [Boolean, Blob],\n    export_href: String,\n    project_path: String,\n    enable_options: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  components: {},\n  data() {\n    return {\n      finished_saving_to_project: false,\n    };\n  },\n  created() {},\n  mounted() {},\n  beforeDestroy() {},\n  watch: {},\n  computed: {},\n  methods: {\n    async saveToProject() {\n      if (this.export_blob) {\n        const additional_meta = {};\n\n        additional_meta.$origin = \"make\";\n        if (this.connected_as?.$path)\n          additional_meta.$authors = [this.connected_as.$path];\n\n        await this.$api\n          .uploadFile({\n            path: this.project_path,\n            filename: this.export_name,\n            file: this.export_blob,\n            additional_meta,\n          })\n          .catch((err) => {\n            this.$alertify.delay(4000).error(err);\n            throw err;\n          });\n      }\n\n      this.finished_saving_to_project = true;\n      setTimeout(() => {\n        this.$emit(\"close\");\n      }, 3000);\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n._cont {\n  position: relative;\n}\n._saveNotice {\n  position: absolute;\n  inset: -2px;\n  background: rgba(255, 255, 255, 0.95);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ExportSaveMakeModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ExportSaveMakeModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ExportSaveMakeModal.vue?vue&type=template&id=1e9fab52&scoped=true\"\nimport script from \"./ExportSaveMakeModal.vue?vue&type=script&lang=js\"\nexport * from \"./ExportSaveMakeModal.vue?vue&type=script&lang=js\"\nimport style0 from \"./ExportSaveMakeModal.vue?vue&type=style&index=0&id=1e9fab52&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1e9fab52\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"_montageModules\"},[_c('transition-group',{staticClass:\"_listOfModules\",attrs:{\"tag\":\"div\",\"name\":\"StoryModules\",\"appear\":\"\",\"duration\":700}},[_vm._l((_vm.section_modules_list),function(_module,index){return [_c('div',{key:'mc_' + index,staticClass:\"_spacer\"},[_c('ModuleCreator',{attrs:{\"publication_path\":_vm.make.$path,\"types_available\":['capture', 'import']},on:{\"addModules\":({ meta_filenames }) => _vm.insertModules({ meta_filenames, index })}})],1),_c('MontageModule',{key:_module.$path,attrs:{\"index\":index + 1,\"makemodule\":_module,\"module_position\":_vm.section_modules_list.length === 1\n            ? 'alone'\n            : index === 0\n            ? 'first'\n            : index === _vm.section_modules_list.length - 1\n            ? 'last'\n            : 'inbetween',\"default_image_duration\":_vm.default_image_duration},on:{\"moveUp\":function($event){return _vm.moveModuleTo({ path: _module.$path, new_position: index - 1 })},\"moveDown\":function($event){return _vm.moveModuleTo({ path: _module.$path, new_position: index + 1 })},\"remove\":function($event){return _vm.removeModule(_module.$path)}}})]})],2),_c('div',{staticClass:\"_lastModule\"},[_c('ModuleCreator',{attrs:{\"publication_path\":_vm.make.$path,\"start_collapsed\":false,\"types_available\":['capture', 'import']},on:{\"addModules\":_vm.addModules}})],1),_c('transition',{attrs:{\"name\":\"pagechange\",\"mode\":\"out-in\"}},[(_vm.export_is_available)?_c('div',{staticClass:\"_bottomRow\"},[_c('div',{staticClass:\"_equationIcon\"},[_c('b-icon',{attrs:{\"icon\":\"chevron-double-down\"}})],1),_c('div',{},[_c('button',{staticClass:\"u-button u-button_bleuvert\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.show_save_export_modal = true}}},[_c('b-icon',{attrs:{\"icon\":\"check\"}}),_vm._v(\" \"+_vm._s(_vm.$t(\"create\"))+\" \")],1)])]):_vm._e()]),(_vm.show_save_export_modal)?_c('ExportSaveMakeModal',{attrs:{\"title\":_vm.$t('export_montage'),\"export_name\":_vm.export_name,\"export_href\":_vm.export_href,\"enable_options\":_vm.created_video !== false},on:{\"close\":function($event){_vm.show_save_export_modal = false}}},[(_vm.is_exporting)?_c('div',{key:\"loader\",staticClass:\"_spinner\"},[_c('LoaderSpinner')],1):_c('div',[(!_vm.created_video)?_c('div',[_c('SelectField2',{attrs:{\"value\":_vm.resolution_preset_picked,\"options\":_vm.presets,\"can_edit\":true,\"hide_validation\":true},on:{\"change\":function($event){_vm.resolution_preset_picked = $event}}}),_c('br'),_c('button',{staticClass:\"u-button u-button_bleuvert\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.renderMontage}},[_c('b-icon',{attrs:{\"icon\":\"check\"}}),_vm._v(\" \"+_vm._s(_vm.$t(\"create\"))+\" \")],1)],1):_c('div',[_c('button',{staticClass:\"u-buttonLink\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.cancelExport}},[_c('b-icon',{attrs:{\"icon\":\"arrow-left-short\"}}),_vm._v(\" \"+_vm._s(_vm.$t(\"back\"))+\" \")],1),_c('br'),_c('MediaContent',{staticClass:\"_preview\",attrs:{\"file\":_vm.created_video,\"resolution\":1600,\"context\":'full'}})],1)])]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"_montageModule\"},[_c('div',{staticClass:\"_line\"}),_c('div',{staticClass:\"_index\"},[_c('div',{staticClass:\"_btns\"},[_c('button',{staticClass:\"u-button u-button_icon\",attrs:{\"type\":\"button\",\"disabled\":_vm.module_position === 'alone' || _vm.module_position === 'first'},on:{\"click\":function($event){return _vm.$emit('moveUp')}}},[_c('sl-icon',{attrs:{\"name\":\"chevron-up\"}})],1),_c('button',{staticClass:\"u-button u-button_icon\",attrs:{\"type\":\"button\",\"disabled\":_vm.module_position === 'alone' || _vm.module_position === 'last'},on:{\"click\":function($event){return _vm.$emit('moveDown')}}},[_c('sl-icon',{attrs:{\"name\":\"chevron-down\"}})],1)]),_c('span',{staticClass:\"_num\"},[_vm._v(\" \"+_vm._s(_vm.index)+\" \")])]),_c('div',{staticClass:\"_preview\"},[_c('div',{staticClass:\"_topRow\"},[_c('div',{staticClass:\"u-label\"},[(_vm.first_media)?[_vm._v(\" \"+_vm._s(_vm.$t(_vm.first_media.$type))+\" \"),(_vm.first_media_duration)?[_vm._v(\"/ \"+_vm._s(_vm.first_media_duration))]:_vm._e()]:_vm._e(),_c('button',{staticClass:\"u-buttonLink\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.removeModule}},[_c('sl-icon',{attrs:{\"name\":\"trash3\"}})],1)],2),_c('div',{},[_c('span',{staticClass:\"u-switch u-switch-xs\"},[_c('input',{staticClass:\"switch\",attrs:{\"id\":'transition_in_' + _vm.makemodule.$path,\"type\":\"checkbox\"},domProps:{\"checked\":_vm.makemodule.transition_in === 'fade'},on:{\"change\":function($event){return _vm.toggleTransition('transition_in')}}}),_c('label',{staticClass:\"u-label\",attrs:{\"for\":'transition_in_' + _vm.makemodule.$path}},[_vm._v(_vm._s(_vm.$t(\"transition_fade\")))])])])]),(_vm.first_media)?[(_vm.first_media.$type !== 'text')?_c('MediaContent',{attrs:{\"file\":_vm.first_media,\"resolution\":1600,\"context\":'full',\"show_fs_button\":true}}):_c('CollaborativeEditor2',{ref:\"textBloc\",attrs:{\"path\":_vm.first_media.$path,\"content\":_vm.first_media.$content,\"line_selected\":false,\"can_edit\":true},on:{\"lineClicked\":function($event){return _vm.$emit('lineClicked', $event)},\"contentIsEdited\":function($event){return _vm.$emit('contentIsEdited', $event)},\"contentIsNotEdited\":function($event){return _vm.$emit('contentIsNotEdited', $event)}}}),(_vm.first_media.$type === 'image')?_c('div',{staticClass:\"_imageDurationPicker\"},[_c('NumberInput',{attrs:{\"value\":_vm.makemodule.image_duration || _vm.default_image_duration,\"suffix\":_vm.$t('seconds'),\"size\":'medium',\"min\":0,\"max\":3600},on:{\"save\":function($event){return _vm.updateMakemodule({ image_duration: $event })}}})],1):_vm._e(),(_vm.module_position === 'last')?_c('div',{staticClass:\"_transitionPicker\"},[_c('span',{staticClass:\"u-switch u-switch-xs\"},[_c('input',{staticClass:\"switch\",attrs:{\"id\":'transition_out_' + _vm.makemodule.$path,\"type\":\"checkbox\"},domProps:{\"checked\":_vm.makemodule.transition_out === 'fade'},on:{\"change\":function($event){return _vm.toggleTransition('transition_out')}}}),_c('label',{staticClass:\"u-label\",attrs:{\"for\":'transition_out_' + _vm.makemodule.$path}},[_vm._v(_vm._s(_vm.$t(\"transition_fade\")))])])]):_vm._e()]:_vm._e()],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"_montageModule\">\n    <div class=\"_line\" />\n    <div class=\"_index\">\n      <div class=\"_btns\">\n        <button\n          type=\"button\"\n          class=\"u-button u-button_icon\"\n          :disabled=\"module_position === 'alone' || module_position === 'first'\"\n          @click=\"$emit('moveUp')\"\n        >\n          <sl-icon name=\"chevron-up\" />\n        </button>\n        <button\n          type=\"button\"\n          class=\"u-button u-button_icon\"\n          :disabled=\"module_position === 'alone' || module_position === 'last'\"\n          @click=\"$emit('moveDown')\"\n        >\n          <sl-icon name=\"chevron-down\" />\n        </button>\n      </div>\n      <span class=\"_num\">\n        {{ index }}\n      </span>\n    </div>\n\n    <div class=\"_preview\">\n      <div class=\"_topRow\">\n        <div class=\"u-label\">\n          <template v-if=\"first_media\">\n            {{ $t(first_media.$type) }}\n            <template v-if=\"first_media_duration\"\n              >/ {{ first_media_duration }}</template\n            >\n          </template>\n          <button type=\"button\" class=\"u-buttonLink\" @click=\"removeModule\">\n            <sl-icon name=\"trash3\" />\n          </button>\n        </div>\n        <div class=\"\">\n          <span class=\"u-switch u-switch-xs\">\n            <input\n              class=\"switch\"\n              :id=\"'transition_in_' + makemodule.$path\"\n              type=\"checkbox\"\n              :checked=\"makemodule.transition_in === 'fade'\"\n              @change=\"toggleTransition('transition_in')\"\n            />\n            <label class=\"u-label\" :for=\"'transition_in_' + makemodule.$path\">{{\n              $t(\"transition_fade\")\n            }}</label>\n          </span>\n        </div>\n      </div>\n      <template v-if=\"first_media\">\n        <MediaContent\n          v-if=\"first_media.$type !== 'text'\"\n          :file=\"first_media\"\n          :resolution=\"1600\"\n          :context=\"'full'\"\n          :show_fs_button=\"true\"\n        />\n        <CollaborativeEditor2\n          v-else\n          ref=\"textBloc\"\n          :path=\"first_media.$path\"\n          :content=\"first_media.$content\"\n          :line_selected=\"false\"\n          :can_edit=\"true\"\n          @lineClicked=\"$emit('lineClicked', $event)\"\n          @contentIsEdited=\"$emit('contentIsEdited', $event)\"\n          @contentIsNotEdited=\"$emit('contentIsNotEdited', $event)\"\n        />\n        <div class=\"_imageDurationPicker\" v-if=\"first_media.$type === 'image'\">\n          <NumberInput\n            :value=\"makemodule.image_duration || default_image_duration\"\n            :suffix=\"$t('seconds')\"\n            :size=\"'medium'\"\n            :min=\"0\"\n            :max=\"3600\"\n            @save=\"updateMakemodule({ image_duration: $event })\"\n          />\n        </div>\n\n        <div class=\"_transitionPicker\" v-if=\"module_position === 'last'\">\n          <span class=\"u-switch u-switch-xs\">\n            <input\n              class=\"switch\"\n              :id=\"'transition_out_' + makemodule.$path\"\n              type=\"checkbox\"\n              :checked=\"makemodule.transition_out === 'fade'\"\n              @change=\"toggleTransition('transition_out')\"\n            />\n            <label\n              class=\"u-label\"\n              :for=\"'transition_out_' + makemodule.$path\"\n              >{{ $t(\"transition_fade\") }}</label\n            >\n          </span>\n        </div>\n      </template>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  props: {\n    makemodule: Object,\n    index: Number,\n    module_position: String,\n    default_image_duration: Number,\n  },\n  components: {},\n  data() {\n    return {};\n  },\n  i18n: {\n    messages: {\n      fr: {\n        transition_fade: \"Transition : fondu enchaîné\",\n      },\n      en: {\n        transition_fade: \"Transition: fade\",\n      },\n    },\n  },\n  created() {},\n  mounted() {},\n  beforeDestroy() {},\n  watch: {},\n  computed: {\n    first_media() {\n      return this.firstMedia(this.makemodule);\n    },\n    first_media_duration() {\n      return this.displayDuration({ media: this.first_media });\n    },\n  },\n  methods: {\n    toggleTransition(transition_type) {\n      if (this.makemodule[transition_type] === \"fade\")\n        this.updateMakemodule({\n          [transition_type]: \"none\",\n        });\n      else\n        this.updateMakemodule({\n          [transition_type]: \"fade\",\n        });\n    },\n    async updateMakemodule(new_meta) {\n      await this.$api.updateMeta({\n        path: this.makemodule.$path,\n        new_meta,\n      });\n    },\n    async removeModule() {\n      await this.$api\n        .deleteItem({\n          path: this.makemodule.$path,\n        })\n        .catch((err) => {\n          this.$alertify.delay(4000).error(err);\n          throw err;\n        });\n\n      this.$emit(\"remove\");\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n._montageModule {\n  position: relative;\n  width: 100%;\n  max-width: 400px;\n  margin: 0 auto;\n\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: flex-start;\n\n  width: 100%;\n  margin: 0 auto;\n\n  gap: calc(var(--spacing) / 1);\n  color: white;\n\n  &:last-child {\n    ._line {\n      height: calc(100%);\n    }\n  }\n}\n\n._line {\n  position: absolute;\n  background: white;\n  width: 4px;\n  height: calc(100% + 3rem);\n  margin-left: 3.1rem;\n  margin-top: 2px;\n  z-index: 0;\n  top: 0;\n  border-radius: 4px;\n}\n._index {\n  position: sticky;\n  top: 0;\n  font-family: Fira Mono;\n  text-transform: uppercase;\n  line-height: 1;\n  font-weight: 600;\n  z-index: 1;\n  background-color: var(--c-bleumarine);\n\n  margin-top: -9px;\n\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n\n  ._btns {\n    display: flex;\n    flex-flow: column nowrap;\n\n    > .u-button {\n      font-size: 140%;\n    }\n  }\n\n  ._num {\n    font-size: 5rem;\n  }\n\n  > .u-button {\n    font-size: 50%;\n  }\n}\n\n.u-label {\n  // color: white;\n}\n\n._lastModule {\n  margin-top: calc(var(--spacing) * 2);\n}\n\n._preview {\n  flex: 1 1 auto;\n  background: white;\n  padding: calc(var(--spacing) / 2);\n  border-radius: 4px;\n  color: var(--c-noir);\n\n  ::v-deep ._mediaContent--image {\n    max-width: none;\n    width: 100%;\n  }\n}\n\n._topRow {\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: space-between;\n}\n._imageDurationPicker {\n  max-width: 18ch;\n  margin: calc(var(--spacing) / 2) auto;\n}\n._transitionPicker {\n  text-align: center;\n  margin: calc(var(--spacing) / 2) auto;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MontageModule.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MontageModule.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./MontageModule.vue?vue&type=template&id=a79b4426&scoped=true\"\nimport script from \"./MontageModule.vue?vue&type=script&lang=js\"\nexport * from \"./MontageModule.vue?vue&type=script&lang=js\"\nimport style0 from \"./MontageModule.vue?vue&type=style&index=0&id=a79b4426&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a79b4426\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"_montageModules\">\n    <transition-group\n      tag=\"div\"\n      class=\"_listOfModules\"\n      name=\"StoryModules\"\n      appear\n      :duration=\"700\"\n    >\n      <template v-for=\"(_module, index) in section_modules_list\">\n        <div class=\"_spacer\" :key=\"'mc_' + index\">\n          <ModuleCreator\n            :publication_path=\"make.$path\"\n            :types_available=\"['capture', 'import']\"\n            @addModules=\"\n              ({ meta_filenames }) => insertModules({ meta_filenames, index })\n            \"\n          />\n        </div>\n        <MontageModule\n          :key=\"_module.$path\"\n          :index=\"index + 1\"\n          :makemodule=\"_module\"\n          :module_position=\"\n            section_modules_list.length === 1\n              ? 'alone'\n              : index === 0\n              ? 'first'\n              : index === section_modules_list.length - 1\n              ? 'last'\n              : 'inbetween'\n          \"\n          :default_image_duration=\"default_image_duration\"\n          @moveUp=\"\n            moveModuleTo({ path: _module.$path, new_position: index - 1 })\n          \"\n          @moveDown=\"\n            moveModuleTo({ path: _module.$path, new_position: index + 1 })\n          \"\n          @remove=\"removeModule(_module.$path)\"\n        />\n        <!-- <PublicationModule\n          class=\"_mediaPublication\"\n          :key=\"_module.$path\"\n          :publimodule=\"_module\"\n          :module_being_edited.sync=\"module_being_edited\"\n          :module_position=\"\n            section_modules_list.length === 1\n              ? 'alone'\n              : index === 0\n              ? 'first'\n              : index === section_modules_list.length - 1\n              ? 'last'\n              : 'inbetween'\n          \"\n          :can_edit=\"can_edit\"\n          @moveUp=\"\n            moveModuleTo({ path: _module.$path, new_position: index - 1 })\n          \"\n          @moveDown=\"\n            moveModuleTo({ path: _module.$path, new_position: index + 1 })\n          \"\n          @duplicate=\"\n            duplicatePublicationMedia({\n              source_module_path: _module.$path,\n              copy_meta_filename: $event,\n            })\n          \"\n          @remove=\"removeModule(_module.$path)\"\n        /> -->\n      </template>\n    </transition-group>\n    <div class=\"_lastModule\">\n      <ModuleCreator\n        :publication_path=\"make.$path\"\n        :start_collapsed=\"false\"\n        :types_available=\"['capture', 'import']\"\n        @addModules=\"addModules\"\n      />\n    </div>\n\n    <transition name=\"pagechange\" mode=\"out-in\">\n      <div class=\"_bottomRow\" v-if=\"export_is_available\">\n        <div class=\"_equationIcon\">\n          <b-icon icon=\"chevron-double-down\" />\n        </div>\n        <div class=\"\">\n          <button\n            type=\"button\"\n            class=\"u-button u-button_bleuvert\"\n            @click=\"show_save_export_modal = true\"\n          >\n            <b-icon icon=\"check\" />\n            {{ $t(\"create\") }}\n          </button>\n        </div>\n      </div>\n    </transition>\n\n    <ExportSaveMakeModal\n      v-if=\"show_save_export_modal\"\n      :title=\"$t('export_montage')\"\n      :export_name=\"export_name\"\n      :export_href=\"export_href\"\n      :enable_options=\"created_video !== false\"\n      @close=\"show_save_export_modal = false\"\n    >\n      <div class=\"_spinner\" v-if=\"is_exporting\" key=\"loader\">\n        <LoaderSpinner />\n      </div>\n      <div v-else>\n        <div v-if=\"!created_video\">\n          <!-- <select v-model=\"resolution_preset_picked\">\n            <option\n              v-for=\"res in presets\"\n              :key=\"res\"\n              v-text=\"res\"\n              :value=\"res\"\n            />\n          </select> -->\n\n          <SelectField2\n            :value=\"resolution_preset_picked\"\n            :options=\"presets\"\n            :can_edit=\"true\"\n            :hide_validation=\"true\"\n            @change=\"resolution_preset_picked = $event\"\n          />\n\n          <br />\n\n          <button\n            type=\"button\"\n            class=\"u-button u-button_bleuvert\"\n            @click=\"renderMontage\"\n          >\n            <b-icon icon=\"check\" />\n            {{ $t(\"create\") }}\n          </button>\n        </div>\n        <div v-else>\n          <button type=\"button\" class=\"u-buttonLink\" @click=\"cancelExport\">\n            <b-icon icon=\"arrow-left-short\" />\n            {{ $t(\"back\") }}\n          </button>\n          <br />\n\n          <MediaContent\n            class=\"_preview\"\n            :file=\"created_video\"\n            :resolution=\"1600\"\n            :context=\"'full'\"\n          />\n        </div>\n      </div>\n    </ExportSaveMakeModal>\n  </div>\n</template>\n<script>\nimport ModuleCreator from \"@/components/publications/modules/ModuleCreator.vue\";\nimport MontageModule from \"@/components/makes/MontageModule.vue\";\nimport ExportSaveMakeModal from \"@/components/makes/ExportSaveMakeModal.vue\";\n\nexport default {\n  props: {\n    make: Object,\n  },\n  components: {\n    ModuleCreator,\n    MontageModule,\n    ExportSaveMakeModal,\n  },\n  data() {\n    return {\n      show_save_export_modal: false,\n      is_exporting: false,\n      created_video: false,\n      export_href: undefined,\n      default_image_duration: 2,\n\n      resolution_preset_picked: \"high\",\n      presets: [\n        {\n          key: \"vhigh\",\n          text: this.$t(\"very_high\"),\n          instructions: \"1920 × 1080\",\n          width: 1920,\n          height: 1080,\n        },\n        {\n          key: \"high\",\n          text: this.$t(\"high\"),\n          instructions: \"1280 × 720\",\n          width: 1280,\n          height: 720,\n        },\n        {\n          key: \"medium\",\n          text: this.$t(\"medium\"),\n          instructions: \"640 × 480\",\n          width: 640,\n          height: 480,\n        },\n        {\n          key: \"low\",\n          text: this.$t(\"low\"),\n          instructions: \"480 × 360\",\n          width: 480,\n          height: 360,\n        },\n        {\n          key: \"rough\",\n          text: \"→\" + this.$t(\"rough\"),\n          instructions: \"360 × 240\",\n          width: 360,\n          height: 240,\n        },\n        {\n          key: \"custom\",\n          text: \"↓\" + this.$t(\"custom\"),\n          instructions: \"512 × 512\",\n        },\n      ],\n    };\n  },\n  i18n: {\n    messages: {\n      fr: {\n        export_montage: \"Exporter le montage\",\n      },\n      en: {\n        export_montage: \"Export montage\",\n      },\n    },\n  },\n  async created() {\n    if (!this.sections || this.sections.length === 0) {\n      await this.createSection2({\n        publication: this.make,\n        type: \"section\",\n        group: \"sections_list\",\n        title: \"montage\",\n      });\n    }\n  },\n  mounted() {},\n  beforeDestroy() {},\n  watch: {\n    show_save_export_modal() {\n      if (!this.show_save_export_modal) {\n        if (this.created_video) this.created_video = false;\n      }\n    },\n  },\n  computed: {\n    export_name() {\n      return \"video_montage.mp4\";\n    },\n    export_is_available() {\n      return this.section_modules_list.length > 1;\n    },\n    montage() {\n      return this.section_modules_list.reduce((acc, _module) => {\n        const media = this.firstMedia(_module);\n        if (media) {\n          let instr = {\n            path: this.makeMediaFilePath({\n              $path: media.$path,\n              $media_filename: media.$media_filename,\n            }),\n            type: media.$type,\n            transition_in: _module.transition_in,\n            transition_out: _module.transition_out,\n          };\n\n          if (media.$type === \"image\")\n            instr.image_duration =\n              _module.image_duration || this.default_image_duration;\n\n          acc.push(instr);\n        }\n        return acc;\n      }, []);\n    },\n\n    sections() {\n      return this.getSectionsWithProps({\n        publication: this.make,\n        group: \"sections_list\",\n      });\n    },\n    first_section() {\n      return this.sections.at(0);\n    },\n    section_modules_list() {\n      return this.getModulesForSection({\n        publication: this.make,\n        section: this.first_section,\n      }).map(({ _module }) => _module);\n    },\n  },\n  methods: {\n    async addModules({ meta_filenames }) {\n      await this.insertModuleMetaFilenamesToList2({\n        publication: this.make,\n        section: this.first_section,\n        meta_filenames,\n      });\n    },\n    async insertModules({ meta_filenames, index }) {\n      await this.insertModuleMetaFilenamesToList2({\n        publication: this.make,\n        section: this.first_section,\n        index,\n        meta_filenames,\n      });\n    },\n    async moveModuleTo({ path, new_position }) {\n      await this.moveModuleTo2({\n        publication: this.make,\n        section: this.first_section,\n        meta_filename: this.getFilename(path),\n        new_position,\n      });\n    },\n    async duplicatePublicationMedia({\n      source_module_path,\n      copy_meta_filename,\n    }) {\n      const source_meta_filename = this.getFilename(source_module_path);\n      await this.duplicatePublicationMedia2({\n        publication: this.make,\n        section: this.first_section,\n        source_meta_filename,\n        copy_meta_filename,\n      });\n    },\n    async removeModule(path) {\n      await this.removeModule2({\n        publication: this.make,\n        section: this.first_section,\n        path,\n      });\n    },\n    async cancelExport() {\n      this.$api.deleteItem({\n        path: this.created_video.$path,\n      });\n      this.created_video = false;\n    },\n    async renderMontage() {\n      this.is_exporting = true;\n      this.created_video = false;\n      this.export_href = undefined;\n\n      const { width: output_width, height: output_height } = this.presets.find(\n        (p) => p.key === this.resolution_preset_picked\n      );\n\n      const additional_meta = {};\n      additional_meta.$origin = \"make\";\n      if (this.connected_as?.$path)\n        additional_meta.$authors = [this.connected_as.$path];\n\n      let instructions = {\n        recipe: this.make.type,\n        suggested_file_name: this.make.type,\n        montage: this.montage,\n        output_width,\n        output_height,\n        additional_meta,\n      };\n\n      const current_task_id = await this.$api.exportFolder({\n        path: this.make.$path,\n        instructions,\n      });\n      this.$api.join({ room: \"task_\" + current_task_id });\n\n      const checkIfEnded = ({ task_id, message }) => {\n        if (task_id !== current_task_id) return;\n        this.$eventHub.$off(\"task.ended\", checkIfEnded);\n        this.$api.leave({ room: \"task_\" + current_task_id });\n\n        if (message.event === \"completed\") {\n          message.file;\n          this.created_video = message.file;\n          this.export_href = this.makeMediaFileURL({\n            $path: this.created_video.$path,\n            $media_filename: this.created_video.$media_filename,\n          });\n        } else if (message.event === \"aborted\") {\n          //\n        } else if (message.event === \"failed\") {\n          message.info;\n        }\n\n        this.is_exporting = false;\n      };\n      this.$eventHub.$on(\"task.ended\", checkIfEnded);\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n._montageModules {\n  padding: calc(var(--spacing) * 1);\n  max-width: 680px;\n  margin: 0 auto;\n  width: 100%;\n\n  ::v-deep {\n    ._moduleCreator {\n      justify-content: center;\n    }\n  }\n}\n\n._listOfModules {\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: center;\n}\n\n._lastModule {\n  padding: calc(var(--spacing) * 1);\n}\n\n._spacer {\n  min-height: 4rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: calc(var(--spacing) * 1);\n\n  transition: all 0.2s linear;\n\n  ::v-deep {\n    ._moduleCreator {\n      // position: absolute;\n      // background: white;\n      padding: calc(var(--spacing) / 4);\n      z-index: 1;\n      border-radius: 0;\n\n      &.is--collapsed {\n        padding: 0;\n      }\n    }\n  }\n}\n\n._equationIcon {\n  font-size: 2em;\n  line-height: 1;\n  margin: calc(var(--spacing) * 2);\n  color: white;\n}\n\n._bottomRow {\n  margin-top: calc(var(--spacing) * 2);\n  text-align: center;\n}\n\n._preview {\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ImageAndVideoMontage.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ImageAndVideoMontage.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ImageAndVideoMontage.vue?vue&type=template&id=3183502a&scoped=true\"\nimport script from \"./ImageAndVideoMontage.vue?vue&type=script&lang=js\"\nexport * from \"./ImageAndVideoMontage.vue?vue&type=script&lang=js\"\nimport style0 from \"./ImageAndVideoMontage.vue?vue&type=style&index=0&id=3183502a&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3183502a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"_mediaPicker\"},[_c('PickMediaFromProjects',{attrs:{\"title\":_vm.select_mode === 'single' ? _vm.$t('pick_media') : _vm.$t('pick_medias'),\"path\":_vm.current_project_path,\"select_mode\":_vm.select_mode},on:{\"addMedias\":function($event){return _vm.$emit('addMedias', $event)},\"close\":function($event){return _vm.$emit('close')}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"_mediaPicker\">\n    <!-- OPTIONS -->\n    <!-- create a text -->\n    <!-- <button type=\"button\" @click=\"createText\">\n        {{ $t(\"create_text\") }}\n      </button> -->\n    <!-- select from this or another project library -->\n    <PickMediaFromProjects\n      :title=\"select_mode === 'single' ? $t('pick_media') : $t('pick_medias')\"\n      :path=\"current_project_path\"\n      :select_mode=\"select_mode\"\n      @addMedias=\"$emit('addMedias', $event)\"\n      @close=\"$emit('close')\"\n    />\n  </div>\n</template>\n<script>\nexport default {\n  props: {\n    publication_path: String,\n    select_mode: {\n      type: String,\n      default: \"multiple\",\n    },\n  },\n  components: {},\n  data() {\n    return {};\n  },\n  async created() {},\n  beforeDestroy() {},\n  watch: {},\n  computed: {\n    current_project_path() {\n      const all_publications_path = this.getParent(this.publication_path);\n      return this.getParent(all_publications_path);\n    },\n  },\n  methods: {},\n};\n</script>\n<style lang=\"scss\" scoped>\n._mediaPicker {\n  position: absolute;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MediaPicker.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MediaPicker.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./MediaPicker.vue?vue&type=template&id=32c4a41c&scoped=true\"\nimport script from \"./MediaPicker.vue?vue&type=script&lang=js\"\nexport * from \"./MediaPicker.vue?vue&type=script&lang=js\"\nimport style0 from \"./MediaPicker.vue?vue&type=style&index=0&id=32c4a41c&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"32c4a41c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"_moduleCreator\",class:{\n    'is--collapsed': !_vm.show_module_selector,\n  }},[_c('transition',{attrs:{\"name\":\"pagechange\",\"mode\":\"out-in\"}},[(_vm.show_module_selector || !_vm.start_collapsed)?_c('div',{staticClass:\"_typePicker\"},[(_vm.types_available.includes('capture'))?_c('button',{staticClass:\"u-button u-button_red\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.show_capture_modal = true}}},[_c('b-icon',{staticStyle:{\"font-size\":\"var(--icon-size)\"},attrs:{\"icon\":\"record-circle-fill\"}}),(_vm.show_labels)?[_vm._v(_vm._s(_vm.$t(\"capture\")))]:_vm._e()],2):_vm._e(),(_vm.show_capture_modal)?_c('CaptureModal',{attrs:{\"path\":_vm.project_path},on:{\"createMosaic\":_vm.createMosaic,\"close\":function($event){_vm.show_capture_modal = false}}}):_vm._e(),(_vm.types_available.includes('import'))?_c('button',{staticClass:\"u-button u-button_orange\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.show_media_picker = true}}},[_c('b-icon',{staticStyle:{\"font-size\":\"var(--icon-size)\"},attrs:{\"icon\":\"image\"}}),(_vm.show_labels)?[_vm._v(_vm._s(_vm.$t(\"import\")))]:_vm._e()],2):_vm._e(),(_vm.show_media_picker)?_c('MediaPicker',{attrs:{\"publication_path\":_vm.publication_path,\"select_mode\":_vm.select_mode},on:{\"addMedias\":_vm.createMosaic,\"close\":function($event){_vm.show_media_picker = false}}}):_vm._e(),(_vm.types_available.includes('write'))?_c('button',{staticClass:\"u-button u-button_bleuvert\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.createText}},[_c('b-icon',{staticStyle:{\"font-size\":\"var(--icon-size)\"},attrs:{\"icon\":\"fonts\"}}),(_vm.show_labels)?[_vm._v(_vm._s(_vm.$t(\"write\")))]:_vm._e()],2):_vm._e(),(_vm.types_available.includes('embed'))?_c('button',{staticClass:\"u-button u-button_bleuvert\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.show_link_picker = true}}},[_c('b-icon',{staticStyle:{\"font-size\":\"var(--icon-size)\"},attrs:{\"icon\":\"link\"}}),(_vm.show_labels)?[_vm._v(_vm._s(_vm.$t(\"embed\")))]:_vm._e()],2):_vm._e(),(_vm.show_link_picker)?_c('LinkPicker',{on:{\"embed\":_vm.createEmbed,\"close\":function($event){_vm.show_link_picker = false}}}):_vm._e(),(_vm.types_available.includes('shapes'))?_vm._l((_vm.shapes),function(shape){return _c('button',{key:shape.type,staticClass:\"u-button u-button_bleumarine\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.createCustomModule({\n              module_type: shape.type,\n              addtl_meta: shape.addtl_meta,\n            })}}},[_c('b-icon',{staticStyle:{\"font-size\":\"var(--icon-size)\"},attrs:{\"icon\":shape.icon}}),(_vm.show_labels)?[_vm._v(_vm._s(_vm.$t(shape.type)))]:_vm._e()],2)}):_vm._e(),(_vm.start_collapsed)?_c('EditBtn',{key:\"addmodule\",attrs:{\"btn_type\":'close',\"is_unfolded\":false},on:{\"click\":function($event){_vm.show_module_selector = false}}}):_vm._e()],2):(_vm.start_collapsed && !_vm.show_module_selector)?_c('EditBtn',{key:\"addmodule\",staticClass:\"_addBtn\",attrs:{\"btn_type\":'add',\"is_unfolded\":false},on:{\"click\":function($event){_vm.show_module_selector = true}}}):_vm._e()],1),_c('DropZone',{on:{\"mediaDropped\":_vm.mediaDropped}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('BaseModal2',{attrs:{\"title\":_vm.$t('capture'),\"size\":'full'},on:{\"close\":function($event){return _vm.$emit('close')}}},[_c('CaptureView',{attrs:{\"path\":_vm.path,\"selected_mode\":_vm.selected_mode,\"stopmotion_slug\":_vm.stopmotion_slug},on:{\"changeMode\":function($event){_vm.selected_mode = $event},\"openStopmotion\":function($event){_vm.stopmotion_slug = $event},\"insertMedia\":_vm.insertMedia}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <BaseModal2 :title=\"$t('capture')\" :size=\"'full'\" @close=\"$emit('close')\">\n    <CaptureView\n      :path=\"path\"\n      :selected_mode=\"selected_mode\"\n      :stopmotion_slug=\"stopmotion_slug\"\n      @changeMode=\"selected_mode = $event\"\n      @openStopmotion=\"stopmotion_slug = $event\"\n      @insertMedia=\"insertMedia\"\n    />\n  </BaseModal2>\n</template>\n<script>\nexport default {\n  props: {\n    path: String,\n  },\n  components: {\n    CaptureView: () => import(\"@/adc-core/capture/CaptureView.vue\"),\n  },\n  data() {\n    return {\n      selected_mode: \"photo\",\n      stopmotion_slug: undefined,\n    };\n  },\n  i18n: {\n    messages: {\n      fr: {},\n    },\n  },\n  created() {},\n  mounted() {},\n  beforeDestroy() {},\n  watch: {},\n  computed: {},\n  methods: {\n    async insertMedia(meta_filename) {\n      const path_to_source_media_meta = this.path + \"/\" + meta_filename;\n      const path_to_source_media_metas = [path_to_source_media_meta];\n      this.$emit(\"createMosaic\", {\n        path_to_source_media_metas,\n      });\n      this.$emit(\"close\");\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CaptureModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CaptureModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CaptureModal.vue?vue&type=template&id=45e44070&scoped=true\"\nimport script from \"./CaptureModal.vue?vue&type=script&lang=js\"\nexport * from \"./CaptureModal.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"45e44070\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('BaseModal2',{on:{\"close\":function($event){return _vm.$emit('close')}}},[_c('div',{staticClass:\"_linkPicker\"},[_c('div',{staticClass:\"_urlBox\"},[_c('TextInput',{attrs:{\"label_str\":_vm.$t('input_url'),\"instructions\":_vm.$t('input_url_instr'),\"content\":_vm.full_url,\"placeholder\":'https://',\"required\":true,\"input_type\":'url'},on:{\"update:content\":function($event){_vm.full_url=$event},\"toggleValidity\":($event) => (_vm.allow_save = $event)}})],1),_c('div',{staticClass:\"u-instructions\"},[_vm._v(\" PeerTube, YouTube, Vimeo, etc. \"+_vm._s(_vm.$t(\"for_example\"))+\"  \"),_vm._l(([\n          'https://peertube.fr/w/wB6M6CHdfpWXpozVnqjbde',\n          'https://www.youtube.com/watch?v=Bn6zdyCAwJs',\n          'https://vimeo.com/447785086',\n          'https://observablehq.com/embed/@fil/bertin1953-glsl?cells=canvas',\n        ]),function(url,index){return _c('button',{key:index,staticClass:\"u-buttonLink\",attrs:{\"type\":\"button\"},domProps:{\"innerHTML\":_vm._s(url)},on:{\"click\":function($event){_vm.full_url = url}}})})],2),_c('br'),_c('div',{key:_vm.full_url},[(_vm.url_to_site.type === 'any')?[_c('iframe',{staticClass:\"_siteIframe\",attrs:{\"src\":_vm.url_to_site.src,\"frameborder\":\"0\"}})]:_c('vue-plyr',[_c('div',{staticClass:\"plyr__video-embed\"},[_c('iframe',{attrs:{\"src\":_vm.url_to_site.src,\"allowfullscreen\":\"\",\"allowtransparency\":\"\",\"allow\":\"autoplay; fullscreen\",\"sandbox\":\"allow-same-origin allow-scripts allow-popups\",\"frameborder\":\"0\"}})])])],2),_c('br'),(_vm.full_url)?_c('div',{staticClass:\"_selectBtn\"},[_c('button',{staticClass:\"u-buttonLink\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('close')}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"cancel\"))+\" \")]),_c('button',{staticClass:\"u-button u-button_bleuvert\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('embed', _vm.full_url)}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"embed\"))+\" \")])]):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <BaseModal2 @close=\"$emit('close')\">\n    <div class=\"_linkPicker\">\n      <div class=\"_urlBox\">\n        <!-- <DLabel :str=\"$t('input_url')\" :instructions=\"$t('input_url_instr')\" /> -->\n        <TextInput\n          :label_str=\"$t('input_url')\"\n          :instructions=\"$t('input_url_instr')\"\n          :content.sync=\"full_url\"\n          :placeholder=\"'https://'\"\n          :required=\"true\"\n          :input_type=\"'url'\"\n          @toggleValidity=\"($event) => (allow_save = $event)\"\n        />\n\n        <!-- <input type=\"url\" v-model=\"full_url\" placeholder=\"https://\" /> -->\n      </div>\n\n      <div class=\"u-instructions\">\n        PeerTube, YouTube, Vimeo, etc.\n        {{ $t(\"for_example\") }}&nbsp;\n        <button\n          v-for=\"(url, index) in [\n            'https://peertube.fr/w/wB6M6CHdfpWXpozVnqjbde',\n            'https://www.youtube.com/watch?v=Bn6zdyCAwJs',\n            'https://vimeo.com/447785086',\n            'https://observablehq.com/embed/@fil/bertin1953-glsl?cells=canvas',\n          ]\"\n          type=\"button\"\n          class=\"u-buttonLink\"\n          @click=\"full_url = url\"\n          :key=\"index\"\n          v-html=\"url\"\n        />\n      </div>\n\n      <br />\n      <div class=\"\" :key=\"full_url\">\n        <template v-if=\"url_to_site.type === 'any'\">\n          <iframe class=\"_siteIframe\" :src=\"url_to_site.src\" frameborder=\"0\" />\n        </template>\n        <vue-plyr v-else>\n          <div class=\"plyr__video-embed\">\n            <iframe\n              :src=\"url_to_site.src\"\n              allowfullscreen\n              allowtransparency\n              allow=\"autoplay; fullscreen\"\n              sandbox=\"allow-same-origin allow-scripts allow-popups\"\n              frameborder=\"0\"\n            />\n          </div>\n        </vue-plyr>\n      </div>\n\n      <br />\n\n      <div class=\"_selectBtn\" v-if=\"full_url\">\n        <button type=\"button\" class=\"u-buttonLink\" @click=\"$emit('close')\">\n          {{ $t(\"cancel\") }}\n        </button>\n        <button\n          type=\"button\"\n          class=\"u-button u-button_bleuvert\"\n          @click=\"$emit('embed', full_url)\"\n        >\n          {{ $t(\"embed\") }}\n        </button>\n      </div>\n    </div>\n  </BaseModal2>\n</template>\n<script>\nexport default {\n  props: {},\n  components: {},\n  data() {\n    return {\n      full_url: \"\",\n    };\n  },\n  async created() {},\n  beforeDestroy() {},\n  watch: {},\n  computed: {\n    url_to_site() {\n      if (!this.full_url) return false;\n      return this.transformURL({ url: this.full_url, autoplay: false });\n    },\n  },\n  methods: {},\n};\n</script>\n<style lang=\"scss\" scoped>\n._linkPicker {\n  width: 100%;\n  // background: var(--c-gris_clair);\n  margin: 0 auto;\n}\n._urlBox {\n  // margin-bottom: calc(var(--spacing) * 1);\n}\n\n._addMediaBtn {\n  text-align: center;\n  padding: calc(var(--spacing) * 1);\n}\n\n._selectBtn {\n  display: flex;\n  place-items: center;\n  justify-content: center;\n  width: 100%;\n  gap: calc(var(--spacing) / 1);\n\n  background: white;\n}\n\niframe {\n  width: 100%;\n  aspect-ratio: 4/3;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LinkPicker.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LinkPicker.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./LinkPicker.vue?vue&type=template&id=3b7f81aa&scoped=true\"\nimport script from \"./LinkPicker.vue?vue&type=script&lang=js\"\nexport * from \"./LinkPicker.vue?vue&type=script&lang=js\"\nimport style0 from \"./LinkPicker.vue?vue&type=style&index=0&id=3b7f81aa&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b7f81aa\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div\n    class=\"_moduleCreator\"\n    :class=\"{\n      'is--collapsed': !show_module_selector,\n    }\"\n  >\n    <transition name=\"pagechange\" mode=\"out-in\">\n      <div v-if=\"show_module_selector || !start_collapsed\" class=\"_typePicker\">\n        <button\n          type=\"button\"\n          class=\"u-button u-button_red\"\n          v-if=\"types_available.includes('capture')\"\n          @click=\"show_capture_modal = true\"\n        >\n          <b-icon\n            icon=\"record-circle-fill\"\n            style=\"font-size: var(--icon-size)\"\n          />\n          <template v-if=\"show_labels\">{{ $t(\"capture\") }}</template>\n        </button>\n        <CaptureModal\n          v-if=\"show_capture_modal\"\n          :path=\"project_path\"\n          @createMosaic=\"createMosaic\"\n          @close=\"show_capture_modal = false\"\n        />\n\n        <button\n          type=\"button\"\n          class=\"u-button u-button_orange\"\n          v-if=\"types_available.includes('import')\"\n          @click=\"show_media_picker = true\"\n        >\n          <b-icon icon=\"image\" style=\"font-size: var(--icon-size)\" />\n          <template v-if=\"show_labels\">{{ $t(\"import\") }}</template>\n        </button>\n        <MediaPicker\n          v-if=\"show_media_picker\"\n          :publication_path=\"publication_path\"\n          :select_mode=\"select_mode\"\n          @addMedias=\"createMosaic\"\n          @close=\"show_media_picker = false\"\n        />\n\n        <button\n          type=\"button\"\n          class=\"u-button u-button_bleuvert\"\n          v-if=\"types_available.includes('write')\"\n          @click=\"createText\"\n        >\n          <b-icon icon=\"fonts\" style=\"font-size: var(--icon-size)\" />\n          <template v-if=\"show_labels\">{{ $t(\"write\") }}</template>\n        </button>\n\n        <button\n          type=\"button\"\n          class=\"u-button u-button_bleuvert\"\n          v-if=\"types_available.includes('embed')\"\n          @click=\"show_link_picker = true\"\n        >\n          <b-icon icon=\"link\" style=\"font-size: var(--icon-size)\" />\n          <template v-if=\"show_labels\">{{ $t(\"embed\") }}</template>\n        </button>\n        <LinkPicker\n          v-if=\"show_link_picker\"\n          @embed=\"createEmbed\"\n          @close=\"show_link_picker = false\"\n        />\n\n        <template v-if=\"types_available.includes('shapes')\">\n          <button\n            type=\"button\"\n            v-for=\"shape in shapes\"\n            :key=\"shape.type\"\n            class=\"u-button u-button_bleumarine\"\n            @click=\"\n              createCustomModule({\n                module_type: shape.type,\n                addtl_meta: shape.addtl_meta,\n              })\n            \"\n          >\n            <b-icon :icon=\"shape.icon\" style=\"font-size: var(--icon-size)\" />\n            <template v-if=\"show_labels\">{{ $t(shape.type) }}</template>\n            <!-- {{ $t(\"add_medias\") }} -->\n          </button>\n        </template>\n        <EditBtn\n          v-if=\"start_collapsed\"\n          key=\"addmodule\"\n          :btn_type=\"'close'\"\n          :is_unfolded=\"false\"\n          @click=\"show_module_selector = false\"\n        />\n      </div>\n      <EditBtn\n        v-else-if=\"start_collapsed && !show_module_selector\"\n        key=\"addmodule\"\n        :btn_type=\"'add'\"\n        :is_unfolded=\"false\"\n        class=\"_addBtn\"\n        @click=\"show_module_selector = true\"\n      />\n    </transition>\n    <DropZone @mediaDropped=\"mediaDropped\" />\n  </div>\n</template>\n<script>\nimport CaptureModal from \"@/components/publications/CaptureModal.vue\";\nimport MediaPicker from \"@/components/publications/MediaPicker.vue\";\nimport LinkPicker from \"@/adc-core/modals/LinkPicker.vue\";\n\nexport default {\n  props: {\n    publication_path: String,\n    pre_addtl_meta: Object,\n    post_addtl_meta: Object,\n    select_mode: String,\n    show_labels: {\n      type: Boolean,\n      default: true,\n    },\n    context: String,\n    types_available: {\n      type: Array,\n      default: () => [\"capture\", \"import\", \"write\", \"embed\", \"shapes\"],\n    },\n    start_collapsed: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  components: {\n    CaptureModal,\n    MediaPicker,\n    LinkPicker,\n  },\n  data() {\n    return {\n      show_capture_modal: false,\n      show_module_selector: false,\n      show_media_picker: false,\n      show_file_picker: false,\n      show_link_picker: false,\n\n      shapes: [\n        {\n          type: \"ellipsis\",\n          icon: \"circle-fill\",\n          addtl_meta: {\n            background_color: \"#1d327f\",\n          },\n        },\n        {\n          type: \"rectangle\",\n          icon: \"square-fill\",\n          addtl_meta: {\n            background_color: \"#ffbe32\",\n          },\n        },\n        {\n          type: \"line\",\n          icon: \"dash-lg\",\n          addtl_meta: {\n            outline_width: 1,\n            outline_color: \"#000000\",\n          },\n        },\n        {\n          type: \"arrow\",\n          icon: \"arrow-right-square\",\n          addtl_meta: {\n            outline_width: 1,\n            outline_color: \"#000000\",\n          },\n        },\n      ],\n\n      // options: [\n      //   {\n      //     key: \"mosaic\",\n      //     label: \"module.label.mosaic\",\n      //     instructions: \"module.instructions.mosaic\",\n      //   },\n      //   {\n      //     key: \"carousel\",\n      //     label: \"module.label.carousel\",\n      //     instructions: \"module.instructions.carousel\",\n      //   },\n      // ],\n\n      is_saving: false,\n    };\n  },\n  created() {},\n  mounted() {},\n  beforeDestroy() {},\n  watch: {\n    show_module_selector() {},\n  },\n  computed: {\n    project_path() {\n      if (this.$root.publication_include_mode === \"link\")\n        return this.getParent(this.getParent(this.publication_path));\n      return this.publication_path;\n    },\n  },\n  methods: {\n    async mediaDropped({ path_to_source_media_metas }) {\n      // todo multiple cases here : if drag/drop media already in a publication, drag drop media from library\n      this.createMosaic({ path_to_source_media_metas });\n    },\n    async createMosaic({ meta_filename, path_to_source_media_metas }) {\n      // if meta_filename, file is stored in publication\n      // if path_to_source_media, we get metafilename\n      let source_medias = [];\n\n      // each meta gets it own mosaic\n      if (meta_filename) {\n        source_medias.push({\n          meta_filename,\n        });\n      } else if (path_to_source_media_metas) {\n        for (const path_to_source_media_meta of path_to_source_media_metas) {\n          const import_mode = this.$root.publication_include_mode;\n          const new_entry = await this.prepareMediaForPublication({\n            path_to_source_media_meta,\n            publication_path: this.publication_path,\n            import_mode,\n          });\n          source_medias.push(new_entry);\n        }\n      }\n      if (this.context === \"page_by_page\") {\n        source_medias = source_medias.map((sm) => {\n          sm.objectFit = \"contain\";\n          return sm;\n        });\n      }\n\n      if (this.context === \"page_by_page\") {\n        await this.createMultipleModules({\n          module_type: \"mosaic\",\n          source_medias,\n        });\n      } else {\n        await this.createModule({\n          module_type: \"mosaic\",\n          source_medias,\n        });\n      }\n\n      this.show_media_picker = false;\n    },\n    async createEmbed(full_url) {\n      const filename = \"url-\" + +new Date() + \".txt\";\n\n      const text_meta_filename = await this.$api.uploadText({\n        path: this.publication_path,\n        filename,\n        content: full_url,\n        additional_meta: {\n          $type: \"url\",\n        },\n      });\n      this.createMosaic({ meta_filename: text_meta_filename });\n      this.show_link_picker = false;\n    },\n    async createFiles({ path_to_source_media_metas }) {\n      // not used, need to update\n      let source_medias = [];\n      path_to_source_media_metas.map((path_to_source_media_meta) => {\n        const meta_filename_in_project = this.getFilename(\n          path_to_source_media_meta\n        );\n        source_medias.push({\n          meta_filename_in_project,\n        });\n      });\n\n      await this.createModule({\n        module_type: \"files\",\n        source_medias,\n      });\n\n      this.show_file_picker = false;\n    },\n\n    async createCustomModule({ module_type, addtl_meta }) {\n      await this.createModule({\n        module_type,\n        addtl_meta,\n      });\n    },\n    async createText() {\n      const filename = \"text-\" + +new Date() + \".txt\";\n      const meta_filename = await this.$api.uploadText({\n        path: this.publication_path,\n        filename,\n        content: \"\",\n      });\n      const source_medias = [{ meta_filename }];\n\n      const module_type = this.context === \"page_by_page\" ? \"text\" : \"mosaic\";\n      await this.createModule({\n        module_type,\n        source_medias,\n      });\n    },\n\n    async createModule({ module_type, source_medias = [], addtl_meta = {} }) {\n      // get infos from first media\n      if (source_medias.length > 0) {\n        const media = this.getSourceMedia({\n          source_media: source_medias[0],\n          folder_path: this.publication_path,\n        });\n        if (media?.$location) addtl_meta.location = media.$location;\n      }\n\n      const meta_filename = await this.createMetaForModule({\n        module_type,\n        source_medias,\n        addtl_meta,\n      });\n      this.$emit(\"addModules\", { meta_filenames: [meta_filename] });\n      this.show_module_selector = false;\n      return meta_filename;\n    },\n    async createMultipleModules({ module_type, source_medias = [] }) {\n      let meta_filenames = [];\n      for (const source_media of source_medias) {\n        const media = this.getSourceMedia({\n          source_media,\n          folder_path: this.publication_path,\n        });\n\n        let addtl_meta = {};\n        if (this.context === \"page_by_page\")\n          if (media?.$infos?.ratio)\n            addtl_meta.height =\n              this.$root.default_new_module_width * media.$infos.ratio;\n\n        if (media?.$location) addtl_meta.location = media.$location;\n\n        const meta_filename = await this.createMetaForModule({\n          module_type,\n          source_medias: [source_media],\n          addtl_meta,\n        });\n        meta_filenames.push(meta_filename);\n      }\n\n      this.show_module_selector = false;\n      this.$emit(\"addModules\", { meta_filenames });\n    },\n    async createMetaForModule({ module_type, source_medias, addtl_meta }) {\n      let additional_meta = {\n        module_type,\n        source_medias,\n        requested_slug: \"module\",\n      };\n\n      if (this.pre_addtl_meta)\n        Object.assign(additional_meta, this.pre_addtl_meta);\n      if (addtl_meta) Object.assign(additional_meta, addtl_meta);\n      if (this.post_addtl_meta)\n        Object.assign(additional_meta, this.post_addtl_meta);\n\n      return await this.$api\n        .uploadFile({\n          path: this.publication_path,\n          additional_meta,\n        })\n        .catch((err) => {\n          this.$alertify.delay(4000).error(err);\n          throw err;\n        });\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n._moduleCreator {\n  position: relative;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  width: 100%;\n  pointer-events: none;\n  gap: calc(var(--spacing) / 4);\n  padding: calc(var(--spacing) / 2) 0;\n\n  transition: all 0.5s cubic-bezier(0.19, 1, 0.22, 1);\n\n  --icon-size: 1.2rem;\n\n  &.is--collapsed {\n    padding: 0;\n  }\n\n  > * {\n    pointer-events: auto;\n  }\n}\n\n._typePicker {\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: flex-start;\n  align-items: center;\n  gap: calc(var(--spacing) / 4);\n\n  > * {\n    // padding: calc(var(--spacing) / 2);\n  }\n}\n\n._dropNotice {\n  pointer-events: none;\n}\n\nsl-icon-button::part(base) {\n  // font-size: 1.5em;\n  // color: var(--c-bleuvert);\n}\n\n._showModuleSelector {\n  // position: absolute;\n  // right: 100%;\n  transition: all 0.4s cubic-bezier(0.19, 1, 0.22, 1);\n}\n\n._addBtn {\n  margin-left: -24px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ModuleCreator.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ModuleCreator.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ModuleCreator.vue?vue&type=template&id=662b794a&scoped=true\"\nimport script from \"./ModuleCreator.vue?vue&type=script&lang=js\"\nexport * from \"./ModuleCreator.vue?vue&type=script&lang=js\"\nimport style0 from \"./ModuleCreator.vue?vue&type=style&index=0&id=662b794a&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"662b794a\",\n  null\n  \n)\n\nexport default component.exports","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"._linkPicker[data-v-3b7f81aa]{width:100%;margin:0 auto}._addMediaBtn[data-v-3b7f81aa]{text-align:center;padding:calc(var(--spacing)*1)}._selectBtn[data-v-3b7f81aa]{display:flex;place-items:center;justify-content:center;width:100%;gap:calc(var(--spacing)/1);background:#fff}iframe[data-v-3b7f81aa]{width:100%;aspect-ratio:4/3}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"._cont[data-v-1e9fab52]{position:relative}._saveNotice[data-v-1e9fab52]{position:absolute;inset:-2px;background:hsla(0,0%,100%,.95);display:flex;justify-content:center;align-items:center}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"._montageModules[data-v-3183502a]{padding:calc(var(--spacing)*1);max-width:680px;margin:0 auto;width:100%}._montageModules[data-v-3183502a] ._moduleCreator{justify-content:center}._listOfModules[data-v-3183502a]{display:flex;flex-flow:column nowrap;justify-content:center}._lastModule[data-v-3183502a],._spacer[data-v-3183502a]{padding:calc(var(--spacing)*1)}._spacer[data-v-3183502a]{min-height:4rem;display:flex;align-items:center;justify-content:center;transition:all .2s linear}._spacer[data-v-3183502a] ._moduleCreator{padding:calc(var(--spacing)/4);z-index:1;border-radius:0}._spacer[data-v-3183502a] ._moduleCreator.is--collapsed{padding:0}._equationIcon[data-v-3183502a]{font-size:2em;line-height:1;margin:calc(var(--spacing)*2);color:#fff}._bottomRow[data-v-3183502a]{margin-top:calc(var(--spacing)*2);text-align:center}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"._montageModule[data-v-a79b4426]{position:relative;max-width:400px;display:flex;flex-flow:row nowrap;align-items:flex-start;width:100%;margin:0 auto;gap:calc(var(--spacing)/1);color:#fff}._montageModule:last-child ._line[data-v-a79b4426]{height:100%}._line[data-v-a79b4426]{position:absolute;background:#fff;width:4px;height:calc(100% + 3rem);margin-left:3.1rem;margin-top:2px;z-index:0;top:0;border-radius:4px}._index[data-v-a79b4426]{position:sticky;top:0;font-family:Fira Mono;text-transform:uppercase;line-height:1;font-weight:600;z-index:1;background-color:var(--c-bleumarine);margin-top:-9px;display:flex;flex-flow:row nowrap;align-items:center}._index ._btns[data-v-a79b4426]{display:flex;flex-flow:column nowrap}._index ._btns>.u-button[data-v-a79b4426]{font-size:140%}._index ._num[data-v-a79b4426]{font-size:5rem}._index>.u-button[data-v-a79b4426]{font-size:50%}._lastModule[data-v-a79b4426]{margin-top:calc(var(--spacing)*2)}._preview[data-v-a79b4426]{flex:1 1 auto;background:#fff;padding:calc(var(--spacing)/2);border-radius:4px;color:var(--c-noir)}._preview[data-v-a79b4426] ._mediaContent--image{max-width:none;width:100%}._topRow[data-v-a79b4426]{display:flex;flex-flow:row wrap;justify-content:space-between}._imageDurationPicker[data-v-a79b4426]{max-width:18ch;margin:calc(var(--spacing)/2) auto}._transitionPicker[data-v-a79b4426]{text-align:center;margin:calc(var(--spacing)/2) auto}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"._mediaPicker[data-v-32c4a41c]{position:absolute}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"._moduleCreator[data-v-662b794a]{position:relative;display:flex;justify-content:flex-start;align-items:center;width:100%;pointer-events:none;gap:calc(var(--spacing)/4);padding:calc(var(--spacing)/2) 0;transition:all .5s cubic-bezier(.19,1,.22,1);--icon-size:1.2rem}._moduleCreator.is--collapsed[data-v-662b794a]{padding:0}._moduleCreator>*[data-v-662b794a]{pointer-events:auto}._typePicker[data-v-662b794a]{display:flex;flex-flow:row wrap;justify-content:flex-start;align-items:center;gap:calc(var(--spacing)/4)}._dropNotice[data-v-662b794a]{pointer-events:none}._showModuleSelector[data-v-662b794a]{transition:all .4s cubic-bezier(.19,1,.22,1)}._addBtn[data-v-662b794a]{margin-left:-24px}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-19.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-19.use[4]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LinkPicker.vue?vue&type=style&index=0&id=3b7f81aa&prod&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"3675eaee\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-19.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-19.use[4]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ExportSaveMakeModal.vue?vue&type=style&index=0&id=1e9fab52&prod&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"7c8700c4\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-19.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-19.use[4]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ImageAndVideoMontage.vue?vue&type=style&index=0&id=3183502a&prod&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"87c4a258\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-19.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-19.use[4]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MontageModule.vue?vue&type=style&index=0&id=a79b4426&prod&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"0dc56b08\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-19.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-19.use[4]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MediaPicker.vue?vue&type=style&index=0&id=32c4a41c&prod&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"71484b70\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-19.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19.use[2]!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19.use[3]!../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-19.use[4]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ModuleCreator.vue?vue&type=style&index=0&id=662b794a&prod&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"7cbad190\", content, true, {\"sourceMap\":false,\"shadowMode\":false});"],"names":["render","_vm","this","_c","_self","attrs","title","$t","on","$event","$emit","staticClass","_t","enable_options","export_href","export_name","_v","_s","saveToProject","staticStyle","_e","finished_saving_to_project","staticRenderFns","props","String","type","default","export_blob","Boolean","Blob","project_path","components","data","created","mounted","beforeDestroy","watch","computed","methods","additional_meta","connected_as","$path","$authors","$api","uploadFile","path","filename","file","catch","err","$alertify","delay","error","setTimeout","component","_l","section_modules_list","_module","index","key","make","addModules","meta_filenames","insertModules","length","default_image_duration","moveModuleTo","new_position","removeModule","export_is_available","show_save_export_modal","created_video","is_exporting","cancelExport","resolution_preset_picked","presets","renderMontage","module_position","first_media","$type","first_media_duration","makemodule","domProps","transition_in","toggleTransition","ref","$content","image_duration","updateMakemodule","transition_out","Object","Number","i18n","messages","fr","transition_fade","en","firstMedia","displayDuration","media","transition_type","new_meta","updateMeta","deleteItem","ModuleCreator","MontageModule","ExportSaveMakeModal","undefined","text","instructions","width","height","export_montage","sections","createSection2","publication","group","montage","reduce","acc","instr","makeMediaFilePath","$media_filename","push","getSectionsWithProps","first_section","at","getModulesForSection","section","map","insertModuleMetaFilenamesToList2","moveModuleTo2","meta_filename","getFilename","duplicatePublicationMedia","source_module_path","copy_meta_filename","source_meta_filename","duplicatePublicationMedia2","removeModule2","output_width","output_height","find","p","recipe","suggested_file_name","current_task_id","exportFolder","join","room","checkIfEnded","task_id","message","$eventHub","$off","leave","event","makeMediaFileURL","info","$on","select_mode","current_project_path","publication_path","all_publications_path","getParent","class","show_module_selector","start_collapsed","types_available","includes","show_capture_modal","show_labels","createMosaic","show_media_picker","createText","show_link_picker","createEmbed","shapes","shape","createCustomModule","module_type","addtl_meta","icon","mediaDropped","selected_mode","stopmotion_slug","insertMedia","CaptureView","path_to_source_media_meta","path_to_source_media_metas","full_url","allow_save","url","url_to_site","src","transformURL","autoplay","pre_addtl_meta","post_addtl_meta","context","Array","CaptureModal","MediaPicker","LinkPicker","show_file_picker","background_color","outline_width","outline_color","is_saving","$root","publication_include_mode","source_medias","import_mode","new_entry","prepareMediaForPublication","sm","objectFit","createMultipleModules","createModule","Date","text_meta_filename","uploadText","content","createFiles","meta_filename_in_project","getSourceMedia","source_media","folder_path","$location","location","createMetaForModule","$infos","ratio","default_new_module_width","requested_slug","assign","___CSS_LOADER_EXPORT___","module","id","__esModule","locals","exports","add"],"sourceRoot":""}