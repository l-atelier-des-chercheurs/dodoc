(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[32],{5864:function(t,n,s){"use strict";s.r(n),s.d(n,{default:function(){return f}});var a=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"_homeView"},[s("div",{staticClass:"_floatinProjectBtn"},[s("router-link",{staticClass:"u-button u-button_red u-button_big u-button_floating",attrs:{to:"/projects"}},[t._v(" "+t._s(t.$t("show_projects"))+" "),s("sl-icon",{attrs:{name:"arrow-up-right"}})],1)],1),s("div",{staticClass:"_homeView--content"},[s("img",{staticClass:"_dodoclogo",attrs:{src:t.$root.publicPath+"i_logo.svg"}}),t.show_settings_modal?s("AdminSettings",{on:{close:function(n){t.show_settings_modal=!1}}}):t._e(),s("h1",{domProps:{innerHTML:t._s(t.name)}}),s("p",{domProps:{innerHTML:t._s(t.description)}}),s("p",[t._v(" "+t._s(t.$t("contactmail_of_instance"))+" "),s("a",{attrs:{href:"mailto:"+t.contact_email,target:"_blank"}},[t._v(" "+t._s(t.contact_email)+" ")])]),s("small",{staticClass:"_versionNumber"},[t.is_admin?s("button",{staticClass:"u-button u-button_bleuvert",attrs:{type:"button"},on:{click:function(n){t.show_settings_modal=!t.show_settings_modal}}},[s("sl-icon",{attrs:{name:"gear-fill"}}),t._v("  "+t._s(t.$t("settings"))+" ")],1):t._e(),t.is_admin?[t._v(" – ")]:t._e(),t._v(" version "+t._s(t.$root.app_infos.version)+" ")],2)],1)])},e=[],i=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("BaseModal2",{attrs:{title:t.$t("settings")},on:{close:function(n){return t.$emit("close")}}},[s("div",{},[s("sl-tab-group",[s("sl-tab",{attrs:{slot:"nav",panel:"informations"},slot:"nav"},[t._v(" "+t._s(t.$t("informations"))+" ")]),s("sl-tab",{attrs:{slot:"nav",panel:"access_control"},slot:"nav"},[t._v(" "+t._s(t.$t("access_control"))+" ")]),s("sl-tab",{attrs:{slot:"nav",panel:"storage"},slot:"nav"},[t._v(" "+t._s(t.$t("storage"))+" ")]),s("sl-tab-panel",{attrs:{name:"informations"}},[s("TitleField",{attrs:{field_name:"name_of_instance",label:t.$t("name_of_instance"),instructions:t.$t("name_of_instance_instructions"),content:t.settings.name_of_instance,path:"_admin",tag:"h1",required:!0,maxlength:40,can_edit:t.is_admin}}),s("br"),s("TitleField",{attrs:{field_name:"presentation_of_instance",label:t.$t("presentation_of_instance"),instructions:t.$t("presentation_of_instance_instructions"),content:t.settings.presentation_of_instance,path:"_admin",required:!1,can_edit:t.is_admin}}),s("br"),s("TitleField",{attrs:{field_name:"contactmail_of_instance",label:t.$t("contactmail_of_instance"),instructions:t.$t("contactmail_of_instance_instructions"),content:t.settings.contactmail_of_instance,path:"_admin",required:!1,input_type:"email",can_edit:t.is_admin}}),s("br"),s("DLabel",{attrs:{str:t.$t("logo")}}),s("div",{staticClass:"u-wips"}),s("CoverField",{attrs:{cover:t.settings.logo,path:"_admin"}}),s("br"),s("div",{staticClass:"u-instructions"},[t._v(" "+t._s(t.$t("restart_to_apply"))+" ")])],1),s("sl-tab-panel",{attrs:{name:"access_control"}},[s("TitleField",{attrs:{field_name:"general_password",label:t.$t("general_password"),instructions:t.$t("general_password_instructions"),content:t.settings.general_password,path:"_admin",input_type:"password",required:!1,can_edit:t.is_admin}}),s("br"),s("TitleField",{attrs:{field_name:"signup_password",label:t.$t("signup_password"),instructions:t.$t("signup_password_instructions"),content:t.settings.signup_password,path:"_admin",required:!1,can_edit:t.is_admin}}),s("br"),s("div",{staticClass:"u-instructions"},[t._v(" "+t._s(t.$t("restart_to_apply"))+" ")])],1),s("sl-tab-panel",{attrs:{name:"storage"}},[s("PickNativePath",{attrs:{field_name:"pathToUserContent",label:t.$t("path_to_content"),instructions:t.$t("path_to_content_instructions"),content:t.settings.pathToUserContent,path:"_admin",required:!0,can_edit:t.is_admin&&t.$root.is_electron}}),s("br"),s("div",{staticClass:"u-instructions"},[t._v(" "+t._s(t.$t("restart_to_apply"))+" ")])],1)],1)],1)])},o=[],r={props:{},components:{},data(){return{path_to_content:void 0,new_path_to_content:void 0,settings:{}}},created(){},async mounted(){this.settings=await this.$api.getSettings(),this.$api.join({room:"_admin"})},beforeDestroy(){this.$api.leave({room:"_admin"})},watch:{},computed:{},methods:{restartDodoc(){this.$api.restartDodoc()},saveNewPathToContent(){}}},_=r,l=s(1001),c=(0,l.Z)(_,i,o,!1,null,"5bb91f9e",null),d=c.exports,p={props:{},components:{AdminSettings:d},data(){return{show_settings_modal:!1}},computed:{name(){return this.$root.app_infos.name_of_instance},description(){return this.$root.app_infos.presentation_of_instance.replace(/(?:\r\n|\r|\n)/g,"<br />")},contact_email(){return this.$root.app_infos.contactmail_of_instance}}},u=p,m=(s(5542),(0,l.Z)(u,a,e,!1,null,null,null)),f=m.exports},6603:function(t,n,s){"use strict";s.r(n);var a=s(8081),e=s.n(a),i=s(3645),o=s.n(i),r=o()(e());r.push([t.id,"._dodoclogo{max-width:300px}._homeView{padding:var(--spacing);min-height:100vh;max-height:-webkit-fill-available;display:flex;align-items:center}._homeView--content{max-width:600px;width:100%;margin:0 auto}._versionNumber{display:block;margin-top:calc(var(--spacing)*4);text-align:center;padding:calc(var(--spacing)/4)}._floatinProjectBtn{position:fixed;bottom:0;left:0;width:100%;padding:10vh 20vw;pointer-events:none;display:flex;justify-content:center}._floatinProjectBtn>*{pointer-events:auto}",""]),n["default"]=r},5542:function(t,n,s){var a=s(6603);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var e=s(1982).Z;e("e9fdf072",a,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=HomeView.js.map