(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[270],{59224:function(t,e,i){"use strict";i.d(e,{A:function(){return d}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"_mediaPicker"},[e("PickMediaFromProjects",{attrs:{title:"single"===t.select_mode?t.$t("pick_media"):t.$t("pick_medias"),path:t.current_project_path,select_mode:t.select_mode},on:{addMedias:function(e){return t.$emit("addMedias",e)},close:function(e){return t.$emit("close")}}})],1)},s=[],n={props:{publication_path:String,select_mode:{type:String,default:"multiple"}},components:{},data(){return{}},async created(){},beforeDestroy(){},watch:{},computed:{current_project_path(){const t=this.getParent(this.publication_path);return this.getParent(t)}},methods:{}},o=n,r=(i(41731),i(81656)),l=(0,r.A)(o,a,s,!1,null,"32c4a41c",null),d=l.exports},63094:function(t,e,i){"use strict";i.d(e,{A:function(){return x}});i(74423);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"_moduleCreator",class:{"is--collapsed":!t.show_module_selector}},[e("transition",{attrs:{name:"pagechange",mode:"out-in"}},[t.show_module_selector||!t.start_collapsed?e("div",{staticClass:"_typePicker"},[t.types_available.includes("capture")?e("button",{staticClass:"u-button u-button_red",attrs:{type:"button"},on:{click:function(e){t.show_capture_modal=!0}}},[e("b-icon",{staticStyle:{"font-size":"var(--icon-size)"},attrs:{icon:"record-circle-fill"}}),t.show_labels?[t._v(t._s(t.$t("capture")))]:t._e()],2):t._e(),t.show_capture_modal?e("CaptureModal",{attrs:{path:t.project_path},on:{createMosaic:t.createMosaic,close:function(e){t.show_capture_modal=!1}}}):t._e(),t.types_available.includes("import")?e("button",{staticClass:"u-button u-button_orange",attrs:{type:"button"},on:{click:function(e){t.show_media_picker=!0}}},[e("b-icon",{staticStyle:{"font-size":"var(--icon-size)"},attrs:{icon:"image"}}),t.show_labels?[t._v(t._s(t.$t("import")))]:t._e()],2):t._e(),t.show_media_picker?e("MediaPicker",{attrs:{publication_path:t.publication_path,select_mode:t.select_mode},on:{addMedias:t.createMosaic,close:function(e){t.show_media_picker=!1}}}):t._e(),t.types_available.includes("write")?e("button",{staticClass:"u-button u-button_bleuvert",attrs:{type:"button"},on:{click:t.createText}},[e("b-icon",{staticStyle:{"font-size":"var(--icon-size)"},attrs:{icon:"fonts"}}),t.show_labels?[t._v(t._s(t.$t("write")))]:t._e()],2):t._e(),t.types_available.includes("embed")?e("button",{staticClass:"u-button u-button_bleuvert",attrs:{type:"button"},on:{click:function(e){t.show_link_picker=!0}}},[e("b-icon",{staticStyle:{"font-size":"var(--icon-size)"},attrs:{icon:"link"}}),t.show_labels?[t._v(t._s(t.$t("embed")))]:t._e()],2):t._e(),t.show_link_picker?e("LinkPicker",{on:{embed:t.createEmbed,close:function(e){t.show_link_picker=!1}}}):t._e(),t.types_available.includes("shapes")?t._l(t.shapes,(function(i){return e("button",{key:i.type,staticClass:"u-button u-button_bleumarine",attrs:{type:"button"},on:{click:function(e){return t.createCustomModule({module_type:i.type,addtl_meta:i.addtl_meta})}}},[e("b-icon",{staticStyle:{"font-size":"var(--icon-size)"},attrs:{icon:i.icon}}),t.show_labels?[t._v(t._s(t.$t(i.type)))]:t._e()],2)})):t._e(),t.start_collapsed?e("EditBtn",{key:"addmodule",attrs:{btn_type:"close",is_unfolded:!1},on:{click:function(e){t.show_module_selector=!1}}}):t._e()],2):t.start_collapsed&&!t.show_module_selector?e("EditBtn",{key:"addmodule",staticClass:"_addBtn",attrs:{btn_type:"add",is_unfolded:!1},on:{click:function(e){t.show_module_selector=!0}}}):t._e()],1),e("DropZone",{staticClass:"_dropZone",on:{mediaDropped:t.mediaDropped}})],1)},s=[],n=(i(44114),function(){var t=this,e=t._self._c;return e("BaseModal2",{attrs:{title:t.$t("capture"),size:"full"},on:{close:function(e){return t.$emit("close")}}},[e("CaptureView",{attrs:{path:t.path,selected_mode:t.selected_mode,stopmotion_slug:t.stopmotion_slug},on:{changeMode:function(e){t.selected_mode=e},openStopmotion:function(e){t.stopmotion_slug=e},insertMedia:t.insertMedia}})],1)}),o=[],r={props:{path:String},components:{CaptureView:()=>i.e(374).then(i.bind(i,91374))},data(){return{selected_mode:"photo",stopmotion_slug:void 0}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{async insertMedia(t){const e=this.path+"/"+t,i=[e];this.$emit("createMosaic",{path_to_source_media_metas:i}),this.$emit("close")}}},l=r,d=i(81656),c=(0,d.A)(l,n,o,!1,null,"1d65daa2",null),u=c.exports,h=i(59224),p=function(){var t=this,e=t._self._c;return e("BaseModal2",{on:{close:function(e){return t.$emit("close")}}},[e("div",{staticClass:"_linkPicker"},[e("div",{staticClass:"_urlBox"},[e("TextInput",{attrs:{label_str:t.$t("input_url"),instructions:t.$t("input_url_instr"),content:t.full_url,placeholder:"https://",required:!0,input_type:"url"},on:{"update:content":function(e){t.full_url=e},toggleValidity:e=>t.allow_save=e}})],1),e("div",{staticClass:"u-instructions"},[t._v(" PeerTube, YouTube, Vimeo, etc. "+t._s(t.$t("for_example"))+"Â  "),t._l(["https://peertube.fr/w/wB6M6CHdfpWXpozVnqjbde","https://www.youtube.com/watch?v=Bn6zdyCAwJs","https://vimeo.com/447785086","https://observablehq.com/embed/@fil/bertin1953-glsl?cells=canvas"],(function(i,a){return e("button",{key:a,staticClass:"u-buttonLink",attrs:{type:"button"},domProps:{innerHTML:t._s(i)},on:{click:function(e){t.full_url=i}}})}))],2),e("br"),e("div",{key:t.full_url},["any"===t.url_to_site.type?[e("iframe",{staticClass:"_siteIframe",attrs:{src:t.url_to_site.src,frameborder:"0"}})]:e("vue-plyr",[e("div",{staticClass:"plyr__video-embed"},[e("iframe",{attrs:{src:t.url_to_site.src,allowfullscreen:"",allowtransparency:"",allow:"autoplay; fullscreen",sandbox:"allow-same-origin allow-scripts allow-popups",frameborder:"0"}})])])],2),e("br"),t.full_url?e("div",{staticClass:"_selectBtn"},[e("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v(" "+t._s(t.$t("cancel"))+" ")]),e("button",{staticClass:"u-button u-button_bleuvert",attrs:{type:"button"},on:{click:function(e){return t.$emit("embed",t.full_url)}}},[t._v(" "+t._s(t.$t("embed"))+" ")])]):t._e()])])},m=[],_={props:{},components:{},data(){return{full_url:""}},async created(){},beforeDestroy(){},watch:{},computed:{url_to_site(){return!!this.full_url&&this.transformURL({url:this.full_url,autoplay:!1})}},methods:{}},f=_,v=(i(65096),(0,d.A)(f,p,m,!1,null,"3b7f81aa",null)),g=v.exports,b={props:{publication_path:String,pre_addtl_meta:Object,post_addtl_meta:Object,select_mode:String,show_labels:{type:Boolean,default:!0},context:String,types_available:{type:Array,default:()=>["capture","import","write","embed","shapes"]},start_collapsed:{type:Boolean,default:!0}},components:{CaptureModal:u,MediaPicker:h.A,LinkPicker:g},data(){return{show_capture_modal:!1,show_module_selector:!1,show_media_picker:!1,show_file_picker:!1,show_link_picker:!1,shapes:[{type:"ellipsis",icon:"circle-fill",addtl_meta:{background_color:"#1d327f"}},{type:"rectangle",icon:"square-fill",addtl_meta:{background_color:"#ffbe32"}},{type:"line",icon:"dash-lg",addtl_meta:{outline_width:1,outline_color:"#000000"}},{type:"arrow",icon:"arrow-right-square",addtl_meta:{outline_width:1,outline_color:"#000000"}}],is_saving:!1}},created(){},mounted(){},beforeDestroy(){},watch:{show_module_selector(){}},computed:{project_path(){return"link"===this.$root.publication_include_mode?this.getParent(this.getParent(this.publication_path)):this.publication_path}},methods:{async mediaDropped({path_to_source_media_metas:t}){this.createMosaic({path_to_source_media_metas:t})},async createMosaic({meta_filename:t,path_to_source_media_metas:e}){let i=[];if(t)i.push({meta_filename:t});else if(e)for(const a of e){const t=this.$root.publication_include_mode,e=await this.prepareMediaForPublication({path_to_source_media_meta:a,publication_path:this.publication_path,import_mode:t});i.push(e)}"page_by_page"===this.context&&(i=i.map((t=>(t.objectFit="contain",t)))),"page_by_page"===this.context?await this.createMultipleModules({module_type:"mosaic",source_medias:i}):await this.createModule({module_type:"mosaic",source_medias:i}),this.show_media_picker=!1},async createEmbed(t){const e="url-"+ +new Date+".txt",i=await this.$api.uploadText({path:this.publication_path,filename:e,content:t,additional_meta:{$type:"url"}});this.createMosaic({meta_filename:i}),this.show_link_picker=!1},async createFiles({path_to_source_media_metas:t}){let e=[];t.map((t=>{const i=this.getFilename(t);e.push({meta_filename_in_project:i})})),await this.createModule({module_type:"files",source_medias:e}),this.show_file_picker=!1},async createCustomModule({module_type:t,addtl_meta:e}){await this.createModule({module_type:t,addtl_meta:e})},async createText(){const t="text-"+ +new Date+".txt",e=await this.$api.uploadText({path:this.publication_path,filename:t,content:""}),i=[{meta_filename:e}],a="page_by_page"===this.context?"text":"mosaic";await this.createModule({module_type:a,source_medias:i})},async createModule({module_type:t,source_medias:e=[],addtl_meta:i={}}){if(e.length>0){const t=this.getSourceMedia({source_media:e[0],folder_path:this.publication_path});t?.$location&&(i.location=t.$location)}const a=await this.createMetaForModule({module_type:t,source_medias:e,addtl_meta:i});return this.$emit("addModules",{meta_filenames:[a]}),this.show_module_selector=!1,a},async createMultipleModules({module_type:t,source_medias:e=[]}){let i=[];for(const a of e){const e=this.getSourceMedia({source_media:a,folder_path:this.publication_path});let s={};"page_by_page"===this.context&&e?.$infos?.ratio&&(s.width?s.height=s.width*e.$infos.ratio:s.height=this.$root.default_new_module_width*e.$infos.ratio),e?.$location&&(s.location=e.$location);const n=await this.createMetaForModule({module_type:t,source_medias:[a],addtl_meta:s});i.push(n)}this.show_module_selector=!1,this.$emit("addModules",{meta_filenames:i})},async createMetaForModule({module_type:t,source_medias:e,addtl_meta:i}){let a={module_type:t,source_medias:e,requested_slug:"module"};return this.pre_addtl_meta&&Object.assign(a,this.pre_addtl_meta),i&&Object.assign(a,i),this.post_addtl_meta&&Object.assign(a,this.post_addtl_meta),await this.$api.uploadFile({path:this.publication_path,additional_meta:a}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t}))}}},y=b,w=(i(42732),(0,d.A)(y,a,s,!1,null,"4de4910e",null)),x=w.exports},28419:function(t,e,i){"use strict";i.d(e,{A:function(){return H}});i(74423);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"_publicationModule",attrs:{"data-type":t.module_type},on:{click:t.preventClickTraversing}},[e("transition",{attrs:{name:"showOptions",mode:"out-in",appear:""}},[t.edit_mode&&"page_by_page"!==t.page_template?e("div",{staticClass:"_sideOptions"},[e("div",{staticClass:"_sideOptions--content"},[e("div",{staticClass:"_arrows"},[t.$listeners.hasOwnProperty("moveUp")?e("button",{staticClass:"u-button _sideBtns _moveBefore",attrs:{disabled:"first"===t.module_position||"alone"===t.module_position,type:"button"},on:{click:function(e){return t.$emit("moveUp")}}},[e("svg",{staticStyle:{transform:"rotate(90deg)"},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 168 168"}},[e("path",{staticStyle:{fill:"currentColor"},attrs:{d:"M87.46,49.46,73.39,64.77a65.3,65.3,0,0,1-6.15,6.15A47.8,47.8,0,0,1,61,75.29H131.6V91.14H61A39.1,39.1,0,0,1,67,95.51q2.81,2.46,6.36,6.15L87.46,117,74.48,128,34.17,83.21,74.48,38.39Z"}})])]):t._e(),t.$listeners.hasOwnProperty("moveDown")?e("button",{staticClass:"u-button _sideBtns _moveAfter",attrs:{type:"button",disabled:"last"===t.module_position||"alone"===t.module_position},on:{click:function(e){return t.$emit("moveDown")}}},[e("svg",{staticStyle:{transform:"rotate(90deg)"},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 168 168"}},[e("path",{staticStyle:{fill:"currentColor"},attrs:{d:"M78.31,117l14.07-15.31a65.3,65.3,0,0,1,6.15-6.15,47.52,47.52,0,0,1,6.29-4.37H34.17V75.29h70.65a39.1,39.1,0,0,1-6.08-4.37q-2.8-2.46-6.36-6.15L78.31,49.46l13-11.07L131.6,83.21,91.29,128Z"}})])]):t._e()]),e("div",{staticClass:"_options"},[e("div",{staticClass:"_advanced_menu"},[e("div",[e("select",{attrs:{disabled:t.available_module_types.length<=1},domProps:{value:t.publimodule.module_type},on:{change:t.changeModuleType}},t._l(t.available_module_types,(function(i){return e("option",{key:i,domProps:{value:i}},[t._v(" "+t._s(t.$t(`module.label.${i}`))+" ")])})),0)]),e("div",{staticClass:"_buttonRow"},t._l([100,66.6,50,33.3],(function(i){return e("button",{key:i,staticClass:"u-button u-button_icon u-button_small _sizes",class:{"is--active":!t.publimodule.size&&100===i||t.publimodule.size===i},attrs:{type:"button"},on:{click:function(e){return t.updateMeta({size:i})}}},[t._v(" "+t._s(i)+"% ")])})),0),t.publimodule.size&&100!==t.publimodule.size?e("div",{staticClass:"_buttonRow"},t._l(["left","center","right"],(function(i){return e("button",{key:i,staticClass:"u-button u-button_icon u-button_small",class:{"is--active":!t.publimodule.align&&"left"===i||t.publimodule.align===i},attrs:{type:"button"},on:{click:function(e){return t.updateMeta({align:i})}}},["left"===i?e("b-icon",{attrs:{icon:"align-start"}}):t._e(),"center"===i?e("b-icon",{attrs:{icon:"align-center"}}):t._e(),"right"===i?e("b-icon",{attrs:{icon:"align-end"}}):t._e()],1)})),0):t._e(),e("DropDown",{attrs:{right:!0}},[e("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:t.duplicateModule}},[e("b-icon",{attrs:{icon:"file-plus"}}),t._v(" "+t._s(t.$t("duplicate"))+" ")],1),e("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("changeSectionForModule")}}},[e("b-icon",{attrs:{icon:"arrow-left-right"}}),t._v(" "+t._s(t.$t("change_section"))+" ")],1),t.can_edit?e("RemoveMenu",{attrs:{remove_text:t.$t("remove"),show_button_text:!0},on:{remove:t.removeModule}}):t._e()],1)],1),t.is_associated_to_map?e("div",{staticClass:"_carto"},[t._e(),e("div",{},[e("button",{staticClass:"u-button u-button_red",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.repickLocation.apply(null,arguments)}}},[t.has_coordinates?[e("b-icon",{attrs:{icon:"pin-map-fill"}}),t._v(" "+t._s(t.$t("change_location"))+" ")]:[e("b-icon",{attrs:{icon:"pin-map"}}),t._v(" "+t._s(t.$t("place_on_map"))+" ")]],2)]),t.has_coordinates?e("div",{},[e("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:t.eraseCoords}},[e("b-icon",{attrs:{icon:"x-circle"}}),t._v(" "+t._s(t.$t("erase"))+" ")],1)]):t._e()]):t._e()]),e("div",{staticClass:"_saveBtn"},[e("EditBtn",{attrs:{btn_type:"check",label_position:"left"},on:{click:t.disableEdit}})],1),t.is_repicking_location?e("div",{staticClass:"_repickNotice"},[e("div",{staticClass:"_repickNotice--content"},[e("div",[t._v(" "+t._s(t.$t("click_on_map_to_repick_location"))+" ")]),e("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){t.is_repicking_location=!1}}},[t._v(" "+t._s(t.$t("cancel"))+" ")])])]):t._e()])]):t._e()]),e("div",{staticClass:"_content",style:t.media_styles},[e("div",{ref:"sentinel"}),t.is_associated_to_map&&t.has_coordinates?e("button",{ref:"pinButton",staticClass:"u-button _pinButton",class:{"is--active":t.is_active_on_map},style:`--pin-color: ${t.pin_options?t.pin_options.color:""}`,attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.pinButtonClick.apply(null,arguments)}}},[e("img",{attrs:{src:t.pin_options.pin_preview_src}})]):t._e(),t.can_edit?e("div",{staticClass:"_floatingEditBtn"},[e("span",{on:{click:function(e){return e.stopPropagation(),t.enableEdit.apply(null,arguments)},touchstart:function(e){return e.stopPropagation(),t.enableEdit.apply(null,arguments)}}},[t.edit_mode?t._e():e("EditBtn",{attrs:{label_position:"left"}})],1)]):t._e(),["mosaic","carousel","files"].includes(t.publimodule.module_type)?e("MediasModule",{attrs:{publimodule:t.publimodule,edit_mode:t.edit_mode,can_edit:t.can_edit,context:t.context,page_template:t.page_template,number_of_max_medias:t.number_of_max_medias,show_fs_button:t.show_fs_button},on:{updateMeta:t.updateMeta,remove:t.removeModule}}):"text"===t.publimodule.module_type&&t.first_media?e("CollaborativeEditor2",{ref:"textBloc",attrs:{path:t.first_media.$path,content:t.first_media.$content,scrollingContainer:t.$el,line_selected:!1,can_edit:t.can_edit},on:{lineClicked:function(e){return t.$emit("lineClicked",e)},contentIsEdited:function(e){return t.$emit("contentIsEdited",e)},contentIsNotEdited:function(e){return t.$emit("contentIsNotEdited",e)}}}):"shape"===t.module_type?[e("svg",{attrs:{viewBox:"0 0 100 100",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg"}},["ellipsis"===t.publimodule.module_type?e("circle",{attrs:{cx:"50",cy:"50",r:50-t.publimodule.outline_width*t.magnification/8,"vector-effect":"non-scaling-stroke"}}):"rectangle"===t.publimodule.module_type?e("rect",{attrs:{x:t.publimodule.outline_width*t.magnification/4,y:t.publimodule.outline_width*t.magnification/4,width:100-t.publimodule.outline_width*t.magnification/2,height:100-t.publimodule.outline_width*t.magnification/2,"vector-effect":"non-scaling-stroke",rx:t.border_radius.x,ry:t.border_radius.y}}):"line"===t.publimodule.module_type?e("g",[e("rect",{attrs:{width:"100",height:"100","vector-effect":"non-scaling-stroke",stroke:"none",rx:t.border_radius.x,ry:t.border_radius.y}}),e("line",{attrs:{x1:t.publimodule.outline_width*t.magnification/4||0,y1:"50",x2:100-(t.publimodule.outline_width*t.magnification/4||0),y2:"50","vector-effect":"non-scaling-stroke"}})]):"arrow"===t.publimodule.module_type?e("g",[e("rect",{attrs:{width:"100",height:"100","vector-effect":"non-scaling-stroke",stroke:"none",rx:t.border_radius.x,ry:t.border_radius.y}}),e("line",{attrs:{x1:t.publimodule.outline_width*t.magnification/4||0,y1:"50",x2:100-(t.publimodule.outline_width*t.magnification/4||0),y2:"50","vector-effect":"non-scaling-stroke"}}),e("g",{attrs:{transform:`\n              translate(${100-(t.publimodule.outline_width*t.magnification/4||0)}, 50)`,preserveAspectRatio:""}},[e("line",{attrs:{x1:"0",y1:"0",x2:"-10",y2:"-10","vector-effect":"non-scaling-stroke"}}),e("line",{attrs:{x1:"0",y1:"0",x2:"-10",y2:"10","vector-effect":"non-scaling-stroke"}})])]):t._e()])]:e("small",[t._v(t._s(t.$t("nothing_to_show")))]),t.show_caption?e("div",{staticClass:"_captionField"},[e("CollaborativeEditor2",{staticClass:"_caption",attrs:{label:t.edit_mode&&!t.publimodule.caption&&"page_by_page"!==t.page_template?t.$t("add_caption"):void 0,field_to_edit:"caption",content:t.publimodule.caption,path:t.publimodule.$path,custom_formats:["bold","italic","link"],is_collaborative:!1,can_edit:"page_by_page"!==t.page_template&&t.can_edit}}),t.edit_mode&&t.first_media&&t.first_media.caption&&!t.publimodule.caption&&"page_by_page"!==t.page_template?e("div",{},[e("div",{staticClass:"u-instructions"},[t._v(" "+t._s(t.$t("copy_first_media_caption"))+" ")]),e("button",{attrs:{type:"button"},on:{click:function(e){return t.updateMeta({caption:t.first_media.caption})}}},[t._v(" "+t._s(t.first_media.caption)+" ")])]):t._e()],1):t._e()],2),t.edit_mode&&"page_by_page"!==t.page_template?e("div",{staticClass:"_selectorIndicator"}):t._e()],1)},s=[],n=(i(18107),i(67357),function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"fade_fast",mode:"out-in"}},[e("div",{key:t.medias_with_linked.length>1?"multiple":"single",staticClass:"_mediasModule",style:`--number_of_medias: ${t.medias_with_linked.length}`},[e("transition",{attrs:{name:"pagechange",mode:"out-in"}},["mosaic"===t.publimodule.module_type?e("MosaicMediaGrid",{key:"mosaic",attrs:{medias_with_linked:t.medias_with_linked,publimodule:t.publimodule,context:t.context,page_template:t.page_template,show_fs_button:t.show_fs_button,number_of_max_medias:t.number_of_max_medias,publication_path:t.publication_path,edit_mode:t.edit_mode,can_edit:t.can_edit},on:{addMedias:t.addMedias,removeMediaAtIndex:t.removeMediaAtIndex,updateMediaOpt:t.updateMediaOpt}}):"files"===t.publimodule.module_type?e("FilesList",{key:"filelist",attrs:{medias_with_linked:t.medias_with_linked,publication_path:t.publication_path,edit_mode:t.edit_mode,can_edit:t.can_edit},on:{addMedias:t.addMedias,reorderMedias:t.reorderMedias,removeMediaAtIndex:t.removeMediaAtIndex}}):"carousel"===t.publimodule.module_type?e("MediaCarousel",{attrs:{medias_with_linked:t.medias_with_linked,context:t.context,page_template:t.page_template,show_fs_button:t.show_fs_button,publication_path:t.publication_path,publi_width:t.publimodule.size,edit_mode:t.edit_mode,can_edit:t.can_edit},on:{addMedias:t.addMedias,removeMediaAtIndex:t.removeMediaAtIndex,updateMediaOpt:t.updateMediaOpt}}):t._e()],1)],1)])}),o=[],r=(i(44114),function(){var t=this,e=t._self._c;return e("div",{staticClass:"_mediaGrid",class:{"is--multipleMedias":t.is_multiple_medias}},[t._l(t.medias_with_linked,(function(i,a){return[e("div",{key:t.itemKey(i._linked_media,a),staticClass:"_mediaGrid--item",style:t.itemStyle({media_with_linked:i}),attrs:{"data-mediatype":i._linked_media.$type}},[i._linked_media?"text"===i._linked_media.$type?e("CollaborativeEditor2",{key:t.edit_mode,staticClass:"_mediaContent--collabEditor",attrs:{content:i._linked_media.$content,path:i._linked_media.$path,edit_on_mounted:t.edit_mode,can_edit:t.edit_mode}}):e("MediaContent",{attrs:{file:i._linked_media,resolution:"preview"===t.context?220:1600,context:t.context,show_fs_button:t.show_fs_button,can_edit:t.can_edit}}):e("div",{staticClass:"u-instructions _noSourceMedia",domProps:{textContent:t._s(t.$t("source_media_missing"))}}),e("CaptionCreditsPage",{attrs:{media:i._linked_media,publication_path:t.publication_path,can_edit:t.can_edit}}),e("div",{staticClass:"_btnRow"},[t.edit_mode?e("DragFile",{staticClass:"_df",attrs:{size:"small",file:i._linked_media},on:{dragfileSuccess:function(e){return t.mediaDraggedSuccessfully(a)}}}):t._e(),t.edit_mode?[!t.is_multiple_medias&&("page_by_page"!==t.page_template||t.single_media_displayed_at_full_ratio)||t.mediaIsSquare(i._linked_media)||"stl"===i._linked_media.$type||"obj"===i._linked_media.$type||"text"===i._linked_media.$type||"other"===i._linked_media.$type?t._e():[i.objectFit&&"cover"!==i.objectFit?e("button",{staticClass:"u-button u-button_icon u-button_small",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.$emit("updateMediaOpt",{index:a,opt:{objectFit:"cover"}})}}},[e("b-icon",{attrs:{icon:"aspect-ratio"}})],1):t._e(),"contain"!==i.objectFit?e("button",{staticClass:"u-button u-button_icon u-button_small",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.$emit("updateMediaOpt",{index:a,opt:{objectFit:"contain"}})}}},[e("b-icon",{attrs:{icon:"aspect-ratio-fill"}})],1):t._e()],t.is_multiple_medias?e("button",{staticClass:"u-button u-button_icon u-button_small",attrs:{type:"button"},on:{click:function(e){return t.removeMedia(a)}}},[e("b-icon",{attrs:{icon:"trash"}})],1):t._e()]:t._e()],2)],1)]})),t.can_edit&&(!t.number_of_max_medias||t.medias_with_linked.length<t.number_of_max_medias)?e("div",{staticClass:"_mediaPickerTile"},[t.edit_mode?e("EditBtn",{attrs:{btn_type:"add",is_unfolded:!1},on:{click:function(e){t.show_media_picker=!0}}}):t._e(),t.show_media_picker?e("MediaPicker",{attrs:{publication_path:t.publication_path},on:{addMedias:function(e){return t.$emit("addMedias",e)},close:function(e){t.show_media_picker=!1}}}):t._e(),!t.number_of_max_medias||t.medias_with_linked.length<t.number_of_max_medias?[e("DropZone",{staticClass:"_dzAfter",on:{mediaDropped:function(e){return t.$emit("addMedias",e)}}})]:t._e()],2):t._e()],2)}),l=[],d=i(59224),c=function(){var t=this,e=t._self._c;return e("div",{},[e("div",{staticClass:"_creditsBtn"},[t.show_credits_caption_button?e("EditBtn",{attrs:{btn_type:"credits",label_position:"left"},on:{click:function(e){t.show_credits_caption=!0}}}):t._e()],1),e("transition",{attrs:{name:"pagechange",mode:"out-in"}},[t.show_credits_caption?e("div",{staticClass:"_showCredits"},[e("button",{staticClass:"u-button u-button_icon _closeCredits",attrs:{type:"button"},on:{click:function(e){t.show_credits_caption=!1}}},[e("b-icon",{attrs:{icon:"x-lg"}})],1),t.media.caption||!1!==t.canEditLinkedMedia(t.media.$path)?e("div",{staticClass:"u-spacingBottom"},[e("CollaborativeEditor2",{attrs:{label:t.$t("caption"),field_to_edit:"caption",content:t.media.caption,path:t.media.$path,custom_formats:["bold","italic","link"],is_collaborative:!1,can_edit:t.can_edit}})],1):t._e(),t.media.$credits||!1!==t.canEditLinkedMedia(t.media.$path)?e("div",{staticClass:"u-spacingBottom"},[e("CollaborativeEditor2",{attrs:{label:t.$t("credit/reference"),field_to_edit:"$credits",content:t.media.$credits,path:t.media.$path,custom_formats:["bold","italic","link"],is_collaborative:!1,can_edit:t.can_edit}})],1):t._e(),t.can_edit?e("div",{staticClass:"u-instructions"},[t._v(" "+t._s(t.$t("edit_caption_changes_for_all_medias"))+" ")]):t._e()]):t._e()])],1)},u=[],h={props:{media:Object,publication_path:String,can_edit:Boolean},components:{},data(){return{show_credits_caption:!1}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{show_credits_caption_button(){return!this.show_credits_caption&&("text"!==this.media.$type&&!(!1===this.canEditLinkedMedia(this.media.$path)&&!this.media.$credits&&!this.media.caption))}},methods:{canEditLinkedMedia(t){const e=this.getParent(t);let i=this.publication_path;return e===i&&this.canLoggedinEditFolder({folder:i})?"local":(i=this.getParent(this.getParent(this.publication_path)),!(e!==i||!this.canLoggedinEditFolder({folder:i}))&&"link")}}},p=h,m=(i(52582),i(81656)),_=(0,m.A)(p,c,u,!1,null,"6dfa5786",null),f=_.exports,v={props:{medias_with_linked:Array,context:String,publimodule:Object,page_template:String,show_fs_button:Boolean,number_of_max_medias:[Boolean,Number],publication_path:String,edit_mode:Boolean,can_edit:Boolean},components:{MediaPicker:d.A,CaptionCreditsPage:f},data(){return{show_media_picker:!1}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{is_multiple_medias(){return this.medias_with_linked.length>1},single_media_displayed_at_full_ratio(){if(this.medias_with_linked.length>1)return!1;const t=this.medias_with_linked[0]._linked_media.$infos?.ratio,e=!(!this.publimodule?.height||!this.publimodule?.width)&&this.publimodule?.height/this.publimodule?.width;if(!t||!e)return!1;const i=10;return Math.round(t*i)===Math.round(e*i)}},methods:{itemKey(t,e){return t?.$path?t.$path+"_"+e:"no_media_"+e},itemStyle({media_with_linked:t}){let e={};return e["--object-fit"]=t.objectFit||"cover",e},mediaIsSquare(t){return 1===t.$infos?.ratio},removeMedia(t){this.$emit("removeMediaAtIndex",{index:t})},mediaDraggedSuccessfully(t){console.log("mediaDraggedSuccessfully"),this.$emit("removeMediaAtIndex",{index:t,remove_source:!1})}}},g=v,b=(i(98789),(0,m.A)(g,r,l,!1,null,"f5a0943e",null)),y=b.exports,w=function(){var t=this,e=t._self._c;return e("div",{staticClass:"_filesList"},[e("DLabel",{attrs:{str:t.$t("source_files")}}),e("SlickList",{key:t.edit_mode,staticClass:"_listOfFiles",attrs:{axis:"y",value:t.medias_with_linked,useDragHandle:!0},on:{input:function(e){return t.$emit("reorderMedias",e)}}},t._l(t.medias_with_linked,(function({_linked_media:i},a){return e("SlickItem",{key:i.$path,staticClass:"_reorderedFile",attrs:{index:a}},[t.edit_mode?e("button",{staticClass:"u-button u-button_icon",attrs:{type:"button"}},[e("b-icon",{directives:[{name:"handle",rawName:"v-handle"}],attrs:{icon:"hand-index-thumb",label:t.$t("move")}})],1):t._e(),i&&i.$path?e("DownloadFile",{staticClass:"_link",attrs:{file:i}},[["image","video","audio","pdf","stl","url"].includes(i.$type)?e("MediaContent",{staticClass:"_preview",attrs:{context:"preview",file:i,resolution:220}}):e("div",{staticClass:"_preview _preview--none"},[e("b-icon",{attrs:{icon:"file-earmark-arrow-down"}})],1),e("span",{staticClass:"_link--filename",domProps:{textContent:t._s(i.$media_filename)}}),i.$infos.size?[e("span",{staticClass:"u-instructions _link--filesize",domProps:{textContent:t._s(t.formatBytes(i.$infos.size))}})]:t._e(),e("b-icon",{staticClass:"_download",attrs:{icon:"file-earmark-arrow-down-fill"}})],2):t._e(),t.edit_mode?e("b-icon",{staticClass:"_removeItem",attrs:{icon:"trash"},on:{click:function(e){return t.$emit("removeMediaAtIndex",{index:a})}}}):t._e()],1)})),1),t.edit_mode?e("div",{staticClass:"_addBtnSection"},[e("button",{staticClass:"u-button u-button_transparent u-addBtn",attrs:{type:"button"},on:{click:function(e){t.show_media_picker=!0}}},[e("b-icon",{attrs:{icon:"plus-circle"}}),t._v(" "+t._s(t.$t("add_files"))+" ")],1),t.show_media_picker?e("MediaPicker",{attrs:{publication_path:t.publication_path},on:{addMedias:function(e){return t.$emit("addMedias",e)},close:function(e){t.show_media_picker=!1}}}):t._e(),e("DropZone",{on:{mediaDropped:function(e){return t.$emit("addMedias",e)}}})],1):t._e()],1)},x=[],k=i(55739),C={props:{medias_with_linked:Array,publication_path:String,edit_mode:Boolean,can_edit:Boolean},components:{SlickItem:k.SlickItem,SlickList:k.SlickList,MediaPicker:d.A},directives:{handle:k.HandleDirective},data(){return{show_media_picker:!1}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{}},M=C,S=(i(67328),(0,m.A)(M,w,x,!1,null,"54fcfa2d",null)),E=S.exports,$=function(){var t=this,e=t._self._c;return e("div",{staticClass:"_carousel",class:{}},[e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("flickity",{key:t.slider_key,ref:"flickity",staticClass:"_mainCarousel",attrs:{options:t.flickityOptions}},t._l(t.medias_with_linked,(function(i,a){return e("div",{key:i._linked_media&&i._linked_media.$path||"no_media_"+a,staticClass:"carousel-cell",style:t.itemStyle({media_with_linked:i})},[i._linked_media?e("MediaContent",{attrs:{file:i._linked_media,resolution:"preview"===t.context?220:1600,context:t.context,show_fs_button:t.show_fs_button,display_credits_caption:!0,can_edit_credits_caption:t.can_edit}}):e("span",{staticClass:"_noSourceMedia u-instructions",domProps:{textContent:t._s(t.$t("source_media_missing"))}}),e("CaptionCreditsPage",{attrs:{media:i._linked_media,publication_path:t.publication_path}}),t.can_edit?e("div",{staticClass:"_btnRow"},[t.showObjectFitFor(i)?[i.objectFit&&"cover"!==i.objectFit?e("button",{staticClass:"u-button u-button_icon u-button_small",attrs:{type:"button"},on:{click:function(e){return t.$emit("updateMediaOpt",{index:a,opt:{objectFit:"cover"}})}}},[e("b-icon",{attrs:{icon:"aspect-ratio"}})],1):t._e(),"contain"!==i.objectFit?e("button",{staticClass:"u-button u-button_icon u-button_small",attrs:{type:"button"},on:{click:function(e){return t.$emit("updateMediaOpt",{index:a,opt:{objectFit:"contain"}})}}},[e("b-icon",{attrs:{icon:"aspect-ratio-fill"}})],1):t._e()]:t._e(),e("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("removeMediaAtIndex",{index:a})}}},[e("b-icon",{attrs:{icon:"trash"}})],1)],2):t._e()],1)})),0)],1),t.can_edit?e("div",{staticClass:"_mediaPickerTile"},[e("EditBtn",{attrs:{btn_type:"add",is_unfolded:!1},on:{click:function(e){t.show_media_picker=!0}}}),t.show_media_picker?e("MediaPicker",{attrs:{publication_path:t.publication_path},on:{addMedias:function(e){return t.$emit("addMedias",e)},close:function(e){t.show_media_picker=!1}}}):t._e(),e("DropZone",{staticClass:"_dzAfter",on:{mediaDropped:function(e){return t.$emit("addMedias",e)}}})],1):t._e()],1)},P=[],D=i(25250),A=(i(87104),{props:{medias_with_linked:Array,context:String,page_template:String,show_fs_button:Boolean,number_of_max_medias:[Boolean,Number],publication_path:String,publi_width:Number,can_edit:Boolean},components:{Flickity:D.A,MediaPicker:d.A,CaptionCreditsPage:f},data(){return{show_media_picker:!1,flickityOptions:{initialIndex:0,groupCells:!1,imagesLoaded:!0,pageDots:!0,selectedAttraction:.2,percentPosition:!1,friction:.8,cellAlign:"left",contain:!0}}},created(){},mounted(){setTimeout((()=>{}),500)},beforeDestroy(){},watch:{publi_width(){setTimeout((()=>{this.$refs.flickity&&this.$refs.flickity.resize()}),250)}},computed:{slider_key(){const t=this.medias_with_linked.map(((t,e)=>t.meta_filename_in_project+"-index-"+e));return t?JSON.stringify(t):"none"}},methods:{itemStyle({media_with_linked:t}){let e={};return e["--object-fit"]=t.objectFit||"cover",e},mediaIsSquare(t){return 1===t.$infos?.ratio},showObjectFitFor(t){return!!t._linked_media&&(!this.mediaIsSquare(t._linked_media)&&!!["image","video","stl","pdf"].includes(t._linked_media.$type))}}}),z=A,L=(i(81544),(0,m.A)(z,$,P,!1,null,"5ed3914e",null)),I=L.exports,B={props:{publimodule:Object,context:{type:String,default:"full"},page_template:String,number_of_max_medias:[Boolean,Number],show_fs_button:Boolean,edit_mode:Boolean,can_edit:Boolean},components:{MosaicMediaGrid:y,FilesList:E,MediaCarousel:I},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{publication_path(){return this.getParent(this.publimodule.$path)},medias_with_linked(){return this.publimodule.source_medias?this.publimodule.source_medias.reduce(((t,e)=>{const i=this.getSourceMedia({source_media:e,folder_path:this.publication_path});if(i){const a=Object.assign({},e,{_linked_media:i});t.push(a)}return t}),[]):[]}},methods:{async addMedias({path_to_source_media_metas:t}){let e=this.publimodule.source_medias.slice()||[];for(const i of t){const t=this.$root.publication_include_mode,a=await this.prepareMediaForPublication({path_to_source_media_meta:i,publication_path:this.publication_path,import_mode:t});e.push(a)}this.$emit("updateMeta",{source_medias:e})},async removeMediaAtIndex({index:t,remove_source:e=!0}){const i=this.publimodule.source_medias.slice(),a=i[t];if(i.splice(t,1),0===i.length?this.$emit("remove",{with_content:!1}):this.$emit("updateMeta",{source_medias:i}),Object.prototype.hasOwnProperty.call(a,"meta_filename")&&!0===e){const t=this.getSourceMedia({source_media:{meta_filename:a.meta_filename},folder_path:this.publication_path});await this.$api.deleteItem({path:t.$path})}},reorderMedias(t){const e=t.map((t=>(delete t._linked_media,t)));this.$emit("updateMeta",{source_medias:e})},updateMediaOpt({index:t,opt:e}){const i=this.publimodule.source_medias.slice();Object.assign(i[t],e),this.$emit("updateMeta",{source_medias:i})}}},F=B,O=(i(17161),(0,m.A)(F,n,o,!1,null,"811de7ee",null)),T=O.exports,j={props:{publimodule:Object,module_position:String,module_being_edited:String,magnification:Number,border_radius:{type:Object,default:()=>({x:0,y:0})},context:String,page_template:String,number_of_max_medias:{type:[Boolean,Number],default:!1},can_edit:Boolean},components:{MediasModule:T},inject:{$getMapOptions:{default:!1}},data(){return{is_repicking_location:!1,observer:void 0}},created(){},mounted(){this.$eventHub.$on(`module.enable_edit.${this.module_meta_filename}`,this.enableEdit),this.$eventHub.$on(`module.duplicate.${this.module_meta_filename}`,this.duplicateModule),this.$eventHub.$on(`module.remove.${this.module_meta_filename}`,this.removeModule),this.$eventHub.$on(`publication.story.scrollTo.${this.publimodule.$path}`,this.scrollToModule),this.$eventHub.$on("publication.map.click",this.setRepickLocation),this.startIntersectionObserver()},beforeDestroy(){this.$eventHub.$off(`module.enable_edit.${this.module_meta_filename}`,this.enableEdit),this.$eventHub.$off(`module.duplicate.${this.module_meta_filename}`,this.duplicateModule),this.$eventHub.$off(`module.remove.${this.module_meta_filename}`,this.removeModule),this.$eventHub.$off(`publication.story.scrollTo.${this.publimodule.$path}`,this.scrollToModule),this.$eventHub.$off("publication.map.click",this.setRepickLocation),this.endIntersectionObserver()},watch:{edit_mode(){this.$refs.textBloc&&(this.edit_mode?this.$nextTick((()=>this.$refs.textBloc.enableEditor())):this.$refs.textBloc.disableEditor()),this.edit_mode||(this.is_repicking_location=!1)}},computed:{is_associated_to_map(){return this.$getMapOptions},is_active_on_map(){return!!this.$getMapOptions&&this.$getMapOptions().opened_pin_path===this.publimodule.$path},available_module_types(){return"text"===this.publimodule.module_type?["text","mosaic","carousel","files"]:["mosaic","carousel","files"]},pin_options(){return!!this.$getMapOptions&&this.$getMapOptions().pins_infos.find((({path:t})=>t===this.publimodule.$path))},has_coordinates(){return this.publimodule.location?.latitude&&this.publimodule.location?.longitude},edit_mode(){return this.module_being_edited===this.publimodule.$path},module_meta_filename(){return this.publimodule.$path.split("/").at(-1)},show_caption(){return"text"!==this.module_type&&("shape"!==this.module_type&&((1!==this.publimodule.source_medias.length||!this.publimodule.source_medias[0].meta_filename?.startsWith("text-"))&&!(!this.publimodule.caption&&!this.edit_mode)))},module_type(){return this.getModuleType(this.publimodule.module_type)},show_fs_button(){return"page_by_page"!==this.page_template||!0===this.publimodule.show_fs_button},first_media(){return this.firstMedia(this.publimodule)},media_styles(){let t=0;return"center"===this.publimodule.align&&(66.6===this.publimodule.size?t=16.6:50===this.publimodule.size?t=25:33.3===this.publimodule.size&&(t=33.3)),"right"===this.publimodule.align&&(66.6===this.publimodule.size?t=33.3:50===this.publimodule.size?t=50:33.3===this.publimodule.size&&(t=66.6)),{"--module-width":this.publimodule.size||100,"--module-margin-left":t}}},methods:{async updateMeta(t){await this.$api.updateMeta({path:this.publimodule.$path,new_meta:t}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t}))},repickLocation(){this.is_repicking_location=!0,this.$eventHub.$emit("publication.map.disableTools")},showModuleOnMap(){this.$eventHub.$emit("publication.map.openPin",this.publimodule.$path)},pinButtonClick(){this.scrollToModule()},preventClickTraversing(t){this.edit_mode&&t.stopPropagation()},async setRepickLocation({longitude:t,latitude:e}){this.is_repicking_location&&(await this.updateMeta({location:{longitude:t,latitude:e}}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t})),this.is_repicking_location=!1,await new Promise((t=>setTimeout(t,100))),this.showModuleOnMap())},async eraseCoords(){await this.updateMeta({location:{}}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t}))},enableEdit(){this.$emit("update:module_being_edited",this.publimodule.$path)},disableEdit(){this.$emit("update:module_being_edited",void 0)},scrollToModule(t="auto"){this.$el&&(console.log("scrollToModule "+this.publimodule.$path),this.$el.scrollIntoView({behavior:t,block:"start",inline:"nearest"}))},startIntersectionObserver(){let t=(t,e)=>{t.forEach((t=>{t.isIntersecting&&this.is_associated_to_map&&this.has_coordinates&&!this.is_active_on_map&&this.showModuleOnMap()}))},e="-10%";try{e=window.getComputedStyle(this.$el).getPropertyValue("scroll-margin-top")}catch(i){}this.observer=new IntersectionObserver(t,{rootMargin:`${e} 0% -80% 0%`}),this.observer.observe(this.$refs.sentinel)},endIntersectionObserver(){this.observer.unobserve(this.$el)},changeModuleType(t){const e=t.target.value;this.updateMeta({module_type:e})},async duplicateModule(){let t={};"page_by_page"===this.page_template&&(t.x=(this.publimodule.x||0)+10,t.y=(this.publimodule.y||0)+10);const e=await this.duplicateModuleWithSourceMedias({og_module:this.publimodule,addtl_meta_to_module:t});this.$emit("duplicate",e),this.disableEdit()},async removeModule({with_content:t=!0}={}){if(t)try{for(let t of this.publimodule.source_medias)if(Object.prototype.hasOwnProperty.call(t,"meta_filename")){const e=this.getParent(this.publimodule.$path),i=this.getSourceMedia({source_media:t,folder_path:e});i&&await this.$api.deleteItem({path:i.$path})}}catch(e){this.$alertify.delay(4e3).error(e)}await this.$api.deleteItem({path:this.publimodule.$path}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t})),this.$emit("remove")}}},W=j,N=(i(24037),(0,m.A)(W,a,s,!1,null,"d16fa902",null)),H=N.exports},36889:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return u}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"_storyTemplate"},[t.can_edit?e("div",{staticClass:"_settings"},[e("details",[e("summary",[t._v(t._s(t.$t("settings")))]),e("RangeValueInput",{staticClass:"u-spacingBottom",attrs:{label:t.$t("story_width"),value:t.publication.story_width,min:0,max:2400,step:1,ticks:[320,480,800,1200,2400],default_value:800,suffix:"px"},on:{save:function(e){return t.updatePubliMeta({story_width:e})}}}),e("ToggleInput",{attrs:{content:!0!==t.publication.story_is_not_responsive,label:t.$t("responsive"),options:{true:t.$t("responsive_instr"),false:t.$t("not_responsive_instr")}},on:{"update:content":function(e){return t.updatePubliMeta({story_is_not_responsive:!e})}}})],1)]):t._e(),e("div",{staticClass:"_storyContainer"},[e("div",{staticClass:"_storyContent",style:t.story_styles},[e("transition-group",{attrs:{tag:"div",name:"StoryModules",appear:"",duration:700}},[t._l(t.modules_list,(function(i,a){return[e("PublicationModule",{key:i,staticClass:"_mediaPublication",attrs:{publimodule:t.findModuleFromMetaFilename({files:t.publication.$files,meta_filename:i}),module_position:1===t.modules_list.length?"alone":0===a?"first":a===t.modules_list.length-1?"last":"inbetween",can_edit:t.can_edit},on:{resize:function(e){return t.resize({meta_filename:i,new_size:e})},moveUp:function(e){return t.moveTo({meta_filename:i,dir:-1})},moveDown:function(e){return t.moveTo({meta_filename:i,dir:1})},duplicate:function(e){return t.duplicatePublicationMedia({source_meta_filename:i,copy_meta_filename:e})},remove:function(e){return t.removeModuleFromList(i)}}}),e("div",{key:"mc_"+a,staticClass:"_spacer"},[t.can_edit?e("ModuleCreator",{attrs:{publication_path:t.publication.$path,types_available:["capture","import","write","embed"]},on:{addModules:({meta_filenames:e})=>t.insertModuleMetaFilenamesToList({meta_filenames:e,index:a+1})}}):t._e()],1)]}))],2)],1)]),!t.can_edit||t.modules_list&&0!==t.modules_list.length?t._e():e("ModuleCreator",{attrs:{publication_path:t.publication.$path,types_available:["capture","import","write","embed"]},on:{addModules:t.appendModuleMetaFilenameToList}})],1)},s=[],n=(i(44114),i(18107),i(67357),i(63094)),o=i(28419),r={props:{publication:Object,can_edit:Boolean},components:{ModuleCreator:n.A,PublicationModule:o.A},data(){return{medias:[],fetch_publication_error:null}},created(){},async mounted(){},beforeDestroy(){},watch:{},computed:{story_styles(){const t=(this.publication.story_width||800)+"px";return!0===this.publication.story_is_not_responsive?{width:t,maxWidth:"none"}:{maxWidth:t}},modules_list(){if(this.publication.modules_list&&Array.isArray(this.publication.modules_list)){const t=this.publication.modules_list.reduce(((t,e)=>{const i=this.findModuleFromMetaFilename({files:this.publication.$files,meta_filename:e});return i&&t.push(e),t}),[]);return t}return[]}},methods:{async appendModuleMetaFilenameToList({meta_filenames:t}){const e=t.at(-1),i=this.modules_list.slice();i.push(e),await this.updateMeta({new_meta:{modules_list:i}}),this.toggleNewModuleEdit({meta_filename:e})},async insertModuleMetaFilenamesToList({meta_filenames:t,index:e}){const i=t.at(-1),a=this.modules_list.slice();a.splice(e,0,i),await this.updateMeta({new_meta:{modules_list:a}}),this.toggleNewModuleEdit({meta_filename:i})},async updatePubliMeta(t){return await this.$api.updateMeta({path:this.publication.$path,new_meta:t})},async updateMeta({new_meta:t}){this.fetch_status="pending",this.fetch_error=null;try{this.response=await this.$api.updateMeta({path:this.publication.$path,new_meta:t}),this.fetch_status="success"}catch(e){this.fetch_status="error",this.fetch_error=e.response.data}},async moveTo({meta_filename:t,dir:e}){let i=this.modules_list.slice();const a=i.findIndex((e=>e===t));return!(a+e<0)&&(!(a+e>i.length-1)&&(i.move(a,a+e),void(this.response=await this.updatePubliMeta({modules_list:i}))))},async duplicatePublicationMedia({source_meta_filename:t,copy_meta_filename:e}){let i=this.modules_list.slice();const a=i.findIndex((e=>e===t));i.splice(a+1,0,e),this.response=await this.updatePubliMeta({modules_list:i})},async removeModuleFromList(t){let e=this.modules_list.slice();e=e.filter((e=>e!==t)),this.response=await this.updatePubliMeta({modules_list:e})},toggleNewModuleEdit({meta_filename:t}){setTimeout((()=>{console.log(`emit module.enable_edit.${t}`),this.$eventHub.$emit(`module.enable_edit.${t}`)}),50)}}},l=r,d=(i(71166),i(81656)),c=(0,d.A)(l,a,s,!1,null,"5a37363e",null),u=c.exports},87104:function(t,e,i){var a,s;i(44114),
/*!
 * Flickity imagesLoaded v2.0.0
 * enables imagesLoaded option for Flickity
 */
function(n,o){a=[i(19404),i(32373)],s=function(t,e){return o(n,t,e)}.apply(e,a),void 0===s||(t.exports=s)}(window,(function(t,e,i){"use strict";e.createMethods.push("_createImagesLoaded");var a=e.prototype;return a._createImagesLoaded=function(){this.on("activate",this.imagesLoaded)},a.imagesLoaded=function(){if(this.options.imagesLoaded){var t=this;i(this.slider).on("progress",e)}function e(e,i){var a=t.getParentCell(i.img);t.cellSizeChange(a&&a.element),t.options.freeScroll||t.positionSliderAtSelected()}},e}))},28415:function(t,e,i){var a,s;i(44114),function(n,o){a=o,s="function"===typeof a?a.call(e,i,e,t):a,void 0===s||(t.exports=s)}("undefined"!=typeof window&&window,(function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},a=i[t]=i[t]||[];return-1==a.indexOf(e)&&a.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},a=i[t]=i[t]||{};return a[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var a=i.indexOf(e);return-1!=a&&i.splice(a,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var a=this._onceEvents&&this._onceEvents[t],s=0;s<i.length;s++){var n=i[s],o=a&&a[n];o&&(this.off(t,n),delete a[n]),n.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}))},38911:function(t,e,i){var a,s;i(44114),function(n,o){a=[i(65747)],s=function(t){return o(n,t)}.apply(e,a),void 0===s||(t.exports=s)}(window,(function(t,e){"use strict";var i={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e}},a=Array.prototype.slice;i.makeArray=function(t){if(Array.isArray(t))return t;if(null===t||void 0===t)return[];var e="object"==typeof t&&"number"==typeof t.length;return e?a.call(t):[t]},i.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},i.getParent=function(t,i){while(t.parentNode&&t!=document.body)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,a){t=i.makeArray(t);var s=[];return t.forEach((function(t){if(t instanceof HTMLElement)if(a){e(t,a)&&s.push(t);for(var i=t.querySelectorAll(a),n=0;n<i.length;n++)s.push(i[n])}else s.push(t)})),s},i.debounceMethod=function(t,e,i){i=i||100;var a=t.prototype[e],s=e+"Timeout";t.prototype[e]=function(){var t=this[s];clearTimeout(t);var e=arguments,n=this;this[s]=setTimeout((function(){a.apply(n,e),delete n[s]}),i)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,(function(t,e,i){return e+"-"+i})).toLowerCase()};var s=t.console;return i.htmlInit=function(e,a){i.docReady((function(){var n=i.toDashed(a),o="data-"+n,r=document.querySelectorAll("["+o+"]"),l=document.querySelectorAll(".js-"+n),d=i.makeArray(r).concat(i.makeArray(l)),c=o+"-options",u=t.jQuery;d.forEach((function(t){var i,n=t.getAttribute(o)||t.getAttribute(c);try{i=n&&JSON.parse(n)}catch(l){return void(s&&s.error("Error parsing "+o+" on "+t.className+": "+l))}var r=new e(t,i);u&&u.data(t,a,r)}))}))},i}))},53421:function(t,e,i){var a,s;(function(n,o){a=[i(1111),i(38911)],s=function(t,e){return o(n,t,e)}.apply(e,a),void 0===s||(t.exports=s)})(window,(function(t,e,i){"use strict";function a(t){var e=document.createDocumentFragment();return t.forEach((function(t){e.appendChild(t.element)})),e}var s=e.prototype;return s.insert=function(t,e){var i=this._makeCells(t);if(i&&i.length){var s=this.cells.length;e=void 0===e?s:e;var n=a(i),o=e==s;if(o)this.slider.appendChild(n);else{var r=this.cells[e].element;this.slider.insertBefore(n,r)}if(0===e)this.cells=i.concat(this.cells);else if(o)this.cells=this.cells.concat(i);else{var l=this.cells.splice(e,s-e);this.cells=this.cells.concat(i).concat(l)}this._sizeCells(i),this.cellChange(e,!0)}},s.append=function(t){this.insert(t,this.cells.length)},s.prepend=function(t){this.insert(t,0)},s.remove=function(t){var e=this.getCells(t);if(e&&e.length){var a=this.cells.length-1;e.forEach((function(t){t.remove();var e=this.cells.indexOf(t);a=Math.min(e,a),i.removeFrom(this.cells,t)}),this),this.cellChange(a,!0)}},s.cellSizeChange=function(t){var e=this.getCell(t);if(e){e.getSize();var i=this.cells.indexOf(e);this.cellChange(i)}},s.cellChange=function(t,e){var i=this.selectedElement;this._positionCells(t),this._getWrapShiftCells(),this.setGallerySize();var a=this.getCell(i);a&&(this.selectedIndex=this.getCellSlideIndex(a)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[t]),this.select(this.selectedIndex),e&&this.positionSliderAtSelected()},e}))},72203:function(t,e,i){var a,s;(function(n,o){a=[i(38911)],s=function(t){return o(n,t)}.apply(e,a),void 0===s||(t.exports=s)})(window,(function(t,e){"use strict";var i={startAnimation:function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},animate:function(){this.applyDragForce(),this.applySelectedAttraction();var t=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(t),this.isAnimating){var e=this;requestAnimationFrame((function(){e.animate()}))}},positionSlider:function(){var t=this.x;this.options.wrapAround&&this.cells.length>1&&(t=e.modulo(t,this.slideableWidth),t-=this.slideableWidth,this.shiftWrapCells(t)),this.setTranslateX(t,this.isAnimating),this.dispatchScrollEvent()},setTranslateX:function(t,e){t+=this.cursorPosition,t=this.options.rightToLeft?-t:t;var i=this.getPositionValue(t);this.slider.style.transform=e?"translate3d("+i+",0,0)":"translateX("+i+")"},dispatchScrollEvent:function(){var t=this.slides[0];if(t){var e=-this.x-t.target,i=e/this.slidesWidth;this.dispatchEvent("scroll",null,[i,e])}},positionSliderAtSelected:function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},getPositionValue:function(t){return this.options.percentPosition?.01*Math.round(t/this.size.innerWidth*1e4)+"%":Math.round(t)+"px"},settle:function(t){var e=!this.isPointerDown&&Math.round(100*this.x)==Math.round(100*t);e&&this.restingFrames++,this.restingFrames>2&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},shiftWrapCells:function(t){var e=this.cursorPosition+t;this._shiftCells(this.beforeShiftCells,e,-1);var i=this.size.innerWidth-(t+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,i,1)},_shiftCells:function(t,e,i){for(var a=0;a<t.length;a++){var s=t[a],n=e>0?i:0;s.wrapShift(n),e-=s.size.outerWidth}},_unshiftCells:function(t){if(t&&t.length)for(var e=0;e<t.length;e++)t[e].wrapShift(0)},integratePhysics:function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},applyForce:function(t){this.velocity+=t},getFrictionFactor:function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},getRestingPosition:function(){return this.x+this.velocity/(1-this.getFrictionFactor())},applyDragForce:function(){if(this.isDraggable&&this.isPointerDown){var t=this.dragX-this.x,e=t-this.velocity;this.applyForce(e)}},applySelectedAttraction:function(){var t=this.isDraggable&&this.isPointerDown;if(!t&&!this.isFreeScrolling&&this.slides.length){var e=-1*this.selectedSlide.target-this.x,i=e*this.options.selectedAttraction;this.applyForce(i)}}};return i}))},35490:function(t,e,i){var a,s;(function(n,o){a=[i(57523)],s=function(t){return o(n,t)}.apply(e,a),void 0===s||(t.exports=s)})(window,(function(t,e){"use strict";function i(t,e){this.element=t,this.parent=e,this.create()}var a=i.prototype;return a.create=function(){this.element.style.position="absolute",this.element.setAttribute("aria-hidden","true"),this.x=0,this.shift=0,this.element.style[this.parent.originSide]=0},a.destroy=function(){this.unselect(),this.element.style.position="";var t=this.parent.originSide;this.element.style[t]="",this.element.style.transform="",this.element.removeAttribute("aria-hidden")},a.getSize=function(){this.size=e(this.element)},a.setPosition=function(t){this.x=t,this.updateTarget(),this.renderPosition(t)},a.updateTarget=a.setDefaultTarget=function(){var t="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[t]+this.size.width*this.parent.cellAlign},a.renderPosition=function(t){var e="left"===this.parent.originSide?1:-1,i=this.parent.options.percentPosition?t*e*(this.parent.size.innerWidth/this.size.width):t*e;this.element.style.transform="translateX("+this.parent.getPositionValue(i)+")"},a.select=function(){this.element.classList.add("is-selected"),this.element.removeAttribute("aria-hidden")},a.unselect=function(){this.element.classList.remove("is-selected"),this.element.setAttribute("aria-hidden","true")},a.wrapShift=function(t){this.shift=t,this.renderPosition(this.x+this.parent.slideableWidth*t)},a.remove=function(){this.element.parentNode.removeChild(this.element)},i}))},18532:function(t,e,i){var a,s;i(44114),function(n,o){a=[i(1111),i(81503),i(38911)],s=function(t,e,i){return o(n,t,e,i)}.apply(e,a),void 0===s||(t.exports=s)}(window,(function(t,e,i,a){"use strict";a.extend(e.defaults,{draggable:">1",dragThreshold:3}),e.createMethods.push("_createDrag");var s=e.prototype;a.extend(s,i.prototype),s._touchActionValue="pan-y",s._createDrag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("deactivate",this.onDeactivateDrag),this.on("cellChange",this.updateDraggable)},s.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},s.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},s.updateDraggable=function(){">1"==this.options.draggable?this.isDraggable=this.slides.length>1:this.isDraggable=this.options.draggable,this.isDraggable?this.element.classList.add("is-draggable"):this.element.classList.remove("is-draggable")},s.bindDrag=function(){this.options.draggable=!0,this.updateDraggable()},s.unbindDrag=function(){this.options.draggable=!1,this.updateDraggable()},s._uiChangeDrag=function(){delete this.isFreeScrolling},s.pointerDown=function(e,i){if(this.isDraggable){var a=this.okayPointerDown(e);a&&(this._pointerDownPreventDefault(e),this.pointerDownFocus(e),document.activeElement!=this.element&&this.pointerDownBlur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=o(),t.addEventListener("scroll",this),this._pointerDownDefault(e,i))}else this._pointerDownDefault(e,i)},s._pointerDownDefault=function(t,e){this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY},this._bindPostStartEvents(t),this.dispatchEvent("pointerDown",t,[e])};var n={INPUT:!0,TEXTAREA:!0,SELECT:!0};function o(){return{x:t.pageXOffset,y:t.pageYOffset}}return s.pointerDownFocus=function(t){var e=n[t.target.nodeName];e||this.focus()},s._pointerDownPreventDefault=function(t){var e="touchstart"==t.type,i="touch"==t.pointerType,a=n[t.target.nodeName];e||i||a||t.preventDefault()},s.hasDragStarted=function(t){return Math.abs(t.x)>this.options.dragThreshold},s.pointerUp=function(t,e){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",t,[e]),this._dragPointerUp(t,e)},s.pointerDone=function(){t.removeEventListener("scroll",this),delete this.pointerDownScroll},s.dragStart=function(e,i){this.isDraggable&&(this.dragStartPosition=this.x,this.startAnimation(),t.removeEventListener("scroll",this),this.dispatchEvent("dragStart",e,[i]))},s.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.dispatchEvent("pointerMove",t,[e,i]),this._dragMove(t,e,i)},s.dragMove=function(t,e,i){if(this.isDraggable){t.preventDefault(),this.previousDragX=this.dragX;var a=this.options.rightToLeft?-1:1;this.options.wrapAround&&(i.x%=this.slideableWidth);var s=this.dragStartPosition+i.x*a;if(!this.options.wrapAround&&this.slides.length){var n=Math.max(-this.slides[0].target,this.dragStartPosition);s=s>n?.5*(s+n):s;var o=Math.min(-this.getLastSlide().target,this.dragStartPosition);s=s<o?.5*(s+o):s}this.dragX=s,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",t,[e,i])}},s.dragEnd=function(t,e){if(this.isDraggable){this.options.freeScroll&&(this.isFreeScrolling=!0);var i=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var a=this.getRestingPosition();this.isFreeScrolling=-a>this.slides[0].target&&-a<this.getLastSlide().target}else this.options.freeScroll||i!=this.selectedIndex||(i+=this.dragEndBoostSelect());delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(i),delete this.isDragSelect,this.dispatchEvent("dragEnd",t,[e])}},s.dragEndRestingSelect=function(){var t=this.getRestingPosition(),e=Math.abs(this.getSlideDistance(-t,this.selectedIndex)),i=this._getClosestResting(t,e,1),a=this._getClosestResting(t,e,-1),s=i.distance<a.distance?i.index:a.index;return s},s._getClosestResting=function(t,e,i){var a=this.selectedIndex,s=1/0,n=this.options.contain&&!this.options.wrapAround?function(t,e){return t<=e}:function(t,e){return t<e};while(n(e,s)){if(a+=i,s=e,e=this.getSlideDistance(-t,a),null===e)break;e=Math.abs(e)}return{distance:s,index:a-i}},s.getSlideDistance=function(t,e){var i=this.slides.length,s=this.options.wrapAround&&i>1,n=s?a.modulo(e,i):e,o=this.slides[n];if(!o)return null;var r=s?this.slideableWidth*Math.floor(e/i):0;return t-(o.target+r)},s.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||new Date-this.dragMoveTime>100)return 0;var t=this.getSlideDistance(-this.dragX,this.selectedIndex),e=this.previousDragX-this.dragX;return t>0&&e>0?1:t<0&&e<0?-1:0},s.staticClick=function(t,e){var i=this.getParentCell(t.target),a=i&&i.element,s=i&&this.cells.indexOf(i);this.dispatchEvent("staticClick",t,[e,a,s])},s.onscroll=function(){var t=o(),e=this.pointerDownScroll.x-t.x,i=this.pointerDownScroll.y-t.y;(Math.abs(e)>3||Math.abs(i)>3)&&this._pointerDone()},e}))},1111:function(t,e,i){var a,s;i(44114),function(n,o){a=[i(28415),i(57523),i(38911),i(35490),i(70109),i(72203)],s=function(t,e,i,a,s,r){return o(n,t,e,i,a,s,r)}.apply(e,a),void 0===s||(t.exports=s)}(window,(function(t,e,i,a,s,n,o){"use strict";var r=t.jQuery,l=t.getComputedStyle,d=t.console;function c(t,e){t=a.makeArray(t);while(t.length)e.appendChild(t.shift())}var u=0,h={};function p(t,e){var i=a.getQueryElement(t);if(i){if(this.element=i,this.element.flickityGUID){var s=h[this.element.flickityGUID];return s&&s.option(e),s}r&&(this.$element=r(this.element)),this.options=a.extend({},this.constructor.defaults),this.option(e),this._create()}else d&&d.error("Bad element for Flickity: "+(i||t))}p.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},p.createMethods=[];var m=p.prototype;a.extend(m,e.prototype),m._create=function(){var e=this.guid=++u;for(var i in this.element.flickityGUID=e,h[e]=this,this.selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&t.addEventListener("resize",this),this.options.on){var a=this.options.on[i];this.on(i,a)}p.createMethods.forEach((function(t){this[t]()}),this),this.options.watchCSS?this.watchCSS():this.activate()},m.option=function(t){a.extend(this.options,t)},m.activate=function(){if(!this.isActive){this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize();var t=this._filterFindCellElements(this.element.children);c(t,this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate"),this.selectInitialIndex(),this.isInitActivated=!0,this.dispatchEvent("ready")}},m._createSlider=function(){var t=document.createElement("div");t.className="flickity-slider",t.style[this.originSide]=0,this.slider=t},m._filterFindCellElements=function(t){return a.filterFindElements(t,this.options.cellSelector)},m.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},m._makeCells=function(t){var e=this._filterFindCellElements(t),i=e.map((function(t){return new s(t,this)}),this);return i},m.getLastCell=function(){return this.cells[this.cells.length-1]},m.getLastSlide=function(){return this.slides[this.slides.length-1]},m.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},m._positionCells=function(t){t=t||0,this.maxCellHeight=t&&this.maxCellHeight||0;var e=0;if(t>0){var i=this.cells[t-1];e=i.x+i.size.outerWidth}for(var a=this.cells.length,s=t;s<a;s++){var n=this.cells[s];n.setPosition(e),e+=n.size.outerWidth,this.maxCellHeight=Math.max(n.size.outerHeight,this.maxCellHeight)}this.slideableWidth=e,this.updateSlides(),this._containSlides(),this.slidesWidth=a?this.getLastSlide().target-this.slides[0].target:0},m._sizeCells=function(t){t.forEach((function(t){t.getSize()}))},m.updateSlides=function(){if(this.slides=[],this.cells.length){var t=new n(this);this.slides.push(t);var e="left"==this.originSide,i=e?"marginRight":"marginLeft",a=this._getCanCellFit();this.cells.forEach((function(e,s){if(t.cells.length){var o=t.outerWidth-t.firstMargin+(e.size.outerWidth-e.size[i]);a.call(this,s,o)||(t.updateTarget(),t=new n(this),this.slides.push(t)),t.addCell(e)}else t.addCell(e)}),this),t.updateTarget(),this.updateSelectedSlide()}},m._getCanCellFit=function(){var t=this.options.groupCells;if(!t)return function(){return!1};if("number"==typeof t){var e=parseInt(t,10);return function(t){return t%e!==0}}var i="string"==typeof t&&t.match(/^(\d+)%$/),a=i?parseInt(i[1],10)/100:1;return function(t,e){return e<=(this.size.innerWidth+1)*a}},m._init=m.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},m.getSize=function(){this.size=i(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var _={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};return m.setCellAlign=function(){var t=_[this.options.cellAlign];this.cellAlign=t?t[this.originSide]:this.options.cellAlign},m.setGallerySize=function(){if(this.options.setGallerySize){var t=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=t+"px"}},m._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);var t=this.cursorPosition,e=this.cells.length-1;this.beforeShiftCells=this._getGapCells(t,e,-1),t=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(t,0,1)}},m._getGapCells=function(t,e,i){var a=[];while(t>0){var s=this.cells[e];if(!s)break;a.push(s),e+=i,t-=s.size.outerWidth}return a},m._containSlides=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length){var t=this.options.rightToLeft,e=t?"marginRight":"marginLeft",i=t?"marginLeft":"marginRight",a=this.slideableWidth-this.getLastCell().size[i],s=a<this.size.innerWidth,n=this.cursorPosition+this.cells[0].size[e],o=a-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach((function(t){s?t.target=a*this.cellAlign:(t.target=Math.max(t.target,n),t.target=Math.min(t.target,o))}),this)}},m.dispatchEvent=function(t,e,i){var a=e?[e].concat(i):i;if(this.emitEvent(t,a),r&&this.$element){t+=this.options.namespaceJQueryEvents?".flickity":"";var s=t;if(e){var n=new r.Event(e);n.type=t,s=n}this.$element.trigger(s,i)}},m.select=function(t,e,i){if(this.isActive&&(t=parseInt(t,10),this._wrapSelect(t),(this.options.wrapAround||e)&&(t=a.modulo(t,this.slides.length)),this.slides[t])){var s=this.selectedIndex;this.selectedIndex=t,this.updateSelectedSlide(),i?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[t]),t!=s&&this.dispatchEvent("change",null,[t]),this.dispatchEvent("cellSelect")}},m._wrapSelect=function(t){var e=this.slides.length,i=this.options.wrapAround&&e>1;if(!i)return t;var s=a.modulo(t,e),n=Math.abs(s-this.selectedIndex),o=Math.abs(s+e-this.selectedIndex),r=Math.abs(s-e-this.selectedIndex);!this.isDragSelect&&o<n?t+=e:!this.isDragSelect&&r<n&&(t-=e),t<0?this.x-=this.slideableWidth:t>=e&&(this.x+=this.slideableWidth)},m.previous=function(t,e){this.select(this.selectedIndex-1,t,e)},m.next=function(t,e){this.select(this.selectedIndex+1,t,e)},m.updateSelectedSlide=function(){var t=this.slides[this.selectedIndex];t&&(this.unselectSelectedSlide(),this.selectedSlide=t,t.select(),this.selectedCells=t.cells,this.selectedElements=t.getCellElements(),this.selectedCell=t.cells[0],this.selectedElement=this.selectedElements[0])},m.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},m.selectInitialIndex=function(){var t=this.options.initialIndex;if(this.isInitActivated)this.select(this.selectedIndex,!1,!0);else{if(t&&"string"==typeof t){var e=this.queryCell(t);if(e)return void this.selectCell(t,!1,!0)}var i=0;t&&this.slides[t]&&(i=t),this.select(i,!1,!0)}},m.selectCell=function(t,e,i){var a=this.queryCell(t);if(a){var s=this.getCellSlideIndex(a);this.select(s,e,i)}},m.getCellSlideIndex=function(t){for(var e=0;e<this.slides.length;e++){var i=this.slides[e],a=i.cells.indexOf(t);if(-1!=a)return e}},m.getCell=function(t){for(var e=0;e<this.cells.length;e++){var i=this.cells[e];if(i.element==t)return i}},m.getCells=function(t){t=a.makeArray(t);var e=[];return t.forEach((function(t){var i=this.getCell(t);i&&e.push(i)}),this),e},m.getCellElements=function(){return this.cells.map((function(t){return t.element}))},m.getParentCell=function(t){var e=this.getCell(t);return e||(t=a.getParent(t,".flickity-slider > *"),this.getCell(t))},m.getAdjacentCellElements=function(t,e){if(!t)return this.selectedSlide.getCellElements();e=void 0===e?this.selectedIndex:e;var i=this.slides.length;if(1+2*t>=i)return this.getCellElements();for(var s=[],n=e-t;n<=e+t;n++){var o=this.options.wrapAround?a.modulo(n,i):n,r=this.slides[o];r&&(s=s.concat(r.getCellElements()))}return s},m.queryCell=function(t){if("number"==typeof t)return this.cells[t];if("string"==typeof t){if(t.match(/^[#.]?[\d/]/))return;t=this.element.querySelector(t)}return this.getCell(t)},m.uiChange=function(){this.emitEvent("uiChange")},m.childUIPointerDown=function(t){"touchstart"!=t.type&&t.preventDefault(),this.focus()},m.onresize=function(){this.watchCSS(),this.resize()},a.debounceMethod(p,"onresize",150),m.resize=function(){if(this.isActive&&!this.isAnimating&&!this.isDragging){this.getSize(),this.options.wrapAround&&(this.x=a.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize");var t=this.selectedElements&&this.selectedElements[0];this.selectCell(t,!1,!0)}},m.watchCSS=function(){var t=this.options.watchCSS;if(t){var e=l(this.element,":after").content;-1!=e.indexOf("flickity")?this.activate():this.deactivate()}},m.onkeydown=function(t){var e=document.activeElement&&document.activeElement!=this.element;if(this.options.accessibility&&!e){var i=p.keyboardHandlers[t.keyCode];i&&i.call(this)}},p.keyboardHandlers={37:function(){var t=this.options.rightToLeft?"next":"previous";this.uiChange(),this[t]()},39:function(){var t=this.options.rightToLeft?"previous":"next";this.uiChange(),this[t]()}},m.focus=function(){var e=t.pageYOffset;this.element.focus({preventScroll:!0}),t.pageYOffset!=e&&t.scrollTo(t.pageXOffset,e)},m.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.unselectSelectedSlide(),this.cells.forEach((function(t){t.destroy()})),this.element.removeChild(this.viewport),c(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},m.destroy=function(){this.deactivate(),t.removeEventListener("resize",this),this.allOff(),this.emitEvent("destroy"),r&&this.$element&&r.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete h[this.guid]},a.extend(m,o),p.data=function(t){t=a.getQueryElement(t);var e=t&&t.flickityGUID;return e&&h[e]},a.htmlInit(p,"flickity"),r&&r.bridget&&r.bridget("flickity",p),p.setJQuery=function(t){r=t},p.Cell=s,p.Slide=n,p}))},19404:function(t,e,i){var a,s,n;
/*!
 * Flickity v2.3.0
 * Touch, responsive, flickable carousels
 *
 * Licensed GPLv3 for open source use
 * or Flickity Commercial License for commercial use
 *
 * https://flickity.metafizzy.co
 * Copyright 2015-2021 Metafizzy
 */(function(o,r){s=[i(1111),i(18532),i(87954),i(48570),i(97147),i(53421),i(92656)],a=r,n="function"===typeof a?a.apply(e,s):a,void 0===n||(t.exports=n)})(window,(function(t){return t}))},92656:function(t,e,i){var a,s;i(44114),function(n,o){a=[i(1111),i(38911)],s=function(t,e){return o(n,t,e)}.apply(e,a),void 0===s||(t.exports=s)}(window,(function(t,e,i){"use strict";e.createMethods.push("_createLazyload");var a=e.prototype;function s(t){if("IMG"==t.nodeName){var e=t.getAttribute("data-flickity-lazyload"),a=t.getAttribute("data-flickity-lazyload-src"),s=t.getAttribute("data-flickity-lazyload-srcset");if(e||a||s)return[t]}var n="img[data-flickity-lazyload], img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]",o=t.querySelectorAll(n);return i.makeArray(o)}function n(t,e){this.img=t,this.flickity=e,this.load()}return a._createLazyload=function(){this.on("select",this.lazyLoad)},a.lazyLoad=function(){var t=this.options.lazyLoad;if(t){var e="number"==typeof t?t:0,i=this.getAdjacentCellElements(e),a=[];i.forEach((function(t){var e=s(t);a=a.concat(e)})),a.forEach((function(t){new n(t,this)}),this)}},n.prototype.handleEvent=i.handleEvent,n.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);var t=this.img.getAttribute("data-flickity-lazyload")||this.img.getAttribute("data-flickity-lazyload-src"),e=this.img.getAttribute("data-flickity-lazyload-srcset");this.img.src=t,e&&this.img.setAttribute("srcset",e),this.img.removeAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload-src"),this.img.removeAttribute("data-flickity-lazyload-srcset")},n.prototype.onload=function(t){this.complete(t,"flickity-lazyloaded")},n.prototype.onerror=function(t){this.complete(t,"flickity-lazyerror")},n.prototype.complete=function(t,e){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var i=this.flickity.getParentCell(this.img),a=i&&i.element;this.flickity.cellSizeChange(a),this.img.classList.add(e),this.flickity.dispatchEvent("lazyLoad",t,a)},e.LazyLoader=n,e}))},48570:function(t,e,i){var a,s;i(44114),function(n,o){a=[i(1111),i(44960),i(38911)],s=function(t,e,i){return o(n,t,e,i)}.apply(e,a),void 0===s||(t.exports=s)}(window,(function(t,e,i,a){"use strict";function s(t){this.parent=t,this._create()}s.prototype=Object.create(i.prototype),s.prototype._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.handleClick=this.onClick.bind(this),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},s.prototype.activate=function(){this.setDots(),this.holder.addEventListener("click",this.handleClick),this.bindStartEvent(this.holder),this.parent.element.appendChild(this.holder)},s.prototype.deactivate=function(){this.holder.removeEventListener("click",this.handleClick),this.unbindStartEvent(this.holder),this.parent.element.removeChild(this.holder)},s.prototype.setDots=function(){var t=this.parent.slides.length-this.dots.length;t>0?this.addDots(t):t<0&&this.removeDots(-t)},s.prototype.addDots=function(t){for(var e=document.createDocumentFragment(),i=[],a=this.dots.length,s=a+t,n=a;n<s;n++){var o=document.createElement("li");o.className="dot",o.setAttribute("aria-label","Page dot "+(n+1)),e.appendChild(o),i.push(o)}this.holder.appendChild(e),this.dots=this.dots.concat(i)},s.prototype.removeDots=function(t){var e=this.dots.splice(this.dots.length-t,t);e.forEach((function(t){this.holder.removeChild(t)}),this)},s.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot",this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected",this.selectedDot.setAttribute("aria-current","step"))},s.prototype.onTap=s.prototype.onClick=function(t){var e=t.target;if("LI"==e.nodeName){this.parent.uiChange();var i=this.dots.indexOf(e);this.parent.select(i)}},s.prototype.destroy=function(){this.deactivate(),this.allOff()},e.PageDots=s,a.extend(e.defaults,{pageDots:!0}),e.createMethods.push("_createPageDots");var n=e.prototype;return n._createPageDots=function(){this.options.pageDots&&(this.pageDots=new s(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},n.activatePageDots=function(){this.pageDots.activate()},n.updateSelectedPageDots=function(){this.pageDots.updateSelected()},n.updatePageDots=function(){this.pageDots.setDots()},n.deactivatePageDots=function(){this.pageDots.deactivate()},e.PageDots=s,e}))},97147:function(t,e,i){var a,s;i(44114),function(n,o){a=[i(28415),i(38911),i(1111)],s=function(t,e,i){return o(t,e,i)}.apply(e,a),void 0===s||(t.exports=s)}(window,(function(t,e,i){"use strict";function a(t){this.parent=t,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}a.prototype=Object.create(t.prototype),a.prototype.play=function(){if("playing"!=this.state){var t=document.hidden;t?document.addEventListener("visibilitychange",this.onVisibilityPlay):(this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick())}},a.prototype.tick=function(){if("playing"==this.state){var t=this.parent.options.autoPlay;t="number"==typeof t?t:3e3;var e=this;this.clear(),this.timeout=setTimeout((function(){e.parent.next(!0),e.tick()}),t)}},a.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},a.prototype.clear=function(){clearTimeout(this.timeout)},a.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},a.prototype.unpause=function(){"paused"==this.state&&this.play()},a.prototype.visibilityChange=function(){var t=document.hidden;this[t?"pause":"unpause"]()},a.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},e.extend(i.defaults,{pauseAutoPlayOnHover:!0}),i.createMethods.push("_createPlayer");var s=i.prototype;return s._createPlayer=function(){this.player=new a(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},s.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},s.playPlayer=function(){this.player.play()},s.stopPlayer=function(){this.player.stop()},s.pausePlayer=function(){this.player.pause()},s.unpausePlayer=function(){this.player.unpause()},s.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},s.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},s.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},i.Player=a,i}))},87954:function(t,e,i){var a,s;i(44114),function(n,o){a=[i(1111),i(44960),i(38911)],s=function(t,e,i){return o(n,t,e,i)}.apply(e,a),void 0===s||(t.exports=s)}(window,(function(t,e,i,a){"use strict";var s="http://www.w3.org/2000/svg";function n(t,e){this.direction=t,this.parent=e,this._create()}function o(t){return"string"==typeof t?t:"M "+t.x0+",50 L "+t.x1+","+(t.y1+50)+" L "+t.x2+","+(t.y2+50)+" L "+t.x3+",50  L "+t.x2+","+(50-t.y2)+" L "+t.x1+","+(50-t.y1)+" Z"}n.prototype=Object.create(i.prototype),n.prototype._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var t=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==t;var e=this.element=document.createElement("button");e.className="flickity-button flickity-prev-next-button",e.className+=this.isPrevious?" previous":" next",e.setAttribute("type","button"),this.disable(),e.setAttribute("aria-label",this.isPrevious?"Previous":"Next");var i=this.createSVG();e.appendChild(i),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},n.prototype.activate=function(){this.bindStartEvent(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},n.prototype.deactivate=function(){this.parent.element.removeChild(this.element),this.unbindStartEvent(this.element),this.element.removeEventListener("click",this)},n.prototype.createSVG=function(){var t=document.createElementNS(s,"svg");t.setAttribute("class","flickity-button-icon"),t.setAttribute("viewBox","0 0 100 100");var e=document.createElementNS(s,"path"),i=o(this.parent.options.arrowShape);return e.setAttribute("d",i),e.setAttribute("class","arrow"),this.isLeft||e.setAttribute("transform","translate(100, 100) rotate(180) "),t.appendChild(e),t},n.prototype.handleEvent=a.handleEvent,n.prototype.onclick=function(){if(this.isEnabled){this.parent.uiChange();var t=this.isPrevious?"previous":"next";this.parent[t]()}},n.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},n.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},n.prototype.update=function(){var t=this.parent.slides;if(this.parent.options.wrapAround&&t.length>1)this.enable();else{var e=t.length?t.length-1:0,i=this.isPrevious?0:e,a=this.parent.selectedIndex==i?"disable":"enable";this[a]()}},n.prototype.destroy=function(){this.deactivate(),this.allOff()},a.extend(e.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),e.createMethods.push("_createPrevNextButtons");var r=e.prototype;return r._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new n(-1,this),this.nextButton=new n(1,this),this.on("activate",this.activatePrevNextButtons))},r.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},r.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},e.PrevNextButton=n,e}))},70109:function(t,e,i){var a,s;i(44114),function(n,o){a=o,s="function"===typeof a?a.call(e,i,e,t):a,void 0===s||(t.exports=s)}(window,(function(){"use strict";function t(t){this.parent=t,this.isOriginLeft="left"==t.originSide,this.cells=[],this.outerWidth=0,this.height=0}var e=t.prototype;return e.addCell=function(t){if(this.cells.push(t),this.outerWidth+=t.size.outerWidth,this.height=Math.max(t.size.outerHeight,this.height),1==this.cells.length){this.x=t.x;var e=this.isOriginLeft?"marginLeft":"marginRight";this.firstMargin=t.size[e]}},e.updateTarget=function(){var t=this.isOriginLeft?"marginRight":"marginLeft",e=this.getLastCell(),i=e?e.size[t]:0,a=this.outerWidth-(this.firstMargin+i);this.target=this.x+this.firstMargin+a*this.parent.cellAlign},e.getLastCell=function(){return this.cells[this.cells.length-1]},e.select=function(){this.cells.forEach((function(t){t.select()}))},e.unselect=function(){this.cells.forEach((function(t){t.unselect()}))},e.getCellElements=function(){return this.cells.map((function(t){return t.element}))},t}))},57523:function(t,e,i){var a,s;
/*!
 * getSize v2.0.3
 * measure size of elements
 * MIT license
 */(function(n,o){a=o,s="function"===typeof a?a.call(e,i,e,t):a,void 0===s||(t.exports=s)})(window,(function(){"use strict";function t(t){var e=parseFloat(t),i=-1==t.indexOf("%")&&!isNaN(e);return i&&e}function e(){}var i="undefined"==typeof console?e:function(t){console.error(t)},a=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],s=a.length;function n(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<s;e++){var i=a[e];t[i]=0}return t}function o(t){var e=getComputedStyle(t);return e||i("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),e}var r,l=!1;function d(){if(!l){l=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var a=o(e);r=200==Math.round(t(a.width)),c.isBoxSizeOuter=r,i.removeChild(e)}}function c(e){if(d(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var i=o(e);if("none"==i.display)return n();var l={};l.width=e.offsetWidth,l.height=e.offsetHeight;for(var c=l.isBorderBox="border-box"==i.boxSizing,u=0;u<s;u++){var h=a[u],p=i[h],m=parseFloat(p);l[h]=isNaN(m)?0:m}var _=l.paddingLeft+l.paddingRight,f=l.paddingTop+l.paddingBottom,v=l.marginLeft+l.marginRight,g=l.marginTop+l.marginBottom,b=l.borderLeftWidth+l.borderRightWidth,y=l.borderTopWidth+l.borderBottomWidth,w=c&&r,x=t(i.width);!1!==x&&(l.width=x+(w?0:_+b));var k=t(i.height);return!1!==k&&(l.height=k+(w?0:f+y)),l.innerWidth=l.width-(_+b),l.innerHeight=l.height-(f+y),l.outerWidth=l.width+v,l.outerHeight=l.height+g,l}}return c}))},32373:function(t,e,i){var a,s;i(44114),
/*!
 * imagesLoaded v4.1.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
function(n,o){"use strict";a=[i(28415)],s=function(t){return o(n,t)}.apply(e,a),void 0===s||(t.exports=s)}("undefined"!==typeof window?window:this,(function(t,e){"use strict";var i=t.jQuery,a=t.console;function s(t,e){for(var i in e)t[i]=e[i];return t}var n=Array.prototype.slice;function o(t){if(Array.isArray(t))return t;var e="object"==typeof t&&"number"==typeof t.length;return e?n.call(t):[t]}function r(t,e,n){if(!(this instanceof r))return new r(t,e,n);var l=t;"string"==typeof t&&(l=document.querySelectorAll(t)),l?(this.elements=o(l),this.options=s({},this.options),"function"==typeof e?n=e:s(this.options,e),n&&this.on("always",n),this.getImages(),i&&(this.jqDeferred=new i.Deferred),setTimeout(this.check.bind(this))):a.error("Bad element for imagesLoaded "+(l||t))}r.prototype=Object.create(e.prototype),r.prototype.options={},r.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},r.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&l[e]){for(var i=t.querySelectorAll("img"),a=0;a<i.length;a++){var s=i[a];this.addImage(s)}if("string"==typeof this.options.background){var n=t.querySelectorAll(this.options.background);for(a=0;a<n.length;a++){var o=n[a];this.addElementBackgroundImages(o)}}}};var l={1:!0,9:!0,11:!0};function d(t){this.img=t}function c(t,e){this.url=t,this.element=e,this.img=new Image}return r.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e){var i=/url\((['"])?(.*?)\1\)/gi,a=i.exec(e.backgroundImage);while(null!==a){var s=a&&a[2];s&&this.addBackground(s,t),a=i.exec(e.backgroundImage)}}},r.prototype.addImage=function(t){var e=new d(t);this.images.push(e)},r.prototype.addBackground=function(t,e){var i=new c(t,e);this.images.push(i)},r.prototype.check=function(){var t=this;function e(e,i,a){setTimeout((function(){t.progress(e,i,a)}))}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach((function(t){t.once("progress",e),t.check()})):this.complete()},r.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+i,t,e)},r.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},d.prototype=Object.create(e.prototype),d.prototype.check=function(){var t=this.getIsImageComplete();t?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},d.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},d.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},d.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},d.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},d.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},d.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},c.prototype=Object.create(d.prototype),c.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url;var t=this.getIsImageComplete();t&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},c.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},c.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},r.makeJQueryPlugin=function(e){e=e||t.jQuery,e&&(i=e,i.fn.imagesLoaded=function(t,e){var a=new r(this,t,e);return a.jqDeferred.promise(i(this))})},r.makeJQueryPlugin(),r}))},81503:function(t,e,i){var a,s;
/*!
 * Unidragger v2.4.0
 * Draggable base class
 * MIT license
 */(function(n,o){a=[i(44960)],s=function(t){return o(n,t)}.apply(e,a),void 0===s||(t.exports=s)})(window,(function(t,e){"use strict";function i(){}var a=i.prototype=Object.create(e.prototype);a.bindHandles=function(){this._bindHandles(!0)},a.unbindHandles=function(){this._bindHandles(!1)},a._bindHandles=function(e){e=void 0===e||e;for(var i=e?"addEventListener":"removeEventListener",a=e?this._touchActionValue:"",s=0;s<this.handles.length;s++){var n=this.handles[s];this._bindStartEvent(n,e),n[i]("click",this),t.PointerEvent&&(n.style.touchAction=a)}},a._touchActionValue="none",a.pointerDown=function(t,e){var i=this.okayPointerDown(t);i&&(this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY},t.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e]))};var s={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},n={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return a.okayPointerDown=function(t){var e=s[t.target.nodeName],i=n[t.target.type],a=!e||i;return a||this._pointerReset(),a},a.pointerDownBlur=function(){var t=document.activeElement,e=t&&t.blur&&t!=document.body;e&&t.blur()},a.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,i]),this._dragMove(t,e,i)},a._dragPointerMove=function(t,e){var i={x:e.pageX-this.pointerDownPointer.pageX,y:e.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(i)&&this._dragStart(t,e),i},a.hasDragStarted=function(t){return Math.abs(t.x)>3||Math.abs(t.y)>3},a.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]),this._dragPointerUp(t,e)},a._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e)},a._dragStart=function(t,e){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(t,e)},a.dragStart=function(t,e){this.emitEvent("dragStart",[t,e])},a._dragMove=function(t,e,i){this.isDragging&&this.dragMove(t,e,i)},a.dragMove=function(t,e,i){t.preventDefault(),this.emitEvent("dragMove",[t,e,i])},a._dragEnd=function(t,e){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(t,e)},a.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e])},a.onclick=function(t){this.isPreventingClicks&&t.preventDefault()},a._staticClick=function(t,e){this.isIgnoringMouseUp&&"mouseup"==t.type||(this.staticClick(t,e),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},a.staticClick=function(t,e){this.emitEvent("staticClick",[t,e])},i.getPointerPoint=e.getPointerPoint,i}))},92832:function(t,e,i){"use strict";i.r(e);var a=i(31601),s=i.n(a),n=i(76314),o=i.n(n),r=o()(s());r.push([t.id,"._linkPicker[data-v-3b7f81aa]{width:100%;margin:0 auto}._addMediaBtn[data-v-3b7f81aa]{text-align:center;padding:calc(var(--spacing)*1)}._selectBtn[data-v-3b7f81aa]{display:flex;place-items:center;justify-content:center;width:100%;gap:calc(var(--spacing)/1);background:#fff}iframe[data-v-3b7f81aa]{width:100%;aspect-ratio:4/3}",""]),e["default"]=r},52779:function(t,e,i){"use strict";i.r(e);var a=i(31601),s=i.n(a),n=i(76314),o=i.n(n),r=o()(s());r.push([t.id,"._mediaPicker[data-v-32c4a41c]{position:absolute}",""]),e["default"]=r},89742:function(t,e,i){"use strict";i.r(e);var a=i(31601),s=i.n(a),n=i(76314),o=i.n(n),r=o()(s());r.push([t.id,"._creditsBtn[data-v-6dfa5786]{position:absolute;bottom:0;right:0;z-index:150;margin:calc(var(--spacing)/1)}@media print{._creditsBtn[data-v-6dfa5786]{display:none}}._creditsBtn[data-v-6dfa5786] ._editBtn{background:hsla(0,0%,100%,.4)!important;-webkit-backdrop-filter:blur(5px)!important;backdrop-filter:blur(5px)!important}._showCredits[data-v-6dfa5786]{position:absolute;z-index:101;inset:0;text-align:left;background:hsla(0,0%,100%,.8);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);overflow:auto;padding:calc(var(--spacing)*1)}._closeCredits[data-v-6dfa5786]{position:absolute;bottom:0;right:0;margin:calc(var(--spacing)/1)}",""]),e["default"]=r},82856:function(t,e,i){"use strict";i.r(e);var a=i(31601),s=i.n(a),n=i(76314),o=i.n(n),r=o()(s());r.push([t.id,"._filesList[data-v-54fcfa2d]{position:relative;z-index:0;text-align:center}._listOfFiles[data-v-54fcfa2d]{padding:0;margin:0;display:flex;flex-flow:column nowrap;gap:calc(var(--spacing)/4)}._reorderedFile[data-v-54fcfa2d]{z-index:10;min-height:2em;background:#fff;border:1px solid var(--c-gris);display:flex;flex-flow:row nowrap;justify-content:center;word-break:break-word;align-items:center;padding:0;border-radius:2px;justify-content:space-between}._reorderedFile[data-v-54fcfa2d]:focus-visible,._reorderedFile[data-v-54fcfa2d]:hover{background:var(--c-gris)}._reorderedFile ._link[data-v-54fcfa2d]{flex:1 1 auto;overflow:hidden;font-variant:none;font-weight:400;letter-spacing:0;font-size:var(--sl-font-size-x-small);text-decoration:none;display:flex;flex-flow:row nowrap;align-items:center;gap:calc(var(--spacing)/1)}._reorderedFile ._link>*[data-v-54fcfa2d]{flex:0 0 auto}._reorderedFile ._link ._preview[data-v-54fcfa2d]{flex:0 0 auto;font-size:100%;width:45px;height:45px;overflow:hidden;border-radius:4px;background:var(--c-gris_clair)}._reorderedFile ._link ._preview[data-v-54fcfa2d]:focus-visible,._reorderedFile ._link ._preview[data-v-54fcfa2d]:hover{background:#fff}._reorderedFile ._link ._preview._preview--none[data-v-54fcfa2d]{display:flex;justify-content:center;align-items:center;font-size:150%}._reorderedFile ._link ._preview[data-v-54fcfa2d] ._mediaContent--image{position:absolute;width:100%;height:100%;-o-object-fit:cover;object-fit:cover;max-width:none}._reorderedFile ._link ._link--filename[data-v-54fcfa2d]{flex:1 1 0;text-align:left;white-space:break-spaces}._reorderedFile ._link ._link--filename[data-v-54fcfa2d],._reorderedFile ._link ._link--filesize[data-v-54fcfa2d]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;overflow:hidden}._reorderedFile ._link ._link--filesize[data-v-54fcfa2d]{flex:0 0 50px}._addBtnSection[data-v-54fcfa2d]{padding:calc(var(--spacing)/4);text-align:left}._download[data-v-54fcfa2d],._removeItem[data-v-54fcfa2d]{margin:calc(var(--spacing)/4)}",""]),e["default"]=r},60192:function(t,e,i){"use strict";i.r(e);var a=i(31601),s=i.n(a),n=i(76314),o=i.n(n),r=o()(s());r.push([t.id,"._mainCarousel[data-v-5ed3914e],._navCarousel[data-v-5ed3914e]{position:relative;width:100%}._mainCarousel[data-v-5ed3914e] ._mediaContent,._navCarousel[data-v-5ed3914e] ._mediaContent{width:100%;height:100%}._mainCarousel[data-v-5ed3914e] ._mediaContent img,._navCarousel[data-v-5ed3914e] ._mediaContent img{width:100%;height:100%}._mainCarousel[data-v-5ed3914e] ._mediaContent ._iframeStylePreview,._mainCarousel[data-v-5ed3914e] ._mediaContent ._mediaContent--iframe,._mainCarousel[data-v-5ed3914e] ._mediaContent ._mediaContent--image,._mainCarousel[data-v-5ed3914e] ._mediaContent .plyr--video,._mainCarousel[data-v-5ed3914e] ._mediaContent .plyr__poster,._navCarousel[data-v-5ed3914e] ._mediaContent ._iframeStylePreview,._navCarousel[data-v-5ed3914e] ._mediaContent ._mediaContent--iframe,._navCarousel[data-v-5ed3914e] ._mediaContent ._mediaContent--image,._navCarousel[data-v-5ed3914e] ._mediaContent .plyr--video,._navCarousel[data-v-5ed3914e] ._mediaContent .plyr__poster{position:absolute;height:100%;width:100%;-o-object-fit:var(--object-fit,cover);object-fit:var(--object-fit,cover);background-size:var(--object-fit,cover)}._carousel[data-v-5ed3914e]{background:var(--c-gris_clair)}._mainCarousel .carousel-cell[data-v-5ed3914e]{width:100%;aspect-ratio:1/1;margin-right:calc(var(--spacing)*1)}._mainCarousel[data-v-5ed3914e] ._mediaContent .plyr__controls{padding-right:calc(var(--spacing)*3)}._mainCarousel[data-v-5ed3914e] .flickity-page-dots{bottom:0;display:flex;justify-content:center;flex-flow:row nowrap;gap:calc(var(--spacing)/3);padding:calc(var(--spacing)/2);pointer-events:none}._mainCarousel[data-v-5ed3914e] .flickity-page-dots .dot{background:hsla(0,0%,100%,.5);border:none;opacity:1;margin:0;padding:calc(var(--spacing)/4);border:2px solid transparent;pointer-events:auto;transition:all .1s cubic-bezier(.19,1,.22,1)}._mainCarousel[data-v-5ed3914e] .flickity-page-dots .dot:active,._mainCarousel[data-v-5ed3914e] .flickity-page-dots .dot:focus-visible,._mainCarousel[data-v-5ed3914e] .flickity-page-dots .dot:hover{border-color:var(--active-color)}._mainCarousel[data-v-5ed3914e] .flickity-page-dots .dot.is-selected{background:var(--active-color);border-color:var(--active-color)}._navCarousel[data-v-5ed3914e]{margin-top:calc(var(--spacing)/2)}._navCarousel .carousel-cell[data-v-5ed3914e]{width:160px;height:90px;margin-right:calc(var(--spacing)/2)}._mediaPickerTile[data-v-5ed3914e]{position:absolute;top:0;left:100%;display:flex;place-content:center;height:100%;align-items:center;pointer-events:none}._mediaPickerTile>*[data-v-5ed3914e]{pointer-events:auto}._btnRow[data-v-5ed3914e]{position:absolute;padding:calc(var(--spacing)/2);top:0;right:0;left:auto;z-index:100;display:flex;flex-flow:row wrap;gap:calc(var(--spacing)/2);pointer-events:none}._btnRow button[data-v-5ed3914e]{pointer-events:auto;border-radius:4px;color:var(--c-noir);background:hsla(0,0%,100%,.4);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);padding:4px}._dzAfter[data-v-5ed3914e]{z-index:1000}",""]),e["default"]=r},81217:function(t,e,i){"use strict";i.r(e);var a=i(31601),s=i.n(a),n=i(76314),o=i.n(n),r=o()(s());r.push([t.id,"._mediasModule[data-v-811de7ee]{--number_of_medias:1;position:relative}._dropzone[data-v-811de7ee]{position:absolute;width:100%;height:100%}._dropzone[data-v-811de7ee] ._dropNotice{transform:rotate(-90deg)}",""]),e["default"]=r},85284:function(t,e,i){"use strict";i.r(e);var a=i(31601),s=i.n(a),n=i(76314),o=i.n(n),r=o()(s());r.push([t.id,"._moduleCreator[data-v-4de4910e]{position:relative;display:flex;justify-content:flex-start;align-items:center;width:100%;pointer-events:none;gap:calc(var(--spacing)/4);padding:calc(var(--spacing)/2) 0;transition:all .5s cubic-bezier(.19,1,.22,1);--icon-size:1.2rem}._moduleCreator.is--collapsed[data-v-4de4910e]{padding:0}._moduleCreator>*[data-v-4de4910e]{pointer-events:auto}._typePicker[data-v-4de4910e]{display:flex;flex-flow:row wrap;justify-content:flex-start;align-items:center;gap:calc(var(--spacing)/4)}._dropNotice[data-v-4de4910e]{pointer-events:none}._showModuleSelector[data-v-4de4910e]{transition:all .4s cubic-bezier(.19,1,.22,1)}._addBtn[data-v-4de4910e]{margin-left:-24px}",""]),e["default"]=r},15933:function(t,e,i){"use strict";i.r(e);var a=i(31601),s=i.n(a),n=i(76314),o=i.n(n),r=o()(s());r.push([t.id,"._mediaGrid[data-v-f5a0943e]{position:relative;width:100%}._mediaGrid[data-v-f5a0943e] ._mediaContent .plyr__controls{padding-right:calc(var(--spacing)*3)}._mediaGrid.is--multipleMedias[data-v-f5a0943e]{display:flex;flex-flow:row nowrap;gap:calc(var(--spacing)/2);transition:flex .25s cubic-bezier(.19,1,.22,1)}._mediaGrid>._mediaGrid--item[data-v-f5a0943e]{position:relative;transition:flex .25s cubic-bezier(.19,1,.22,1)}._mediaGrid.is--multipleMedias>._mediaGrid--item[data-v-f5a0943e]{aspect-ratio:1/1;overflow:hidden;flex:1 1 calc(100%/var(--number_of_medias))}._mediaGrid.is--multipleMedias>._mediaGrid--item[data-mediatype=text][data-v-f5a0943e]{aspect-ratio:auto}._mediaGrid.is--multipleMedias>._mediaGrid--item[data-v-f5a0943e]:not([data-mediatype=text]){background:var(--c-gris_clair)}._mediaGrid.is--multipleMedias[data-v-f5a0943e] ._mediaContent{width:100%;height:100%}._mediaGrid.is--multipleMedias[data-v-f5a0943e] ._mediaContent img{width:100%;height:100%}._mediaGrid.is--multipleMedias[data-v-f5a0943e] ._mediaContent ._iframeStylePreview,._mediaGrid.is--multipleMedias[data-v-f5a0943e] ._mediaContent ._mediaContent--iframe,._mediaGrid.is--multipleMedias[data-v-f5a0943e] ._mediaContent ._mediaContent--image,._mediaGrid.is--multipleMedias[data-v-f5a0943e] ._mediaContent .plyr--video,._mediaGrid.is--multipleMedias[data-v-f5a0943e] ._mediaContent .plyr__poster{position:absolute;height:100%;width:100%;-o-object-fit:var(--object-fit,cover);object-fit:var(--object-fit,cover);background-size:var(--object-fit,cover)}._mediaPickerTile[data-v-f5a0943e]{position:absolute;top:0;left:100%;display:flex;place-content:center;height:100%;align-items:center;pointer-events:none}._mediaPickerTile>*[data-v-f5a0943e]{pointer-events:auto}._btnRow[data-v-f5a0943e]{position:absolute;padding:calc(var(--spacing)/2);top:0;right:0;left:auto;z-index:100;display:flex;flex-flow:row wrap;gap:calc(var(--spacing)/2);pointer-events:none}._btnRow[data-v-f5a0943e] button{pointer-events:auto;border-radius:4px;color:var(--c-noir);background:hsla(0,0%,100%,.4);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);padding:4px}._noSourceMedia[data-v-f5a0943e]{width:100%;padding:calc(var(--spacing)/4);text-align:center}._df[data-v-f5a0943e]{display:inline-flex}._dzAfter[data-v-f5a0943e]{z-index:1000}",""]),e["default"]=r},9021:function(t,e,i){"use strict";i.r(e);var a=i(31601),s=i.n(a),n=i(76314),o=i.n(n),r=o()(s());r.push([t.id,"._publicationModule[data-v-d16fa902]{position:relative;scroll-margin-top:calc(var(--spacing)*1.5);font-size:16px}._publicationModule[data-type=shape] ._content[data-v-d16fa902],._publicationModule[data-type=shape] svg[data-v-d16fa902]{overflow:visible;stroke-linejoin:arcs;stroke-linecap:round}._publicationModule[data-type=shape] svg[data-v-d16fa902]{width:100%;height:100%}._publicationModule[data-type=shape] svg rect[data-v-d16fa902]{transition:all .25s cubic-bezier(.19,1,.22,1)}._publicationModule ._content[data-v-d16fa902]{position:relative;width:calc(var(--module-width)*1%);margin-left:calc(var(--module-margin-left)*1%);transition:all .4s cubic-bezier(.19,1,.22,1)}._selectorIndicator[data-v-d16fa902]{--highlight-margin:calc(var(--spacing)/-2);position:absolute;top:0;left:var(--highlight-margin);bottom:var(--highlight-margin);right:var(--highlight-margin);pointer-events:none}._sideOptions[data-v-d16fa902]{position:relative;margin-bottom:calc(var(--spacing)/2);width:100%;margin:0 calc(var(--spacing)/-2) calc(var(--spacing)/2);width:calc(100% + var(--spacing)/1)}._sideOptions ._sideOptions--content[data-v-d16fa902]{width:100%;margin:0 auto;padding:calc(var(--spacing)/4) calc(var(--spacing)/2);background:var(--active-color);box-shadow:var(--panel-shadows);border-radius:12px;gap:calc(var(--spacing)/2);display:flex;align-items:center}._arrows[data-v-d16fa902]{flex:0 0 auto;display:flex;flex-flow:column nowrap;justify-content:space-between;align-content:space-between}._sideBtns[data-v-d16fa902]{display:block;width:var(--side-width);height:var(--side-width);padding:0;border-radius:50%;background:transparent}._sideBtns[data-v-d16fa902]:focus,._sideBtns[data-v-d16fa902]:hover{background:rgba(0,0,0,.1)}._options[data-v-d16fa902]{flex:1 1 auto;position:relative;display:flex;flex-flow:row wrap;align-items:center;gap:calc(var(--spacing)/4)}._saveBtn[data-v-d16fa902]{flex:0 0 auto;text-align:right}._advanced_menu[data-v-d16fa902],._carto[data-v-d16fa902]{flex:1 1 auto;gap:calc(var(--spacing)/4)}._advanced_menu[data-v-d16fa902],._buttonRow[data-v-d16fa902],._carto[data-v-d16fa902]{display:flex;flex-flow:row wrap;align-items:center}._buttonRow[data-v-d16fa902]{padding:calc(var(--spacing)/4);gap:calc(var(--spacing)/2)}._sizes.is--active[data-v-d16fa902]{color:#fff;background:transparent}._floatingEditBtn[data-v-d16fa902]{position:sticky;z-index:1;height:0;top:0}._floatingEditBtn>*[data-v-d16fa902]{position:absolute;top:0;left:100%;margin:calc(var(--spacing)/2)}._repickNotice[data-v-d16fa902]{position:absolute;top:0;left:0;right:0;bottom:0;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);background:hsla(0,0%,91%,.7);flex-flow:column nowrap}._repickNotice[data-v-d16fa902],._repickNotice--content[data-v-d16fa902]{padding:calc(var(--spacing)/2);display:flex}._repickNotice--content[data-v-d16fa902]{background:#fff}._carto[data-v-d16fa902]{padding:calc(var(--spacing)/4);border:2px solid rgba(0,0,0,.2)}._pinButton[data-v-d16fa902]{position:absolute;background:transparent;top:0;right:100%;width:30px;height:30px;z-index:1;margin:calc(var(--spacing)/4);padding:0}._pinButton.is--active[data-v-d16fa902]{background:var(--c-bleuvert)}._captionField[data-v-d16fa902]{text-align:left;margin-top:calc(var(--spacing)/4);display:flex;flex-flow:row wrap;gap:calc(var(--spacing)*1)}._captionField>._caption[data-v-d16fa902]{flex:1 1 auto;font-size:var(--sl-font-size-small)}.showOptions-enter-active[data-v-d16fa902],.showOptions-leave-active[data-v-d16fa902]{transition:all .2s;max-height:230px}.showOptions-enter[data-v-d16fa902],.showOptions-leave-to[data-v-d16fa902]{opacity:0;max-height:0}",""]),e["default"]=r},4694:function(t,e,i){"use strict";i.r(e);var a=i(31601),s=i.n(a),n=i(76314),o=i.n(n),r=o()(s());r.push([t.id,"._storyTemplate[data-v-5a37363e]{display:flex;justify-content:center;flex-flow:column nowrap;align-items:center;margin:0 auto;padding-bottom:calc(var(--spacing)*4)}._settings[data-v-5a37363e]{position:relative;top:0;right:0;display:flex;justify-content:flex-end;background:#fff;padding:calc(var(--spacing)/8) calc(var(--spacing)/4);margin:calc(var(--spacing)/2) auto 0;max-width:240px}._storyContainer[data-v-5a37363e]{width:100%}._storyContent[data-v-5a37363e]{width:100%;max-width:800px;padding:calc(var(--spacing)*1) 0;margin:calc(var(--spacing)/2) auto;border-radius:6px;box-shadow:0 1px 4px rgba(0,0,0,.2);transition:all .4s cubic-bezier(.19,1,.22,1)}._mediaPublication[data-v-5a37363e]{position:relative;margin-bottom:0}._mediaPublication[data-v-5a37363e] ._content{min-height:72px}._mediaPublication[data-v-5a37363e] ._floatingEditBtn[data-action=disable]{display:none}._spacer[data-v-5a37363e]{min-height:3rem;padding:calc(var(--spacing)/4) 0}",""]),e["default"]=r},65096:function(t,e,i){var a=i(92832);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(3825).A;s("3675eaee",a,!0,{sourceMap:!1,shadowMode:!1})},41731:function(t,e,i){var a=i(52779);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(3825).A;s("71484b70",a,!0,{sourceMap:!1,shadowMode:!1})},52582:function(t,e,i){var a=i(89742);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(3825).A;s("22c78672",a,!0,{sourceMap:!1,shadowMode:!1})},67328:function(t,e,i){var a=i(82856);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(3825).A;s("0b1b9398",a,!0,{sourceMap:!1,shadowMode:!1})},81544:function(t,e,i){var a=i(60192);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(3825).A;s("5d4bf512",a,!0,{sourceMap:!1,shadowMode:!1})},17161:function(t,e,i){var a=i(81217);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(3825).A;s("b6a2b072",a,!0,{sourceMap:!1,shadowMode:!1})},42732:function(t,e,i){var a=i(85284);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(3825).A;s("5ff087eb",a,!0,{sourceMap:!1,shadowMode:!1})},98789:function(t,e,i){var a=i(15933);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(3825).A;s("c8a8e868",a,!0,{sourceMap:!1,shadowMode:!1})},24037:function(t,e,i){var a=i(9021);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(3825).A;s("475f4630",a,!0,{sourceMap:!1,shadowMode:!1})},71166:function(t,e,i){var a=i(4694);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(3825).A;s("3cbd7f3c",a,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=270.js.map