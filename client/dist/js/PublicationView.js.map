{"version":3,"file":"js/PublicationView.js","mappings":"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","sources":["webpack://app/./src/components/publications/PublicationTopbar.vue?e74b","webpack://app/./src/components/publications/DuplicatePublication.vue?2917","webpack://app/src/components/publications/DuplicatePublication.vue","webpack://app/./src/components/publications/DuplicatePublication.vue?da85","webpack://app/./src/components/publications/DuplicatePublication.vue","webpack://app/./src/components/publications/ExportPubliModal.vue?b9c7","webpack://app/./src/components/publications/ExportItemAndSaveOrDownload.vue?ef68","webpack://app/src/components/publications/ExportItemAndSaveOrDownload.vue","webpack://app/./src/components/publications/ExportItemAndSaveOrDownload.vue?85d0","webpack://app/./src/components/publications/ExportItemAndSaveOrDownload.vue","webpack://app/src/components/publications/ExportPubliModal.vue","webpack://app/./src/components/publications/ExportPubliModal.vue?040a","webpack://app/./src/components/publications/ExportPubliModal.vue","webpack://app/src/components/publications/PublicationTopbar.vue","webpack://app/./src/components/publications/PublicationTopbar.vue?9024","webpack://app/./src/components/publications/PublicationTopbar.vue","webpack://app/./src/views/PublicationView.vue?850f","webpack://app/src/views/PublicationView.vue","webpack://app/./src/views/PublicationView.vue?d192","webpack://app/./src/views/PublicationView.vue","webpack://app/./src/components/publications/ExportItemAndSaveOrDownload.vue?e362","webpack://app/./src/components/publications/PublicationTopbar.vue?c6bf","webpack://app/./src/views/PublicationView.vue?2b67","webpack://app/./src/views/PublicationView.vue?59f1","webpack://app/./src/components/publications/ExportItemAndSaveOrDownload.vue?2a1b","webpack://app/./src/components/publications/PublicationTopbar.vue?8619","webpack://app/./src/views/PublicationView.vue?dcc8","webpack://app/./src/views/PublicationView.vue?cf9f"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"_topbar\"},[(_vm.no_back_button !== true)?_c('button',{staticClass:\"u-button u-button_icon _backPubli\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('close')}}},[_c('b-icon',{attrs:{\"icon\":\"arrow-left-circle-fill\",\"aria-label\":_vm.$t('back_to_publications')}})],1):_vm._e(),_c('div',{staticClass:\"_publiTitle\"},[_c('TitleField',{attrs:{\"field_name\":'title',\"tag\":'h2',\"maxlength\":40,\"required\":true,\"content\":_vm.publication.title,\"path\":_vm.publication.$path,\"can_edit\":_vm.can_edit}})],1),_c('div',{staticClass:\"_buttonRow\"},[(_vm.can_edit && _vm.publication.$admins !== 'parent_contributors')?_c('div',{},[_c('small',[_c('button',{staticClass:\"u-buttonLink\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.setCorrectPermForAdmins}},[_vm._v(\" set perm to parent \")]),_vm._v(\" \"+_vm._s(_vm.publication.$admins)+\" \")])]):_vm._e(),(_vm.can_edit)?_c('StatusTag',{attrs:{\"status\":_vm.publication.$status || 'public',\"status_options\":['public', 'private'],\"path\":_vm.publication.$path,\"can_edit\":_vm.can_edit}}):_vm._e(),(_vm.can_edit && _vm.publication.template !== 'cartography')?_c('button',{staticClass:\"u-button u-button_small u-button_transparent\",attrs:{\"type\":\"button\",\"caret\":\"\"},on:{\"click\":_vm.openSettings}},[_c('b-icon',{attrs:{\"slot\":\"prefix\",\"icon\":\"gear\",\"aria-label\":_vm.$t('settings')},slot:\"prefix\"}),_vm._v(\" \"+_vm._s(_vm.$t(\"settings\"))+\" \")],1):_vm._e(),(_vm.can_edit)?_c('DropDown',{on:{\"show\":_vm.closeSettings}},[_c('DuplicatePublication',{attrs:{\"path\":_vm.publication.$path,\"source_title\":_vm.publication.title,\"publication\":_vm.publication},on:{\"close\":function($event){return _vm.$emit('close')}}}),_c('RemoveMenu',{attrs:{\"remove_text\":_vm.$t('remove')},on:{\"remove\":_vm.removePublication}})],1):_vm._e(),_c('DropDown',{on:{\"show\":_vm.closeSettings}},[_c('template',{slot:\"trigger\"},[_c('b-icon',{attrs:{\"icon\":\"box-arrow-up-right\"}}),_vm._v(\" \"+_vm._s(_vm.$t(\"share\"))+\" \")],1),(_vm.can_edit)?_c('div',[_c('button',{staticClass:\"u-buttonLink _exportBtn\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.show_export_pdf_modal = true}}},[_c('b-icon',{attrs:{\"icon\":\"file-pdf\"}}),_vm._v(\" \"+_vm._s(_vm.$t(\"to_export\"))+\" \")],1)]):_vm._e(),(_vm.show_export_pdf_modal)?_c('ExportPubliModal',{attrs:{\"publication\":_vm.publication,\"page_opened_id\":_vm.page_opened_id},on:{\"close\":function($event){_vm.show_export_pdf_modal = false}}}):_vm._e(),_c('div',[_c('button',{staticClass:\"u-buttonLink\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.show_qr_code_modal = true}}},[_c('div',{staticClass:\"icon\",attrs:{\"part\":\"base\",\"aria-hidden\":\"true\"}},[_c('svg',{staticClass:\"bi bi-qr-code\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"16\",\"height\":\"16\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 16 16\"}},[_c('path',{attrs:{\"d\":\"M2 2h2v2H2V2Z\"}}),_c('path',{attrs:{\"d\":\"M6 0v6H0V0h6ZM5 1H1v4h4V1ZM4 12H2v2h2v-2Z\"}}),_c('path',{attrs:{\"d\":\"M6 10v6H0v-6h6Zm-5 1v4h4v-4H1Zm11-9h2v2h-2V2Z\"}}),_c('path',{attrs:{\"d\":\"M10 0v6h6V0h-6Zm5 1v4h-4V1h4ZM8 1V0h1v2H8v2H7V1h1Zm0 5V4h1v2H8ZM6 8V7h1V6h1v2h1V7h5v1h-4v1H7V8H6Zm0 0v1H2V8H1v1H0V7h3v1h3Zm10 1h-1V7h1v2Zm-1 0h-1v2h2v-1h-1V9Zm-4 0h2v1h-1v1h-1V9Zm2 3v-1h-1v1h-1v1H9v1h3v-2h1Zm0 0h3v1h-2v1h-1v-2Zm-4-1v1h1v-2H7v1h2Z\"}}),_c('path',{attrs:{\"d\":\"M7 12h1v3h4v1H7v-4Zm9 2v2h-3v-1h2v-1h1Z\"}})])]),_vm._v(\" \"+_vm._s(_vm.$t(\"direct_link\"))+\" \")])]),(_vm.show_qr_code_modal)?_c('QRModal',{attrs:{\"url_to_access\":_vm.share_url},on:{\"close\":function($event){_vm.show_qr_code_modal = false}}},[_c('ToggleField',{attrs:{\"label\":_vm.$t('make_publication_public'),\"field_name\":'$public',\"content\":_vm.publication.$public === true,\"path\":_vm.publication.$path,\"can_edit\":_vm.can_edit}})],1):_vm._e()],2)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('button',{staticClass:\"u-buttonLink\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.show_modal = true}}},[_c('b-icon',{attrs:{\"icon\":\"file-plus\"}}),_vm._v(\" \"+_vm._s(_vm.$t(\"duplicate_or_move\"))+\" \")],1),(_vm.show_modal)?_c('BaseModal2',{attrs:{\"title\":_vm.$t('duplicate_or_move')},on:{\"close\":function($event){_vm.show_modal = false}}},[(!_vm.navigation_to_copy)?[_c('div',{staticClass:\"u-spacingBottom\"},[_c('div',{staticClass:\"u-instructions\"},[_c('small',[_vm._v(\" \"+_vm._s(_vm.$t(\"dmp_instr\"))+\" \")])]),_c('br'),_c('SpaceProjectPicker',{staticClass:\"u-spacingBottom\",attrs:{\"path\":_vm.path},on:{\"newProjectSelected\":function($event){_vm.destination_project_path = $event}}}),_c('div',{staticClass:\"u-spacingBottom\"},[_c('DLabel',{attrs:{\"str\":_vm.$t('title_of_copy')}}),_c('TextInput',{ref:\"titleInput\",attrs:{\"content\":_vm.new_title,\"maxlength\":40,\"required\":true},on:{\"update:content\":function($event){_vm.new_title=$event}}})],1),_c('div',{},[_c('ToggleInput',{attrs:{\"content\":_vm.remove_original,\"label\":_vm.$t('remove_original'),\"options\":{\n              true: _vm.$t('remove_original_after_copy'),\n              false: _vm.$t('keep_original_after_copy'),\n            }},on:{\"update:content\":function($event){_vm.remove_original=$event}}})],1)],1),_c('div',{staticClass:\"u-sameRow\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[(!_vm.is_copying)?[_c('button',{staticClass:\"u-buttonLink\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.show_modal = false}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"cancel\"))+\" \")]),_c('button',{staticClass:\"u-button u-button_red\",attrs:{\"type\":\"button\",\"autofocus\":\"\",\"disabled\":!_vm.destination_project_path},on:{\"click\":_vm.confirm}},[(_vm.remove_original)?[_vm._v(\" \"+_vm._s(_vm.$t(\"move\"))+\" \")]:[_vm._v(\" \"+_vm._s(_vm.$t(\"duplicate\"))+\" \")]],2)]:_c('LoaderSpinner')],2)]:[_c('a',{staticClass:\"u-button u-button_bleumarine\",attrs:{\"href\":_vm.navigation_to_copy}},[_vm._v(\" \"+_vm._s(_vm.$t(\"open_copy\"))+\" \")])]],2):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <button type=\"button\" class=\"u-buttonLink\" @click=\"show_modal = true\">\n      <b-icon icon=\"file-plus\" />\n      {{ $t(\"duplicate_or_move\") }}\n    </button>\n\n    <BaseModal2\n      v-if=\"show_modal\"\n      :title=\"$t('duplicate_or_move')\"\n      @close=\"show_modal = false\"\n    >\n      <template v-if=\"!navigation_to_copy\">\n        <div class=\"u-spacingBottom\">\n          <div class=\"u-instructions\">\n            <small>\n              {{ $t(\"dmp_instr\") }}\n            </small>\n          </div>\n\n          <br />\n\n          <SpaceProjectPicker\n            class=\"u-spacingBottom\"\n            :path=\"path\"\n            @newProjectSelected=\"destination_project_path = $event\"\n          />\n\n          <div class=\"u-spacingBottom\">\n            <DLabel :str=\"$t('title_of_copy')\" />\n            <TextInput\n              :content.sync=\"new_title\"\n              :maxlength=\"40\"\n              :required=\"true\"\n              ref=\"titleInput\"\n            />\n          </div>\n\n          <div class=\"\">\n            <ToggleInput\n              :content.sync=\"remove_original\"\n              :label=\"$t('remove_original')\"\n              :options=\"{\n                true: $t('remove_original_after_copy'),\n                false: $t('keep_original_after_copy'),\n              }\"\n            />\n          </div>\n\n          <!-- <br />\n          <details>\n            <summary>{{ $t(\"more_informations\") }}</summary>\n            <pre>\n              project_medias_to_copy = {{ project_medias_to_copy.length }}\n              {{ project_medias_to_copy }}\n            </pre>\n          </details> -->\n        </div>\n\n        <div class=\"u-sameRow\" slot=\"footer\">\n          <template v-if=\"!is_copying\">\n            <button\n              type=\"button\"\n              class=\"u-buttonLink\"\n              @click=\"show_modal = false\"\n            >\n              {{ $t(\"cancel\") }}\n            </button>\n            <button\n              class=\"u-button u-button_red\"\n              type=\"button\"\n              autofocus\n              :disabled=\"!destination_project_path\"\n              @click=\"confirm\"\n            >\n              <template v-if=\"remove_original\">\n                {{ $t(\"move\") }}\n              </template>\n              <template v-else>\n                {{ $t(\"duplicate\") }}\n              </template>\n            </button>\n          </template>\n          <LoaderSpinner v-else />\n        </div>\n      </template>\n      <template v-else>\n        <a :href=\"navigation_to_copy\" class=\"u-button u-button_bleumarine\">\n          {{ $t(\"open_copy\") }}\n        </a>\n        <!-- <router-link\n          :to=\"navigation_to_copy\"\n          class=\"u-button u-button_bleumarine\"\n        >\n          {{ $t(\"open_copy\") }}\n        </router-link> -->\n      </template>\n    </BaseModal2>\n  </div>\n</template>\n<script>\nimport SpaceProjectPicker from \"@/components/fields/SpaceProjectPicker.vue\";\n\nexport default {\n  props: {\n    path: String,\n    source_title: String,\n    publication: Object,\n  },\n  components: { SpaceProjectPicker },\n  data() {\n    return {\n      navigation_to_copy: false,\n      show_modal: false,\n\n      destination_project_path: undefined,\n\n      remove_original: false,\n      new_title: this.$t(\"copy_of\") + \" \" + this.source_title,\n\n      is_copying: false,\n    };\n  },\n  created() {},\n  async mounted() {},\n  beforeDestroy() {},\n  watch: {\n    show_modal() {\n      if (this.show_modal) {\n        this.navigation_to_copy = undefined;\n      }\n    },\n  },\n  computed: {\n    project_medias_to_copy() {\n      // we get all references medias projects\n      return this.publication.$files.reduce((acc, f) => {\n        if (Object.prototype.hasOwnProperty.call(f, \"source_medias\")) {\n          f.source_medias.map((source_media) => {\n            const _linked_media = this.getSourceMedia({\n              source_media,\n              folder_path: this.publication.$path,\n            });\n            if (!acc.includes(_linked_media.$path))\n              acc.push(_linked_media.$path);\n          });\n        }\n        return acc;\n      }, []);\n    },\n  },\n  methods: {\n    async confirm() {\n      // const parent_type = this.getParent(this.path);\n\n      this.is_copying = true;\n\n      const path_to_destination_type =\n        this.destination_project_path + \"/publications\";\n\n      // multiple cases :\n      // - same project, copyfolder\n      // - other project, copyfolder then check for included medias in project, which we'll also copy. If their meta filename needs to be changed\n      // during copy, update all modules that uses it\n\n      const copy_publication_path = await this.$api\n        .copyFolder({\n          path: this.path,\n          path_to_destination_type,\n          new_meta: {\n            title: this.new_title,\n          },\n        })\n        .catch((err_code) => {\n          if (err_code === \"unique_field_taken\") {\n            this.$alertify.delay(4000).error(this.$t(\"title_taken\"));\n            this.$refs.titleInput.$el.querySelector(\"input\").select();\n          } else if (err_code === \"not_allowed_to_copy_to_space\") {\n            this.$alertify\n              .delay(4000)\n              .error(this.$t(\"not_allowed_to_copy_to_space\"));\n          }\n          this.is_copying = false;\n          throw \"fail\";\n        });\n\n      const copy_publication = await this.$api.getFolder({\n        path: copy_publication_path,\n      });\n\n      this.$alertify\n        .closeLogOnClick(true)\n        .delay(4000)\n        .success(\"publication_copy_success\");\n\n      // publication changed project, so we need to copy medias aswell\n      if (\n        this.getParent(this.path) !==\n        this.destination_project_path + \"/publications\"\n      ) {\n        this.$alertify\n          .closeLogOnClick(true)\n          .delay(4000)\n          .log(\"has_linked_media_to_copy\");\n        for (let media_path of this.project_medias_to_copy) {\n          const copy_file_meta = await this.$api\n            .copyFile({\n              path: media_path,\n              path_to_destination_folder: this.destination_project_path,\n              new_meta: {\n                group: \"imported_from_\" + copy_publication_path,\n              },\n            })\n            .catch((err_code) => {\n              this.$alertify.delay(4000).error(err_code);\n            });\n\n          const original_file_meta = this.getFilename(media_path);\n          if (copy_file_meta !== original_file_meta) {\n            for (let publication_file of copy_publication.$files) {\n              if (\n                !Object.prototype.hasOwnProperty.call(\n                  publication_file,\n                  \"source_medias\"\n                )\n              )\n                continue;\n\n              if (\n                !publication_file.source_medias.some(\n                  (sm) =>\n                    sm.meta_filename_in_project &&\n                    sm.meta_filename_in_project === original_file_meta\n                )\n              )\n                continue;\n\n              const source_medias = publication_file.source_medias.map((sm) => {\n                if (sm.meta_filename_in_project === original_file_meta) {\n                  sm.meta_filename_in_project = copy_file_meta;\n                }\n                return sm;\n              });\n\n              // update publication file in new folder\n              await this.$api.updateMeta({\n                path: publication_file.$path,\n                new_meta: {\n                  source_medias,\n                },\n              });\n            }\n          }\n        }\n        this.$alertify\n          .closeLogOnClick(true)\n          .delay(4000)\n          .success(\"linked media copied\");\n      }\n\n      let query = {};\n      query.projectpanes = JSON.stringify([\n        {\n          type: \"publish\",\n          size: 100,\n          folder: this.getFilename(copy_publication.$path),\n        },\n      ]);\n      const navigation = {\n        path: this.createURLFromPath(this.destination_project_path),\n        query,\n      };\n\n      if (!this.remove_original) {\n        this.is_copying = false;\n        this.navigation_to_copy = this.$router.resolve(navigation).href;\n      } else {\n        this.is_copying = false;\n        await this.$api.deleteItem({\n          path: this.path,\n        });\n        this.$emit(\"close\");\n      }\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DuplicatePublication.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DuplicatePublication.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DuplicatePublication.vue?vue&type=template&id=19fcccef&scoped=true&\"\nimport script from \"./DuplicatePublication.vue?vue&type=script&lang=js&\"\nexport * from \"./DuplicatePublication.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"19fcccef\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('BaseModal2',{attrs:{\"title\":_vm.$t('export_publi')},on:{\"close\":function($event){return _vm.$emit('close')}}},[_c('div',{},[_c('DLabel',{attrs:{\"str\":_vm.$t('document_type')}}),_c('RadioCheckboxInput',{attrs:{\"value\":_vm.export_mode,\"options\":_vm.export_options,\"can_edit\":true},on:{\"update:value\":function($event){_vm.export_mode=$event}}})],1),(_vm.export_mode === 'pdf')?[_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('button',{staticClass:\"u-button u-button_bleuvert\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.exportPublication('pdf')}}},[_c('b-icon',{attrs:{\"icon\":\"file-pdf\"}}),_vm._v(\" \"+_vm._s(_vm.$t(\"create\"))+\" \")],1)])]:(_vm.export_mode === 'png')?[(_vm.publication.template === 'page_by_page')?[_c('div',{staticClass:\"u-spacingBottom\"}),_c('div',{},[_c('DLabel',{attrs:{\"str\":_vm.$t('page_to_export')}}),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.page_to_export_as_image),expression:\"page_to_export_as_image\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.page_to_export_as_image=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((new Array(_vm.page_count)),function(a,i){return _c('option',{key:i + 1,domProps:{\"textContent\":_vm._s(i + 1)}})}),0)],1)]:_vm._e(),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('button',{staticClass:\"u-button u-button_bleuvert\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.exportPublication('png')}}},[_c('b-icon',{attrs:{\"icon\":\"file-earmark-image\"}}),_vm._v(\" \"+_vm._s(_vm.$t(\"create\"))+\" \")],1)])]:_vm._e(),(_vm.task_instructions)?_c('ExportItemAndSaveOrDownload',{attrs:{\"publication_path\":_vm.publication.$path,\"instructions\":_vm.task_instructions},on:{\"close\":function($event){_vm.task_instructions = false}}}):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('BaseModal2',{attrs:{\"title\":_vm.$t('export_publi')},on:{\"close\":function($event){return _vm.$emit('close')}}},[(_vm.is_exporting)?[_c('div',{staticClass:\"u-instructions\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"export_in_progress\"))+\" \")]),_c('div',{},[_c('b',[_c('AnimatedCounter',{attrs:{\"value\":_vm.task_progress}})],1)])]:[(_vm.created_doc)?_c('MediaContent',{staticClass:\"_preview\",attrs:{\"file\":_vm.created_doc,\"resolution\":1600,\"context\":'full'}}):_vm._e(),_c('div',{staticClass:\"u-sameRow\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('a',{staticClass:\"u-buttonLink\",attrs:{\"disabled\":!_vm.export_href,\"download\":_vm.export_name,\"href\":_vm.export_href,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm.$t(\"download\"))+\" \")]),_c('button',{staticClass:\"u-button u-button_red\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.saveToProject}},[_c('svg',{staticStyle:{\"enable-background\":\"new 0 0 168 168\"},attrs:{\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 168 168\",\"xml:space\":\"preserve\"}},[_c('path',{staticStyle:{\"fill\":\"var(--c-rouge)\"},attrs:{\"d\":\"M84,0C37.6,0,0,37.6,0,84c0,46.4,37.6,84,84,84c46.4,0,84-37.6,84-84 C168,37.6,130.4,0,84,0z\"}}),_c('g',{staticStyle:{\"fill\":\"var(--c-orange)\"}},[_c('path',{attrs:{\"d\":\"m42 42h21.6v21h-21.6z\"}}),_c('path',{attrs:{\"d\":\"m73.2 42h21.6v21h-21.6z\"}}),_c('path',{attrs:{\"d\":\"m104.4 42h21.6v21h-21.6z\"}}),_c('path',{attrs:{\"d\":\"m42 73.5h21.6v21h-21.6z\"}}),_c('path',{attrs:{\"d\":\"m73.2 73.5h21.6v21h-21.6z\"}}),_c('path',{attrs:{\"d\":\"m104.4 73.5h21.6v21h-21.6z\"}}),_c('path',{attrs:{\"d\":\"m42 105h21.6v21h-21.6z\"}}),_c('path',{attrs:{\"d\":\"m73.2 105h21.6v21h-21.6z\"}}),_c('path',{attrs:{\"d\":\"m104.4 105h21.6v21h-21.6z\"}})])]),_vm._v(\" \"+_vm._s(_vm.$t(\"save_to_project\"))+\" \")])]),(_vm.finished_saving_to_project)?_c('div',{staticClass:\"_saveNotice\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"media_was_saved_to_project\"))+\" \")]):_vm._e()]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <BaseModal2 :title=\"$t('export_publi')\" @close=\"$emit('close')\">\n    <template v-if=\"is_exporting\">\n      <div class=\"u-instructions\">\n        {{ $t(\"export_in_progress\") }}\n      </div>\n      <div class=\"\">\n        <b><AnimatedCounter :value=\"task_progress\" /></b>\n      </div>\n    </template>\n    <template v-else>\n      <MediaContent\n        class=\"_preview\"\n        v-if=\"created_doc\"\n        :file=\"created_doc\"\n        :resolution=\"1600\"\n        :context=\"'full'\"\n      />\n      <div class=\"u-sameRow\" slot=\"footer\">\n        <a\n          :disabled=\"!export_href\"\n          :download=\"export_name\"\n          :href=\"export_href\"\n          target=\"_blank\"\n          class=\"u-buttonLink\"\n        >\n          {{ $t(\"download\") }}\n        </a>\n        <button\n          type=\"button\"\n          class=\"u-button u-button_red\"\n          @click=\"saveToProject\"\n        >\n          <svg\n            version=\"1.1\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            x=\"0px\"\n            y=\"0px\"\n            viewBox=\"0 0 168 168\"\n            style=\"enable-background: new 0 0 168 168\"\n            xml:space=\"preserve\"\n          >\n            <path\n              style=\"fill: var(--c-rouge)\"\n              d=\"M84,0C37.6,0,0,37.6,0,84c0,46.4,37.6,84,84,84c46.4,0,84-37.6,84-84 C168,37.6,130.4,0,84,0z\"\n            />\n            <g style=\"fill: var(--c-orange)\">\n              <path d=\"m42 42h21.6v21h-21.6z\" />\n              <path d=\"m73.2 42h21.6v21h-21.6z\" />\n              <path d=\"m104.4 42h21.6v21h-21.6z\" />\n              <path d=\"m42 73.5h21.6v21h-21.6z\" />\n              <path d=\"m73.2 73.5h21.6v21h-21.6z\" />\n              <path d=\"m104.4 73.5h21.6v21h-21.6z\" />\n              <path d=\"m42 105h21.6v21h-21.6z\" />\n              <path d=\"m73.2 105h21.6v21h-21.6z\" />\n              <path d=\"m104.4 105h21.6v21h-21.6z\" />\n            </g>\n          </svg>\n          {{ $t(\"save_to_project\") }}\n        </button>\n      </div>\n      <div class=\"_saveNotice\" v-if=\"finished_saving_to_project\">\n        {{ $t(\"media_was_saved_to_project\") }}\n      </div>\n    </template>\n  </BaseModal2>\n</template>\n<script>\nexport default {\n  props: {\n    publication_path: String,\n    instructions: Object,\n  },\n  components: {},\n  data() {\n    return {\n      is_exporting: false,\n      created_doc: undefined,\n      task_progress: 0,\n      finished_saving_to_project: false,\n    };\n  },\n  created() {},\n  async mounted() {\n    await this.startExport();\n  },\n  beforeDestroy() {},\n  watch: {},\n  computed: {\n    export_href() {\n      if (!this.created_doc) return false;\n      return this.makeMediaFileURL({\n        $path: this.created_doc.$path,\n        $media_filename: this.created_doc.$media_filename,\n      });\n    },\n    export_name() {\n      return this.created_doc?.$media_filename;\n    },\n  },\n  methods: {\n    async startExport() {\n      const current_task_id = await this.$api.exportFolder({\n        path: this.publication_path,\n        instructions: this.instructions,\n      });\n      this.$api.join({ room: \"task_\" + current_task_id });\n\n      this.$alertify.delay(4000).log(this.$t(\"compilation_started\"));\n\n      this.is_exporting = true;\n\n      const checkProgress = ({ task_id, progress }) => {\n        if (task_id !== current_task_id) return;\n        this.task_progress = progress;\n      };\n\n      this.$eventHub.$on(\"task.status\", checkProgress);\n\n      const checkIfEnded = ({ task_id, message }) => {\n        if (task_id !== current_task_id) return;\n        this.$eventHub.$off(\"task.ended\", checkIfEnded);\n        this.$api.leave({ room: \"task_\" + current_task_id });\n        if (message.event === \"completed\") {\n          this.created_doc = message.file;\n        } else if (message.event === \"aborted\") {\n          //\n        } else if (message.event === \"failed\") {\n          message.info;\n        }\n        this.is_exporting = false;\n      };\n      this.$eventHub.$on(\"task.ended\", checkIfEnded);\n    },\n    async saveToProject() {\n      this.finished_saving_to_project = true;\n      setTimeout(() => {\n        this.$emit(\"close\");\n      }, 3000);\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n._preview {\n  border: 2px solid var(--c-gris);\n  aspect-ratio: 1;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ExportItemAndSaveOrDownload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ExportItemAndSaveOrDownload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExportItemAndSaveOrDownload.vue?vue&type=template&id=2d915ad8&scoped=true&\"\nimport script from \"./ExportItemAndSaveOrDownload.vue?vue&type=script&lang=js&\"\nexport * from \"./ExportItemAndSaveOrDownload.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ExportItemAndSaveOrDownload.vue?vue&type=style&index=0&id=2d915ad8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2d915ad8\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <BaseModal2 :title=\"$t('export_publi')\" @close=\"$emit('close')\">\n    <div class=\"\">\n      <DLabel :str=\"$t('document_type')\" />\n      <RadioCheckboxInput\n        :value.sync=\"export_mode\"\n        :options=\"export_options\"\n        :can_edit=\"true\"\n      />\n    </div>\n\n    <template v-if=\"export_mode === 'pdf'\">\n      <div slot=\"footer\">\n        <button\n          type=\"button\"\n          class=\"u-button u-button_bleuvert\"\n          @click=\"exportPublication('pdf')\"\n        >\n          <b-icon icon=\"file-pdf\" />\n          {{ $t(\"create\") }}\n        </button>\n      </div>\n    </template>\n    <template v-else-if=\"export_mode === 'png'\">\n      <template v-if=\"publication.template === 'page_by_page'\">\n        <div class=\"u-spacingBottom\" />\n\n        <div class=\"\">\n          <DLabel :str=\"$t('page_to_export')\" />\n          <select v-model=\"page_to_export_as_image\">\n            <option\n              v-for=\"(a, i) in new Array(page_count)\"\n              :key=\"i + 1\"\n              v-text=\"i + 1\"\n            />\n          </select>\n        </div>\n      </template>\n\n      <div slot=\"footer\">\n        <button\n          type=\"button\"\n          class=\"u-button u-button_bleuvert\"\n          @click=\"exportPublication('png')\"\n        >\n          <b-icon icon=\"file-earmark-image\" />\n          {{ $t(\"create\") }}\n        </button>\n      </div>\n    </template>\n    <ExportItemAndSaveOrDownload\n      v-if=\"task_instructions\"\n      :publication_path=\"publication.$path\"\n      :instructions=\"task_instructions\"\n      @close=\"task_instructions = false\"\n    />\n  </BaseModal2>\n</template>\n<script>\nimport ExportItemAndSaveOrDownload from \"@/components/publications/ExportItemAndSaveOrDownload.vue\";\n\nexport default {\n  props: {\n    publication: Object,\n    page_opened_id: String,\n  },\n  components: {\n    ExportItemAndSaveOrDownload,\n  },\n  data() {\n    return {\n      task_instructions: false,\n      page_to_export_as_image: 1,\n\n      export_mode: \"pdf\",\n      export_options: [\n        {\n          key: \"pdf\",\n          label: this.$t(\"pdf\"),\n        },\n        {\n          key: \"png\",\n          label: this.$t(\"image\"),\n        },\n      ],\n    };\n  },\n  created() {\n    if (this.page_opened_id && this.publication.pages) {\n      const page_number = this.publication.pages.findIndex(\n        (p) => p.id === this.page_opened_id\n      );\n      if (page_number) this.page_to_export_as_image = page_number + 1;\n    }\n  },\n  mounted() {},\n  beforeDestroy() {},\n  watch: {},\n  computed: {\n    page_count() {\n      return this.publication.pages.length;\n    },\n  },\n  methods: {\n    async exportPublication(export_type) {\n      const additional_meta = {};\n      additional_meta.$origin = \"publish\";\n      if (this.connected_as?.$path)\n        additional_meta.$authors = [this.connected_as.$path];\n\n      let instructions = {\n        recipe: export_type,\n        page_width: this.publication.page_width,\n        page_height: this.publication.page_height,\n        layout_mode: this.publication.layout_mode || \"print\",\n        suggested_file_name: this.publication.title,\n        additional_meta,\n      };\n      if (\n        this.publication.template === \"page_by_page\" &&\n        this.export_mode === \"png\"\n      )\n        instructions.page = this.page_to_export_as_image;\n      if (this.publication.page_spreads === true) instructions.page_width *= 2;\n      this.task_instructions = instructions;\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ExportPubliModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ExportPubliModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExportPubliModal.vue?vue&type=template&id=076f2f40&scoped=true&\"\nimport script from \"./ExportPubliModal.vue?vue&type=script&lang=js&\"\nexport * from \"./ExportPubliModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"076f2f40\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"_topbar\">\n    <button\n      v-if=\"no_back_button !== true\"\n      type=\"button\"\n      class=\"u-button u-button_icon _backPubli\"\n      @click=\"$emit('close')\"\n    >\n      <b-icon\n        icon=\"arrow-left-circle-fill\"\n        :aria-label=\"$t('back_to_publications')\"\n      />\n    </button>\n\n    <div class=\"_publiTitle\">\n      <TitleField\n        :field_name=\"'title'\"\n        :tag=\"'h2'\"\n        :maxlength=\"40\"\n        :required=\"true\"\n        :content=\"publication.title\"\n        :path=\"publication.$path\"\n        :can_edit=\"can_edit\"\n      />\n    </div>\n\n    <div class=\"_buttonRow\">\n      <div\n        class=\"\"\n        v-if=\"can_edit && publication.$admins !== 'parent_contributors'\"\n      >\n        <small>\n          <button\n            class=\"u-buttonLink\"\n            type=\"button\"\n            @click=\"setCorrectPermForAdmins\"\n          >\n            set perm to parent\n            <!-- // legacy button -->\n          </button>\n          {{ publication.$admins }}\n        </small>\n      </div>\n\n      <StatusTag\n        v-if=\"can_edit\"\n        :status=\"publication.$status || 'public'\"\n        :status_options=\"['public', 'private']\"\n        :path=\"publication.$path\"\n        :can_edit=\"can_edit\"\n      />\n\n      <button\n        type=\"button\"\n        v-if=\"can_edit && publication.template !== 'cartography'\"\n        @click=\"openSettings\"\n        caret\n        class=\"u-button u-button_small u-button_transparent\"\n      >\n        <b-icon icon=\"gear\" slot=\"prefix\" :aria-label=\"$t('settings')\" />\n        {{ $t(\"settings\") }}\n      </button>\n\n      <DropDown v-if=\"can_edit\" @show=\"closeSettings\">\n        <DuplicatePublication\n          :path=\"publication.$path\"\n          :source_title=\"publication.title\"\n          :publication=\"publication\"\n          @close=\"$emit('close')\"\n        />\n        <RemoveMenu :remove_text=\"$t('remove')\" @remove=\"removePublication\" />\n      </DropDown>\n\n      <DropDown @show=\"closeSettings\">\n        <template slot=\"trigger\">\n          <b-icon icon=\"box-arrow-up-right\" />\n          {{ $t(\"share\") }}\n        </template>\n        <div v-if=\"can_edit\">\n          <button\n            type=\"button\"\n            class=\"u-buttonLink _exportBtn\"\n            @click=\"show_export_pdf_modal = true\"\n          >\n            <b-icon icon=\"file-pdf\" />\n            {{ $t(\"to_export\") }}\n          </button>\n        </div>\n        <ExportPubliModal\n          v-if=\"show_export_pdf_modal\"\n          :publication=\"publication\"\n          :page_opened_id=\"page_opened_id\"\n          @close=\"show_export_pdf_modal = false\"\n        />\n        <div>\n          <button\n            type=\"button\"\n            class=\"u-buttonLink\"\n            @click=\"show_qr_code_modal = true\"\n          >\n            <div part=\"base\" class=\"icon\" aria-hidden=\"true\">\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"16\"\n                height=\"16\"\n                fill=\"currentColor\"\n                class=\"bi bi-qr-code\"\n                viewBox=\"0 0 16 16\"\n              >\n                <path d=\"M2 2h2v2H2V2Z\"></path>\n                <path d=\"M6 0v6H0V0h6ZM5 1H1v4h4V1ZM4 12H2v2h2v-2Z\"></path>\n                <path d=\"M6 10v6H0v-6h6Zm-5 1v4h4v-4H1Zm11-9h2v2h-2V2Z\"></path>\n                <path\n                  d=\"M10 0v6h6V0h-6Zm5 1v4h-4V1h4ZM8 1V0h1v2H8v2H7V1h1Zm0 5V4h1v2H8ZM6 8V7h1V6h1v2h1V7h5v1h-4v1H7V8H6Zm0 0v1H2V8H1v1H0V7h3v1h3Zm10 1h-1V7h1v2Zm-1 0h-1v2h2v-1h-1V9Zm-4 0h2v1h-1v1h-1V9Zm2 3v-1h-1v1h-1v1H9v1h3v-2h1Zm0 0h3v1h-2v1h-1v-2Zm-4-1v1h1v-2H7v1h2Z\"\n                ></path>\n                <path d=\"M7 12h1v3h4v1H7v-4Zm9 2v2h-3v-1h2v-1h1Z\"></path>\n              </svg>\n            </div>\n            {{ $t(\"direct_link\") }}\n          </button>\n        </div>\n        <QRModal\n          v-if=\"show_qr_code_modal\"\n          :url_to_access=\"share_url\"\n          @close=\"show_qr_code_modal = false\"\n        >\n          <!-- <div v-if=\"$root.app_infos.instance_meta.has_general_password\">\n            instance has general password, make publication public to display\n          </div> -->\n          <ToggleField\n            :label=\"$t('make_publication_public')\"\n            :field_name=\"'$public'\"\n            :content=\"publication.$public === true\"\n            :path=\"publication.$path\"\n            :can_edit=\"can_edit\"\n          />\n        </QRModal>\n      </DropDown>\n    </div>\n  </div>\n</template>\n<script>\nimport DuplicatePublication from \"@/components/publications/DuplicatePublication.vue\";\nimport ExportPubliModal from \"@/components/publications/ExportPubliModal.vue\";\n\nexport default {\n  props: {\n    publication: Object,\n    page_opened_id: String,\n    no_back_button: Boolean,\n    can_edit: Boolean,\n  },\n  components: {\n    DuplicatePublication,\n    ExportPubliModal,\n  },\n  data() {\n    return {\n      show_export_pdf_modal: false,\n      show_qr_code_modal: false,\n      is_exporting: false,\n    };\n  },\n  created() {},\n  mounted() {},\n  beforeDestroy() {},\n  watch: {},\n  computed: {\n    share_url() {\n      let query = {};\n      if (this.publication.template === \"page_by_page\")\n        query = { display: \"slides\" };\n      else if (this.publication.template === \"story_with_sections\")\n        query = { display: \"section\" };\n\n      const route = this.$router.resolve({\n        path: this.createURLFromPath(this.publication.$path),\n        query,\n      });\n\n      return window.location.origin + route.href;\n    },\n  },\n  methods: {\n    async removePublication() {\n      this.fetch_status = \"pending\";\n      this.fetch_error = null;\n      try {\n        const response = await this.$api.deleteItem({\n          path: this.publication.$path,\n        });\n        this.response = response.data;\n        this.fetch_status = \"success\";\n      } catch (e) {\n        this.fetch_status = \"error\";\n        this.fetch_error = e.response.data;\n        // this.$alertify.delay(4000).error(err);\n      }\n    },\n    async setCorrectPermForAdmins() {\n      await this.$api.updateMeta({\n        path: this.publication.$path,\n        new_meta: {\n          $admins: \"parent_contributors\",\n        },\n      });\n    },\n    openSettings() {\n      this.$eventHub.$emit(\"publication.settings.toggle\");\n    },\n    closeSettings() {\n      this.$eventHub.$emit(\"publication.settings.close\");\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n._topbar {\n  display: flex;\n  flex-flow: row wrap;\n  gap: calc(var(--spacing) / 2);\n  align-items: center;\n  width: 100%;\n  background: white;\n\n  padding: calc(var(--spacing) / 2);\n  margin: 0;\n  // border-top: 1px solid var(--c-gris);\n  border-bottom: 1px solid var(--c-gris);\n}\n\n._publiTitle {\n  flex: 10 1 auto;\n}\n\n._buttonRow {\n  display: flex;\n  flex-flow: row wrap;\n\n  flex: 1 1 auto;\n  justify-content: flex-end;\n  gap: calc(var(--spacing) / 2);\n}\n._exportBtn {\n  position: relative;\n}\n\n._backPubli {\n  font-size: 1.1rem;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PublicationTopbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PublicationTopbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PublicationTopbar.vue?vue&type=template&id=8a773402&scoped=true&\"\nimport script from \"./PublicationTopbar.vue?vue&type=script&lang=js&\"\nexport * from \"./PublicationTopbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PublicationTopbar.vue?vue&type=style&index=0&id=8a773402&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8a773402\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"_publicationView\",class:{\n    'is--serversidepreview': _vm.is_serversidepreview,\n  }},[_c('style',{tag:\"component\"},[_vm._v(\" \"+_vm._s(_vm.set_print_margins)+\" \")]),_c('transition',{attrs:{\"name\":\"fade_fast\",\"mode\":\"out-in\"}},[(_vm.$root.is_loading)?_c('div',{key:\"loader\",staticClass:\"u-divCentered\"},[_c('LoaderSpinner')],1):(_vm.fetch_publication_error)?_c('div',[_vm._v(\" \"+_vm._s(_vm.fetch_publication_error)+\" \")]):(_vm.publication)?_c('div',{key:\"publication\",ref:\"fsContainer\"},[_c('transition',{attrs:{\"name\":\"pagechange\",\"mode\":\"out-in\"}},[(!_vm.is_serversidepreview && !_vm.is_fullscreen && _vm.show_topbar)?_c('div',{staticClass:\"_pubTopbar\"},[_c('PublicationTopbar',{attrs:{\"publication\":_vm.publication,\"no_back_button\":true,\"can_edit\":false}})],1):_vm._e()]),_c('div',{staticClass:\"_toggleTopbar\"},[_c('button',{staticClass:\"u-button u-button_small u-button_icon\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.show_topbar = !_vm.show_topbar}}},[_c('b-icon',{attrs:{\"icon\":\"chevron-up\",\"rotate\":_vm.show_topbar ? 0 : 180}})],1)]),(_vm.publication.template === 'page_by_page')?[_c('PageSlides',{attrs:{\"publication\":_vm.publication,\"is_serversidepreview\":_vm.is_serversidepreview},on:{\"toggleFs\":_vm.toggleFs}})]:(_vm.publication.template === 'story')?_c('div',[_c('StoryTemplate',{staticClass:\"_storyTemplate\",attrs:{\"publication\":_vm.publication,\"can_edit\":false}})],1):(_vm.publication.template === 'story_with_sections')?_c('div',[_c('SectionWithPrint',{attrs:{\"publication\":_vm.publication}})],1):(_vm.publication.template === 'cartography')?_c('div',[_c('MapForPrint',{attrs:{\"publication\":_vm.publication}})],1):_vm._e()],2):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"_publicationView\"\n    :class=\"{\n      'is--serversidepreview': is_serversidepreview,\n    }\"\n  >\n    <component :is=\"'style'\">\n      {{ set_print_margins }}\n    </component>\n    <transition name=\"fade_fast\" mode=\"out-in\">\n      <div class=\"u-divCentered\" v-if=\"$root.is_loading\" key=\"loader\">\n        <LoaderSpinner />\n      </div>\n      <div v-else-if=\"fetch_publication_error\">\n        {{ fetch_publication_error }}\n      </div>\n      <div v-else-if=\"publication\" key=\"publication\" ref=\"fsContainer\">\n        <transition name=\"pagechange\" mode=\"out-in\">\n          <div\n            class=\"_pubTopbar\"\n            v-if=\"!is_serversidepreview && !is_fullscreen && show_topbar\"\n          >\n            <PublicationTopbar\n              :publication=\"publication\"\n              :no_back_button=\"true\"\n              :can_edit=\"false\"\n            />\n          </div>\n        </transition>\n        <div class=\"_toggleTopbar\">\n          <button\n            type=\"button\"\n            class=\"u-button u-button_small u-button_icon\"\n            @click=\"show_topbar = !show_topbar\"\n          >\n            <b-icon icon=\"chevron-up\" :rotate=\"show_topbar ? 0 : 180\" />\n          </button>\n        </div>\n\n        <template v-if=\"publication.template === 'page_by_page'\">\n          <PageSlides\n            :publication=\"publication\"\n            :is_serversidepreview=\"is_serversidepreview\"\n            @toggleFs=\"toggleFs\"\n          />\n        </template>\n        <div v-else-if=\"publication.template === 'story'\">\n          <StoryTemplate\n            class=\"_storyTemplate\"\n            :publication=\"publication\"\n            :can_edit=\"false\"\n          />\n        </div>\n        <div v-else-if=\"publication.template === 'story_with_sections'\">\n          <SectionWithPrint :publication=\"publication\" />\n        </div>\n        <div v-else-if=\"publication.template === 'cartography'\">\n          <MapForPrint :publication=\"publication\" />\n        </div>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport screenfull from \"screenfull\";\n\nimport PublicationTopbar from \"@/components/publications/PublicationTopbar.vue\";\n\nexport default {\n  props: {},\n  components: {\n    PublicationTopbar,\n    PageSlides: () =>\n      import(\"@/components/publications/page_by_page/PageSlides.vue\"),\n    StoryTemplate: () =>\n      import(\"@/components/publications/templates/StoryTemplate.vue\"),\n    SectionWithPrint: () =>\n      import(\"@/components/publications/story/SectionWithPrint.vue\"),\n    MapForPrint: () =>\n      import(\"@/components/publications/cartography/MapForPrint.vue\"),\n  },\n  data() {\n    return {\n      project: null,\n      publication: null,\n      fetch_publication_error: undefined,\n      show_topbar: true,\n\n      is_fullscreen: false,\n      is_serversidepreview: false,\n    };\n  },\n  created() {\n    console.log(\"Loading PublicationView\");\n  },\n  async mounted() {\n    if (this.$route.query?.make_preview === \"true\")\n      this.is_serversidepreview = true;\n\n    let superadmintoken = undefined;\n    if (this.$route.query?.sat) superadmintoken = this.$route.query.sat;\n\n    this.publication = await this.$api\n      .getPublicFolder({\n        path: this.publication_path,\n        superadmintoken,\n      })\n      .catch((err) => {\n        this.fetch_publication_error = err.code;\n      });\n\n    // not pushing changes to presentation for performance reasons – though this could be useful at some point?\n    // this.$api.join({ room: this.project.$path });\n    // this.$api.join({ room: this.publication_path });\n\n    this.$root.is_loading = false;\n  },\n  beforeDestroy() {\n    // this.$api.leave({ room: this.project.$path });\n    // this.$api.leave({ room: this.publication_path });\n  },\n  watch: {\n    is_fullscreen() {\n      // this.$nextTick(() => {\n      // this.fitZoomToPage();\n      // });\n    },\n  },\n  computed: {\n    project_path() {\n      return this.createPath({\n        space_slug: this.$route.params.space_slug,\n        project_slug: this.$route.params.project_slug,\n      });\n    },\n    publication_path() {\n      return `${this.project_path}/publications/${this.$route.params.publication_slug}`;\n    },\n    set_print_margins() {\n      let margins = 15;\n      if (this.publication && this.publication.template === \"page_by_page\")\n        margins = 0;\n      return `\n      @page {\n        margin: ${margins}mm;\n      }\n      `;\n    },\n  },\n  methods: {\n    async openFs() {\n      await screenfull.request(this.$refs.fsContainer);\n      this.is_fullscreen = true;\n      screenfull.onchange(() => {\n        if (!screenfull.isFullscreen) this.is_fullscreen = false;\n      });\n    },\n    async closeFs() {\n      await screenfull.exit();\n      this.is_fullscreen = false;\n    },\n    async toggleFs() {\n      if (this.is_fullscreen) this.closeFs();\n      else this.openFs();\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n._publicationView {\n  background: white;\n}\n</style>\n<style lang=\"scss\">\n.alertify-logs {\n  display: none !important;\n}\nhtml,\nbody {\n  background: white !important;\n  @media print {\n    // background: white !important;\n  }\n}\n._storyTemplate {\n  padding: calc(var(--spacing) / 1);\n}\n\n._pubTopbar {\n  // margin: 0 auto;\n  // max-width: 86ch;\n\n  @media print {\n    display: none;\n  }\n}\n\n._toggleTopbar {\n  position: absolute;\n  width: 100%;\n  text-align: center;\n  z-index: 1;\n  pointer-events: none;\n\n  button {\n    pointer-events: auto;\n  }\n\n  @media print {\n    display: none;\n  }\n}\n._sectionsSummary {\n  @media print {\n    display: none;\n  }\n}\n._storyContent {\n  @media print {\n    box-shadow: none !important;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PublicationView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PublicationView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PublicationView.vue?vue&type=template&id=78d7f968&scoped=true&\"\nimport script from \"./PublicationView.vue?vue&type=script&lang=js&\"\nexport * from \"./PublicationView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PublicationView.vue?vue&type=style&index=0&id=78d7f968&lang=scss&scoped=true&\"\nimport style1 from \"./PublicationView.vue?vue&type=style&index=1&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"78d7f968\",\n  null\n  \n)\n\nexport default component.exports","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"._preview[data-v-2d915ad8]{border:2px solid var(--c-gris);aspect-ratio:1}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"._topbar[data-v-8a773402]{display:flex;flex-flow:row wrap;gap:calc(var(--spacing)/2);align-items:center;width:100%;background:#fff;padding:calc(var(--spacing)/2);margin:0;border-bottom:1px solid var(--c-gris)}._publiTitle[data-v-8a773402]{flex:10 1 auto}._buttonRow[data-v-8a773402]{display:flex;flex-flow:row wrap;flex:1 1 auto;justify-content:flex-end;gap:calc(var(--spacing)/2)}._exportBtn[data-v-8a773402]{position:relative}._backPubli[data-v-8a773402]{font-size:1.1rem}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"._publicationView[data-v-78d7f968]{background:#fff}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".alertify-logs{display:none!important}body,html{background:#fff!important}._storyTemplate{padding:calc(var(--spacing)/1)}@media print{._pubTopbar{display:none}}._toggleTopbar{position:absolute;width:100%;text-align:center;z-index:1;pointer-events:none}._toggleTopbar button{pointer-events:auto}@media print{._sectionsSummary,._toggleTopbar{display:none}._storyContent{box-shadow:none!important}}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[4]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ExportItemAndSaveOrDownload.vue?vue&type=style&index=0&id=2d915ad8&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"6ff0bfec\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[4]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PublicationTopbar.vue?vue&type=style&index=0&id=8a773402&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"9de39364\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[2]!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[3]!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[4]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PublicationView.vue?vue&type=style&index=0&id=78d7f968&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"69abbf65\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[2]!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[3]!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[4]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PublicationView.vue?vue&type=style&index=1&lang=scss&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"0a781bbe\", content, true, {\"sourceMap\":false,\"shadowMode\":false});"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","no_back_button","attrs","on","$event","$emit","$t","_e","publication","title","$path","can_edit","$admins","setCorrectPermForAdmins","_v","_s","$status","template","openSettings","slot","closeSettings","removePublication","show_export_pdf_modal","page_opened_id","show_qr_code_modal","share_url","$public","staticRenderFns","show_modal","navigation_to_copy","path","destination_project_path","ref","new_title","remove_original","true","false","is_copying","confirm","props","String","source_title","Object","components","SpaceProjectPicker","data","undefined","created","beforeDestroy","watch","computed","project_medias_to_copy","$files","reduce","acc","f","prototype","hasOwnProperty","call","source_medias","map","source_media","_linked_media","getSourceMedia","folder_path","includes","push","methods","path_to_destination_type","copy_publication_path","$api","copyFolder","new_meta","catch","err_code","$alertify","delay","error","$refs","titleInput","$el","querySelector","select","copy_publication","getFolder","closeLogOnClick","success","getParent","log","media_path","copy_file_meta","copyFile","path_to_destination_folder","group","original_file_meta","getFilename","publication_file","some","sm","meta_filename_in_project","updateMeta","query","projectpanes","JSON","stringify","type","size","folder","navigation","createURLFromPath","deleteItem","$router","resolve","href","component","export_mode","export_options","exportPublication","directives","name","rawName","value","expression","$$selectedVal","Array","filter","target","options","o","selected","val","_value","page_to_export_as_image","multiple","_l","page_count","a","i","key","domProps","task_instructions","task_progress","created_doc","export_href","export_name","saveToProject","staticStyle","publication_path","instructions","is_exporting","finished_saving_to_project","startExport","makeMediaFileURL","$media_filename","current_task_id","exportFolder","join","room","checkProgress","task_id","progress","$eventHub","$on","checkIfEnded","message","$off","leave","event","file","info","setTimeout","ExportItemAndSaveOrDownload","label","pages","page_number","findIndex","p","id","mounted","length","export_type","additional_meta","connected_as","$authors","recipe","page_width","page_height","layout_mode","suggested_file_name","page","page_spreads","Boolean","DuplicatePublication","ExportPubliModal","display","route","window","location","origin","fetch_status","fetch_error","response","e","class","is_serversidepreview","tag","set_print_margins","$root","fetch_publication_error","is_fullscreen","show_topbar","toggleFs","PublicationTopbar","PageSlides","StoryTemplate","SectionWithPrint","MapForPrint","project","console","superadmintoken","$route","make_preview","sat","getPublicFolder","err","code","is_loading","project_path","createPath","space_slug","params","project_slug","publication_slug","margins","screenfull","fsContainer","closeFs","openFs","___CSS_LOADER_EXPORT___","module","content","__esModule","default","locals","exports","add"],"sourceRoot":""}