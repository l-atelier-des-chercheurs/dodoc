(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[724],{5390:function(t,e,i){"use strict";i.d(e,{Z:function(){return l}});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_mediaPicker"},[i("PickMediaFromProjects",{attrs:{subfolder_path:t.publication_path},on:{selectMedia:function(e){return t.$emit("selectMedia",e)},close:function(e){return t.$emit("close")}}})],1)},o=[],s={props:{publication_path:String},components:{},data(){return{}},async created(){},beforeDestroy(){},watch:{},computed:{},methods:{}},r=s,n=(i(2936),i(1001)),d=(0,n.Z)(r,a,o,!1,null,"56e5056c",null),l=d.exports},3873:function(t,e,i){"use strict";i.d(e,{Z:function(){return x}});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_publicationModule",class:{"is--shape":t.is_shape}},[t.can_edit&&"page_by_page"!==t.context?i("div",{staticClass:"_sideOptions"},[i("span",[t.$listeners.hasOwnProperty("moveUp")&&"first"!==t.module_position&&"alone"!==t.module_position?i("button",{staticClass:"_sideBtns _moveBefore",attrs:{type:"button"},on:{click:function(e){return t.$emit("moveUp")}}},[i("svg",{staticStyle:{transform:"rotate(90deg)"},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 168 168"}},[i("path",{staticStyle:{fill:"currentColor"},attrs:{d:"M87.46,49.46,73.39,64.77a65.3,65.3,0,0,1-6.15,6.15A47.8,47.8,0,0,1,61,75.29H131.6V91.14H61A39.1,39.1,0,0,1,67,95.51q2.81,2.46,6.36,6.15L87.46,117,74.48,128,34.17,83.21,74.48,38.39Z"}})])]):t._e()]),i("div",{staticClass:"_options"},[i("button",{staticClass:"_sideBtns",class:{"is--active":t.show_advanced_menu},attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),t.show_advanced_menu=!t.show_advanced_menu}}},[i("svg",{staticStyle:{fill:"currentColor"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"24",height:"24",viewBox:"0 0 48 48","xml:space":"preserve"}},[i("circle",{attrs:{cx:"12",cy:"24",r:"4"}}),i("circle",{attrs:{cx:"24",cy:"24",r:"4"}}),i("circle",{attrs:{cx:"36",cy:"24",r:"4"}})])]),t.show_advanced_menu?i("div",{staticClass:"_advanced_menu"},[i("sl-button",{attrs:{variant:"default",size:"small",pill:""}},[t._v(" "+t._s(t.$t("module.label."+t.publimodule.module_type))+" ")]),i("div",{staticClass:"_buttonRow"},[i("button",{staticClass:"u-button",attrs:{type:"button",disabled:!t.publimodule.size||100===t.publimodule.size},on:{click:function(e){return t.updateMeta({size:100})}}},[t._v(" 100% ")]),i("button",{staticClass:"u-button",attrs:{type:"button",disabled:66.6===t.publimodule.size},on:{click:function(e){return t.updateMeta({size:66.6})}}},[t._v(" 66% ")]),i("button",{staticClass:"u-button",attrs:{type:"button",disabled:50===t.publimodule.size},on:{click:function(e){return t.updateMeta({size:50})}}},[t._v(" 50% ")]),i("button",{staticClass:"u-button",attrs:{type:"button",disabled:33.3===t.publimodule.size},on:{click:function(e){return t.updateMeta({size:33.3})}}},[t._v(" 33% ")])]),i("div",{staticClass:"_buttonRow"},[i("button",{staticClass:"u-button",attrs:{type:"button",disabled:!t.publimodule.align||"left"===t.publimodule.align},on:{click:function(e){return t.updateMeta({align:"left"})}}},[i("sl-icon",{attrs:{name:"align-start"}})],1),i("button",{staticClass:"u-button",attrs:{type:"button",disabled:"center"===t.publimodule.align},on:{click:function(e){return t.updateMeta({align:"center"})}}},[i("sl-icon",{attrs:{name:"align-center"}})],1),i("button",{staticClass:"u-button",attrs:{type:"button",disabled:"right"===t.publimodule.align},on:{click:function(e){return t.updateMeta({align:"right"})}}},[i("sl-icon",{attrs:{name:"align-end"}})],1)]),i("div",{staticClass:"_buttonRow"},[i("button",{staticClass:"u-button",attrs:{type:"button"},on:{click:t.duplicateModule}},[t._v(" "+t._s(t.$t("duplicate"))+" ")]),i("button",{staticClass:"u-button",attrs:{type:"button"},on:{click:t.removeModule}},[t._v(" "+t._s(t.$t("remove"))+" ")])])],1):t._e()]),i("span",[t.$listeners.hasOwnProperty("moveDown")&&"last"!==t.module_position&&"alone"!==t.module_position?i("button",{staticClass:"_sideBtns _moveAfter",attrs:{type:"button"},on:{click:function(e){return t.$emit("moveDown")}}},[i("svg",{staticStyle:{transform:"rotate(90deg)"},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 168 168"}},[i("path",{staticStyle:{fill:"currentColor"},attrs:{d:"M78.31,117l14.07-15.31a65.3,65.3,0,0,1,6.15-6.15,47.52,47.52,0,0,1,6.29-4.37H34.17V75.29h70.65a39.1,39.1,0,0,1-6.08-4.37q-2.8-2.46-6.36-6.15L78.31,49.46l13-11.07L131.6,83.21,91.29,128Z"}})])]):t._e()])]):t._e(),i("div",{staticClass:"_content",style:t.media_styles},["mosaic"===t.publimodule.module_type?i("ModuleMosaic",{attrs:{publimodule:t.publimodule,can_edit:t.can_edit,context:t.context,number_of_max_medias:t.number_of_max_medias},on:{updateMeta:t.updateMeta,remove:t.removeModule}}):"carousel"===t.publimodule.module_type?i("ModuleCarousel",{attrs:{publimodule:t.publimodule,can_edit:t.can_edit}}):"text"===t.publimodule.module_type&&t.first_media?i("CollaborativeEditor2",{ref:"textBloc",attrs:{path:t.first_media.$path,content:t.first_media.$content,scrollingContainer:t.$el,line_selected:!1,can_edit:t.can_edit},on:{lineClicked:function(e){return t.$emit("lineClicked",e)},contentIsEdited:function(e){return t.$emit("contentIsEdited",e)},contentIsNotEdited:function(e){return t.$emit("contentIsNotEdited",e)}}}):t.is_shape?[i("svg",{attrs:{viewBox:"0 0 100 100",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg"}},["ellipsis"===t.publimodule.module_type?i("circle",{attrs:{cx:"50",cy:"50",r:"50","vector-effect":"non-scaling-stroke"}}):"rectangle"===t.publimodule.module_type?i("rect",{attrs:{width:"100",height:"100","vector-effect":"non-scaling-stroke",rx:t.borderRadius/2||0,ry:t.borderRadius/2||0}}):"line"===t.publimodule.module_type?i("line",{attrs:{x1:"0",y1:"50",x2:"100",y2:"50","vector-effect":"non-scaling-stroke"}}):"arrow"===t.publimodule.module_type?i("g",[i("line",{attrs:{x1:"0",y1:"50",x2:"100",y2:"50","vector-effect":"non-scaling-stroke"}}),i("g",{attrs:{transform:"\n              translate(100, 50)",preserveAspectRatio:""}},[i("line",{attrs:{x1:"0",y1:"0",x2:"-10",y2:"-10","vector-effect":"non-scaling-stroke"}}),i("line",{attrs:{x1:"0",y1:"0",x2:"-10",y2:"10","vector-effect":"non-scaling-stroke"}})])]):t._e()])]:"free_drawing"===t.publimodule.module_type?void 0:i("small",[t._v(t._s(t.$t("nothing_to_show")))])],2)])},o=[],s=(i(2262),i(4506),i(6699),i(7658),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade_fast",mode:"out-in"}},[i("div",{key:t.is_multiple_medias?"multiple":"single",staticClass:"_moduleMosaic",class:{"is--multipleMedias":t.is_multiple_medias},style:"--number_of_medias: "+t.medias_with_linked.length},[i("div",{staticClass:"_mediaGrid"},[t._l(t.medias_with_linked,(function(e,a){return i("div",{key:e._linked_media.$path,staticClass:"_mediaGrid--item",style:t.itemStyle({media_with_linked:e})},[i("MediaContent",{attrs:{file:e._linked_media,resolution:1600,context:"full"}}),t.can_edit?i("div",{staticClass:"_btnRow"},[(t.is_multiple_medias||"page_by_page"===t.context)&&e.objectFit&&"cover"!==e.objectFit?i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.frameFit({index:a,opt:{objectFit:"cover"}})}}},[t._v(" "+t._s(t.$t("object_fit_cover"))+" ")]):t._e(),!t.is_multiple_medias&&"page_by_page"!==t.context||"contain"===e.objectFit?t._e():i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.frameFit({index:a,opt:{objectFit:"contain"}})}}},[t._v(" "+t._s(t.$t("object_fit_contain"))+" ")]),t.is_multiple_medias?i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.removeMediaAtIndex(a)}}},[t._v(" "+t._s(t.$t("remove"))+" ")]):t._e()]):t._e()],1)})),t.can_edit&&(!t.number_of_max_medias||t.medias_with_linked.length<t.number_of_max_medias)?i("div",{staticClass:"_mediaPickerTile"},[t.show_media_picker?i("MediaPicker",{attrs:{publication_path:t.publication_path},on:{selectMedia:t.selectMedia,close:function(e){t.show_media_picker=!1}}}):i("sl-icon-button",{staticClass:"u-colorBleuvert",attrs:{name:"plus-circle-fill",label:t.$t("add_media")},on:{click:function(e){t.show_media_picker=!0}}}),i("transition",{attrs:{name:"dropzone",duration:150}},[t.show_dropzone&&t.medias_with_linked.length<t.number_of_max_medias?i("div",{staticClass:"_dropzone"},[i("DropZone",{on:{mediaDropped:t.selectMedia}})],1):t._e()])],1):t._e()],2)])])}),r=[],n=i(5390),d={props:{publimodule:Object,can_edit:Boolean,context:String,number_of_max_medias:[Boolean,Number]},components:{MediaPicker:n.Z},data(){return{show_media_picker:!1,show_dropzone:!1}},created(){},mounted(){this.$eventHub.$on("mediadrag.start",this.showDropzone),this.$eventHub.$on("mediadrag.end",this.hideDropzone)},beforeDestroy(){this.$eventHub.$off("mediadrag.start",this.showDropzone),this.$eventHub.$off("mediadrag.end",this.hideDropzone)},watch:{},computed:{publication_path(){return this.publimodule.$path.substring(0,this.publimodule.$path.lastIndexOf("/"))},medias_with_linked(){return this.publimodule.source_medias?this.publimodule.source_medias.map((t=>{const e=this.getSourceMedia({source_media_path:t.path}),i=Object.assign({},t,{_linked_media:e});return i})):[]},is_multiple_medias(){return this.medias_with_linked.length>1}},methods:{selectMedia({path_to_source_media:t}){const e=this.publimodule.source_medias.slice();e.push({path:t}),this.$emit("updateMeta",{source_medias:e}),this.show_media_picker=!1},removeMediaAtIndex(t){const e=this.publimodule.source_medias.slice();e.splice(t,1),0===e.length?this.$emit("remove"):this.$emit("updateMeta",{source_medias:e})},frameFit({index:t,opt:e}){const i=this.publimodule.source_medias.slice();Object.assign(i[t],e),this.$emit("updateMeta",{source_medias:i})},itemStyle({media_with_linked:t}){let e={};return e["--object-fit"]=t.objectFit||"cover",e},showDropzone(){this.show_dropzone=!0},hideDropzone(){this.show_dropzone=!1}}},l=d,c=(i(1836),i(1001)),u=(0,c.Z)(l,s,r,!1,null,"7787b08b",null),h=u.exports,p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._v(" ModuleCarousel "),t._l(t.medias,(function(e){return i("div",{key:e.$path},[e?i("MediaContent",{attrs:{file:e,resolution:1600,context:"full"}}):t._e()],1)}))],2)},m=[],b={props:{publimodule:Object,medias:Array},components:{},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{}},_=b,g=(0,c.Z)(_,p,m,!1,null,"1491e03e",null),f=g.exports,v={props:{publimodule:Object,module_position:String,can_edit:Boolean,borderRadius:Number,context:String,number_of_max_medias:{type:[Boolean,Number],default:!1}},components:{ModuleMosaic:h,ModuleCarousel:f},data(){return{show_advanced_menu:!1}},created(){},mounted(){this.$eventHub.$on(`module.enable_edit.${this.module_meta_filename}`,this.enableEditForText),this.$eventHub.$on(`module.duplicate.${this.module_meta_filename}`,this.duplicateModule),this.$eventHub.$on(`module.remove.${this.module_meta_filename}`,this.removeModule)},beforeDestroy(){this.$eventHub.$off(`module.enable_edit.${this.module_meta_filename}`,this.enableEditForText),this.$eventHub.$off(`module.duplicate.${this.module_meta_filename}`,this.duplicateModule),this.$eventHub.$off(`module.remove.${this.module_meta_filename}`,this.removeModule)},watch:{},computed:{module_meta_filename(){return this.publimodule.$path.split("/").at(-1)},is_shape(){return["ellipsis","rectangle","line","arrow"].includes(this.publimodule.module_type)},first_media(){if(!this.publimodule.source_medias||0===this.publimodule.source_medias.length)return!1;const{path:t}=this.publimodule.source_medias[0];return!!t&&this.getSourceMedia({source_media_path:t})},media_styles(){let t=0;return"center"===this.publimodule.align&&(66.6===this.publimodule.size?t=16.6:50===this.publimodule.size?t=25:33.3===this.publimodule.size&&(t=33.3)),"right"===this.publimodule.align&&(66.6===this.publimodule.size?t=33.3:50===this.publimodule.size?t=50:33.3===this.publimodule.size&&(t=66.6)),{"--module-width":this.publimodule.size||100,"--module-margin-left":t}}},methods:{async updateMeta(t){await this.$api.updateMeta({path:this.publimodule.$path,new_meta:t}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t}))},enableEditForText(){this.$nextTick((()=>{this.$refs.textBloc&&this.$refs.textBloc.enableEditor()}))},async duplicateModule(){let t={};const e=[];for(let{path:a,...o}of this.publimodule.source_medias){let t;if(a.includes("/publications/")){const e=await this.$api.duplicateFile({path:a});t=a.substring(0,a.lastIndexOf("/")+1)+e}else t=a;let i={};i=Object.assign({},o,{path:t}),e.push(i)}t.source_medias=e,"page_by_page"===this.context&&(t.x=(this.publimodule.x||0)+1,t.y=(this.publimodule.y||0)+1);const i=await this.$api.duplicateFile({path:this.publimodule.$path,new_meta:t}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t}));this.$emit("duplicate",i)},async removeModule(){await this.$api.deleteItem({path:this.publimodule.$path}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t})),this.$emit("remove")}}},y=v,w=(i(6816),(0,c.Z)(y,a,o,!1,null,"23a16cd0",null)),x=w.exports},9275:function(t,e,i){"use strict";i.d(e,{Z:function(){return H}});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_singlePage",class:{"is--preview":"list"===t.context,"is--editable":t.can_edit}},[i("div",{staticClass:"_pagecontainer",style:t.page_styles},[i("div",{staticClass:"_pagecontent"},[t.can_edit&&t.show_grid?i("svg",{staticClass:"_grid",attrs:{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg"}},[i("defs",[i("pattern",{attrs:{id:"gridSmall",width:t.gridstep,height:t.gridstep,patternUnits:"userSpaceOnUse"}},[i("path",{attrs:{d:"M "+t.gridstep+" 0 L 0 0 0 "+t.gridstep,fill:"none",stroke:"var(--c-gridlines)",strokeWidth:"1"}})]),i("pattern",{attrs:{id:"grid",width:5*t.gridstep,height:5*t.gridstep,patternUnits:"userSpaceOnUse"}},[i("rect",{attrs:{width:5*t.gridstep,height:5*t.gridstep,fill:"url(#gridSmall)"}}),i("path",{attrs:{d:"M "+5*t.gridstep+" 0 L 0 0 0 "+5*t.gridstep,fill:"none",stroke:"var(--c-gridfiveslines)",strokeWidth:"1"}})])]),i("rect",{attrs:{width:"100%",height:"100%",fill:"url(#grid)"}})]):t._e(),t._l(t.page_modules,(function(e){return i("MoveableItem",{key:e.$path,staticClass:"_item",attrs:{publimodule:e,magnification:t.magnification,gridstep:t.show_grid&&t.snap_to_grid?t.gridstep:1,scale:t.scale,can_edit:t.can_edit,is_active:t.active_module.$path===e.$path}})})),t.can_edit&&Object.keys(t.margins)?i("svg",{staticClass:"_margins",attrs:{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",fill:"transparent"}},[i("rect",{attrs:{x:t.magnify(t.margins.left),y:t.magnify(t.margins.top),width:t.magnify(t.page_width-t.margins.left-t.margins.right),height:t.magnify(t.page_height-t.margins.top-t.margins.bottom)}})]):t._e(),t.can_edit&&t.margins?i("svg",{staticClass:"_pageBorders",attrs:{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",fill:"transparent"}},[i("rect",{attrs:{x:"0",y:"0",width:t.magnify(t.page_width),height:t.magnify(t.page_height),stroke:"black"}})]):t._e()],2)])])},o=[],s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("DDR",{key:t.component_key,staticClass:"_moveableItem",class:{"is--locked":!0===t.publimodule.locked,"is--editable":t.can_edit,"is--active":t.can_edit&&t.is_active,"is--beingEdited":t.content_is_edited,"panzoom-exclude":t.can_edit},style:t.module_z_index,attrs:{active:t.can_edit&&t.is_active&&!0!==t.publimodule.locked&&!0!==t.content_is_edited,value:t.transform,parent:!1,acceptRatio:t.aspect_ratio,handlerSize:15,grid:t.grid,id:t.publimodule.$path,zoom:t.scale},on:{dragend:t.dragEnd,resizestart:t.resizeStart,resizeend:t.resizeEnd,rotateend:t.rotateEnd}},[i("span",{staticClass:"_activator",on:{mousedown:t.setActive,dblclick:t.editText}},[i("PublicationModule",{staticClass:"_moveableItem--content",style:t.module_styles,attrs:{publimodule:t.publimodule,can_edit:t.can_edit&&t.is_active,borderRadius:t.turnCMtoPX(t.publimodule.border_radius)||0,context:"page_by_page",number_of_max_medias:1},on:{duplicate:t.onDuplicateModule,contentIsEdited:t.contentIsEdited,contentIsNotEdited:t.contentIsNotEdited}})],1),t.can_edit?i("div",{staticClass:"_unlockBtn"},[!0===t.publimodule.locked?i("button",{staticClass:"u-button u-button_orange u-button_small u-button_round u-colorBlack",attrs:{type:"button"},on:{click:function(e){return t.unlock()}}},[i("sl-icon",{attrs:{name:"lock"}})],1):t._e(),!t.can_edit||!t.is_active||t.content_is_edited||t.publimodule.locked&&!1!==t.publimodule.locked?t._e():i("button",{staticClass:"u-button u-button_orange u-button_small u-button_round u-colorBlack",attrs:{type:"button"},on:{click:function(e){return t.lock()}}},[i("sl-icon",{attrs:{name:"unlock"}})],1)]):t._e()])},r=[];i(2262),i(4506),i(6699),i(7658),i(1703),i(5827);class n{constructor(t){this._values=t}toString(){return`Vector(${this._values.join(", ")})`}get length(){return this._values.length}dot(t){if(t instanceof n&&this.length===t.length)return this._values.map(((e,i)=>e*t._values[i])).reduce(((t,e)=>t+e));throw Error("The param `vector` must instance of Vector")}get(t){return this._values[t]}}var d=n;class l{constructor(t){this._values=t}static zeros(t){return new l(new Array(t[0]).fill(null).map((()=>new Array(t[1]).fill(0))))}valueOf(){return JSON.parse(JSON.stringify(this._values))}toString(){return"Matrix ( "+this._values.map((t=>t.join(" "))).join(", ")+" )"}rows(){return this._values.length}cols(){return this._values[0].length}rowVector(t){return new d(this._values[t].slice(0))}colVector(t){let e=new Array(this.rows()).fill(0);return this._values.forEach(((i,a)=>{e[a]=i[t]})),new d(e)}dot(t){if(t instanceof d&&this.cols()===t.length)return new d(new Array(t.length).fill(null).map(((e,i)=>this.rowVector(i).dot(t))));if(t instanceof l&&this.cols()===t.rows()){let e,i=t.cols(),a=t.rows(),o=l.zeros([a,i]);for(let s=0;s<i;s++){e=this.dot(t.colVector(s));for(let t=0;t<a;t++)o._values[t][s]=e.get(t)}return o}throw Error("expected a Vector or Matrix but got "+typeof t)}get(t,e){return this._values[t][e]}T(){return new l(new Array(this.cols()).fill(null).map(((t,e)=>new Array(this.rows()).fill(0).map(((t,i)=>this.get(i,e))))))}}var c=l;const u={br:0,bm:1,bl:2,l:3,tl:4,tm:5,tr:6,r:7},h={tl:0,tm:1,tr:2,r:3,br:4,bm:5,bl:6,l:7},p={br:0,bm:0,bl:2,l:2,tl:4,tm:4,tr:6,r:6},m={l:1,r:1},b={tm:1,bm:1},_={tr:1,bl:1,r:1,l:1};function g(t){return t*Math.PI/180}function f(t){return 180*t/Math.PI}function v({x:t,y:e,width:i,height:a,rotation:o},s){let r=o*Math.PI/180,n=i/2*s,d=a/2*s,l=new c([[Math.cos(r),Math.sin(r)],[-Math.sin(r),Math.cos(r)]]),u=new c([[-n,d],[0,d],[n,d],[n,0],[n,-d],[0,-d],[-n,-d],[-n,0]]);return l.dot(u.T()).T().valueOf().map((i=>({x:i[0]+n+t*s,y:-(i[1]-d)+e*s})))}function y({type:t,x:e,y:i,dis:a,pressAngle:o,startAngle:s}){let r,n,d=f(Math.atan2(i,e)),l=g(o+d-s);return _[t]?(n=Math.cos(l)*a,r=Math.sin(l)*a):(n=Math.sin(l)*a,r=Math.cos(l)*a),{w:r,h:n}}const w=["nw","n","ne","e","se","s","sw","w"],x={tl:0,tm:1,tr:2,r:3,br:4,bm:5,bl:6,l:7};function M(t,e){let i=x[t],a=(i+Math.floor(e/45))%8;return w[a]}var k,$,z={name:"ddr",props:{value:{default:function(){return{x:0,y:0,width:100,height:100,rotation:0}},type:Object},handlerSize:{type:Number,default:11},active:{default:!0,type:Boolean},resizeHandler:{default:function(){return["tl","tm","tr","r","br","bm","bl","l"]},type:Array},resizable:{default:!0,type:Boolean},rotatable:{default:!0,type:Boolean},draggable:{default:!0,type:Boolean},acceptRatio:{default:!1,type:Boolean},minWidth:{type:Number,default:1},minHeight:{type:Number,default:1},maxWidth:{type:Number,default:1e8},maxHeight:{type:Number,default:1e8},parent:{type:Boolean,default:!1},beforeActive:{type:Function,default:()=>!1},id:[Number,String],renderContent:Function,grid:{type:Array,default:()=>[1,1]},stop:{default:!0,type:Boolean},prevent:{default:!0,type:Boolean},zoom:{default:1,type:Number},axis:{type:String,default:"xy"}},data(){return{transform:Object.assign({},this.value),currentRatio:1,isInitialRatio:!1,isDragging:!1,isResizing:!1,isRotating:!1,isReadyToDrag:!1,isReadyToResize:!1,isReadyToRotate:!1}},created(){this.localeTransform={...this.transform}},watch:{value(t){this.transform={...t}}},computed:{rotateHandler(){let t=Math.ceil(this.handlerSize/this.zoom)+"px";return`width:${t};height:${t};top:-25px;margin-left:${-Math.floor(this.handlerSize/2)}px`},style(){let t=this.transform;return`left:${t.x}px;top:${t.y}px;width:${t.width}px;height:${t.height}px;transform:rotate(${t.rotation}deg)`}},methods:{handleDefaultEvent(t){this.stop&&t.stopPropagation(),this.prevent&&t.preventDefault()},getNewHandler(t){let e=M(t,this.transform.rotation),{handlerSize:i}=this,a={},o=-Math.floor(i/2)+"px";switch(t){case"tl":a={top:o,left:o};break;case"tm":a={top:o,"margin-left":o};break;case"tr":a={right:o,top:o};break;case"r":a={right:o,"margin-top":o};break;case"br":a={bottom:o,right:o};break;case"bm":a={"margin-left":o,bottom:o};break;case"bl":a={left:o,bottom:o};break;case"l":a={"margin-top":o,left:o};break}let s={cursor:e+"-resize",width:Math.ceil(i/this.zoom)+"px",height:Math.ceil(i/this.zoom)+"px",...a};return Object.keys(s).map((t=>`${t}:${s[t]}`)).join(";")},emitChange(){this.$emit("input",{...this.transform})},handleMouseDown(t){if(!this.active&&!this.beforeActive(this.id))return;this.handleDefaultEvent(t);let e=t.touches?t.touches[0]:t,{clientX:i,clientY:a}=e;if(this._lastX=i,this._lastY=a,this._activeTarget=t.target,this._parentRect=this.$refs.wrapper.parentNode.getBoundingClientRect(),this._resizeHandler=t.target.dataset.resizetype,this.localeTransform={...this.transform},this.parent){let t=0,e=this._parentRect.width/this.zoom-this.transform.width,i=0,a=this._parentRect.height/this.zoom-this.transform.height,o=this.transform.x+this.transform.width,s=this._parentRect.width/this.zoom-this.transform.x,r=this.transform.y+this.transform.height,n=this._parentRect.height/this.zoom-this.transform.y;this.bounday={minLeft:t,maxLeft:e,minTop:i,maxTop:a,maxLeftWidth:o,maxRightWidth:s,maxTopHeight:r,maxBottomHeight:n}}document.addEventListener("mousemove",this.handleMouseMove,!1),document.addEventListener("touchmove",this.handleMouseMove,!1),document.addEventListener("touchend",this.handleMouseUp,!1),document.addEventListener("mouseup",this.handleMouseUp,!1),"rotate"===t.target.dataset.type?(this._handlerType="rotate",this.isReadyToRotate=!0,this.handleRotateStart(t),this.$emit("rotatestart",t,this.transform)):this._activeTarget.dataset.resizetype?(this._handlerType="resize",this.isReadyToResize=!0,this.handleResizeStart(t),this.$emit("resizestart",t,this.transform)):(this._handlerType="drag",this.isReadyToDrag=!0,this.draggable&&this.$emit("dragstart",t,this.transform))},handleMouseMove(t){this.handleDefaultEvent(t);let{clientX:e,clientY:i}=t.touches?t.touches[0]:t;this.isReadyToDrag=!1,this.isReadyToResize=!1,this.isReadyToRotate=!1,this._deltaX=e-this._lastX,this._deltaY=i-this._lastY,this._lastX=e,this._lastY=i,"resize"===this._handlerType?(this.isResizing=!0,this.handleResizeMove(t),this.$emit("resize",t,this.transform)):"drag"===this._handlerType&&this.draggable?(this.isDragging=!0,this.doMove(t),this.$emit("drag",t,this.transform)):"rotate"===this._handlerType&&(this.isRotating=!0,this.handleRotateMove(t),this.$emit("rotate",t,this.transform)),this.emitChange()},doMove(){let[t,e]=this.grid,i=this._deltaX/this.zoom,a=this._deltaY/this.zoom,o=this.localeTransform.x=Math.round(this.localeTransform.x+i),s=this.localeTransform.y=Math.round(this.localeTransform.y+a);this.axis.includes("x")&&(o>this.transform.x?this.transform.x=this.restrictToLeftOfParent(o-o%t):o<this.transform.x&&(this.transform.x=this.restrictToLeftOfParent(o-(o%t-t)))),this.axis.includes("y")&&(s>this.transform.y?this.transform.y=this.restrictToTopOfParent(s-s%e):s<this.transform.y&&(this.transform.y=this.restrictToTopOfParent(s-(s%e-e))))},restrictToLeftOfParent(t){return this.parent?(t=Math.max(this.bounday.minLeft,t),t=Math.min(this.bounday.maxLeft,t),t):t},restrictToTopOfParent(t){return this.parent?(t=Math.max(this.bounday.minTop,t),t=Math.min(this.bounday.maxTop,t),t):t},restrictHeight(t,e){return!this.parent||this.transform.rotation>0?t:["bl","bm","br"].includes(e)?Math.min(this.bounday.maxBottomHeight,t):["tl","tm","tr"].includes(e)?Math.min(this.bounday.maxTopHeight,t):t},restrictWidth(t,e){return!this.parent||this.transform.rotation>0?t:["tl","l","bl"].includes(e)?Math.min(this.bounday.maxLeftWidth,t):["tr","r","br"].includes(e)?Math.min(this.bounday.maxRightWidth,t):t},handleMouseUp(t){this.handleDefaultEvent(t),document.removeEventListener("mousemove",this.handleMouseMove,!1),document.removeEventListener("mouseup",this.handleMouseUp,!1),document.removeEventListener("touchmove",this.handleMouseMove,!1),document.removeEventListener("touchend",this.handleMouseUp,!1);let e={drag:"draggable",resize:"resizable",rotate:"rotatable"};this.isInitialRatio=this.isDragging=this.isResizing=this.isRotating=!1,this.isReadyToDrag=this.isReadyToResize=this.isReadyToRotate=!1,this[e[this._handlerType]]&&this.$emit(this._handlerType+"end",t,this.transform)},handleResizeStart(t){let e,i=this._resizeHandler,a=this.transform,o=v(a,this.zoom),s=o[u[i]],r=o[p[i]],{clientX:n,clientY:d}=t.touches?t.touches[0]:t,l=o[h[i]],c=n-l.x,g=d-l.y,y=n-r.x-c,w=d-r.y-g,x=a.width,M=a.height;e=_[i]?f(Math.atan2(x,m[i]?M/2:M)):f(Math.atan2(M,b[i]?x/2:x));let k=f(Math.atan2(w,y));this._resizeOpt={matrix:o,rect:a,type:i,opposite:s,opp2:r,pressAngle:e,startAngle:k,offsetX:c,offsetY:g}},handleResizeMove(t){let{clientX:e,clientY:i}=t.touches?t.touches[0]:t,{opposite:a,opp2:o,type:s,pressAngle:r,startAngle:n,offsetX:d,offsetY:l}=this._resizeOpt,c=e-o.x-d,h=i-o.y-l,p=Math.hypot(h,c),_=t.shiftKey||this.acceptRatio,[g,f]=this.grid;!this.isInitialRatio&&_&&(this.currentRatio=this.transform.width/this.transform.height,this.isInitialRatio=!0),_||(this.isInitialRatio=!1);let{w:w,h:x}=y({type:s,dis:p,x:c,y:h,startAngle:n,pressAngle:r}),M={...this.localeTransform};this.isInitialRatio&&(m[s]?x=w/this.currentRatio:w=x*this.currentRatio),w/=this.zoom,x/=this.zoom,w=Math.min(Math.max(Math.round(w),this.minWidth),this.maxWidth),x=Math.min(Math.max(Math.round(x),this.minHeight),this.maxHeight),m[s]&&!_?M.width=w:(b[s]&&!_||(M.width=w),M.height=x);let k=this._resizeHandler;M.width%g>0&&(M.width>this.localeTransform.width?M.width=M.width-M.width%g:M.width=M.width-(M.width%g-g)),M.height%f>0&&(M.height>this.localeTransform.height?M.height=M.height-M.height%f:M.height=M.height-(M.height%f-f)),M.height=this.restrictHeight(M.height,k),M.width=this.restrictWidth(M.width,k);let $=v(M,this.zoom),z=$[u[s]],C=-(z.x-a.x)/this.zoom,R=-(z.y-a.y)/this.zoom;M.x=Math.round(M.x+C),M.y=Math.round(M.y+R),this.transform=M},handleRotateStart(t){let{clientX:e,clientY:i}=t.touches?t.touches[0]:t,a=this.$refs.wrapper.getBoundingClientRect(),o=a.left+a.width/2,s=a.top+a.height/2,r=180/Math.PI*Math.atan2(i-s,e-o),n=this.transform.rotation;this._rotateOpt={cx:o,cy:s,startAngle:r,rotation:n}},handleRotateMove(t){let{cx:e,cy:i,startAngle:a,rotation:o}=this._rotateOpt,{clientX:s,clientY:r}=t.touches?t.touches[0]:t,n=s-e,d=r-i,l=180/Math.PI*Math.atan2(d,n),c=l-a,u=o+c;u%=360,u=u<0?u+360:u,u=this.roundRotate(u),this.transform.rotation=Math.floor(u)},roundRotate(t){const e=5;return t>360-e||t<0+e?0:t>90-e&&t<90+e?90:t>180-e&&t<180+e?180:t>270-e&&t<270+e?270:t},getClassNames(){const t=["yoyoo-ddr"];return this.active&&t.push("active"),this.isDragging&&t.push("ddr-dragging"),this.isResizing&&t.push("ddr-resizing"),this.isRotating&&t.push("ddr-rotating"),this.isReadyToDrag&&t.push("ddr-ready-drag"),this.isReadyToResize&&t.push("ddr-ready-resize"),this.isReadyToRotate&&t.push("ddr-ready-rotate"),t}},render(){const t=arguments[0];return t("div",{ref:"wrapper",style:this.style,class:this.getClassNames(),on:{touchstart:this.handleMouseDown,mousedown:this.handleMouseDown}},[this.renderContent?this.renderContent(this):this.$slots.default,this.resizable&&t("div",{class:"resize-handler-wrapper"},[this.resizeHandler.map((e=>t("span",{attrs:{"data-resizetype":e},key:e,style:this.getNewHandler(e),class:`resize-handler ${e}`})))]),this.rotatable&&t("span",{style:this.rotateHandler,attrs:{"data-type":"rotate"},class:"rotate-handler"})])}},C=z,R=(i(2046),i(1001)),T=(0,R.Z)(C,k,$,!1,null,null,null),j=T.exports,I=(i(3382),i(3873)),P={name:"app",props:{publimodule:Object,can_edit:Boolean,magnification:Number,gridstep:Number,scale:Number,is_active:Boolean},components:{DDR:j,PublicationModule:I.Z},data(){return{transform:{x:0,y:0,width:300,height:300,rotation:0},component_key:1,aspect_ratio:!0,content_is_edited:!1}},created(){this.setTransformFromPubli(),this.setNewComponentKey()},mounted(){this.$eventHub.$on(`module.panTo.${this.publimodule.$path}`,this.panTo),this.$eventHub.$on(`module.enable_edit.${this.module_meta_filename}`,this.setActive)},beforeDestroy(){this.$eventHub.$off(`module.panTo.${this.publimodule.$path}`,this.panTo),this.$eventHub.$off(`module.enable_edit.${this.module_meta_filename}`,this.setActive)},watch:{publimodule:{handler(){const t=this.setTransformFromPubli();t&&this.setNewComponentKey()},deep:!0},magnification(){const t=this.setTransformFromPubli();t&&this.setNewComponentKey()},is_active(){this.is_active||this.contentIsNotEdited()}},computed:{module_meta_filename(){return this.publimodule.$path.split("/").at(-1)},grid(){return[this.gridstep,this.gridstep]},module_z_index(){return`\n        z-index: ${this.publimodule.z_index?this.publimodule.z_index:0}\n      `},module_styles(){return{"--set-fontSize":(this.publimodule.text_size||100)+"%","--set-margins":(this.turnCMtoPX(this.publimodule.margins)||0)+"px","--set-opacity":this.publimodule.opacity||1,"--set-borderRadius":(this.turnCMtoPX(this.publimodule.border_radius)||0)+"px","--set-backgroundColor":this.publimodule.background_color||"transparent","--set-outlineColor":this.publimodule.outline_color||"black","--set-outlineWidth":(this.turnCMtoPX(this.publimodule.outline_width)||0)+"px"}}},methods:{setNewComponentKey(){this.component_key=(new Date).getTime()},setTransformFromPubli(){let t=!1;return Object.keys(this.transform).map((e=>{if("number"===typeof this.publimodule[e])if(["x","y","width","height"].includes(e)){const i=this.turnCMtoPX(this.publimodule[e]);this.transform[e]!==i&&(this.transform[e]=i,t=!0)}else"rotation"===e&&this.transform[e]!==this.publimodule[e]&&(this.transform[e]=this.publimodule[e],t=!0)})),t},turnCMtoPX(t){return!!t&&this.roundToDec(t*this.magnification)},turnPXtoCM(t){return this.roundToDec(t/this.magnification)},contentIsEdited(t){this.$eventHub.$emit("module.text_editing_enabled",t),this.content_is_edited=!0},contentIsNotEdited(){this.$eventHub.$emit("module.text_editing_disabled"),this.content_is_edited=!1},roundToDec(t){return Math.round(100*(t+Number.EPSILON))/100},firstMedia(t){if(!t)return!1;try{const e=t.source_medias[0].path;return this.getSourceMedia({source_media_path:e})}catch(e){return!1}},dragEnd(t,e){return JSON.stringify(e)!==JSON.stringify(this.transform)&&((this.turnPXtoCM(e.x)!==this.turnPXtoCM(this.transform.x)||this.turnPXtoCM(e.y)!==this.turnPXtoCM(this.transform.y))&&(this.updateTransform(e),void t.stopPropagation()))},resizeStart(t,e){return t.target.classList.contains("br")||t.target.classList.contains("bl")||t.target.classList.contains("tl")||t.target.classList.contains("tr")?this.aspect_ratio=!0:this.aspect_ratio=!1},resizeEnd(t,e){if(JSON.stringify(e)===JSON.stringify(this.transform))return!1;this.updateTransform(e),t.stopPropagation()},rotateEnd(t,e){if(JSON.stringify(e)===JSON.stringify(this.transform))return!1;this.updateTransform(e),t.stopPropagation()},async updateTransform(t){let e=JSON.parse(JSON.stringify(t));Object.keys(e).map((t=>{e[t]!==this.transform[t]?["x","y","width","height"].includes(t)?(e[t]=this.turnPXtoCM(e[t]),this.transform[t]=this.turnCMtoPX(e[t])):this.transform[t]=this.turnCMtoPX(this.turnPXtoCM(e[t])):delete e[t]})),await this.updateModuleMeta({new_meta:e})},panTo(){this.$eventHub.$emit("panzoom.panTo",{x:this.transform.x,y:this.transform.y})},setActive(t){return!this.is_active&&(this.content_is_edited?t.stopPropagation():void(this.can_edit&&!this.is_active&&!0!==this.publimodule.locked&&this.$eventHub.$emit("module.setActive",this.publimodule.$path)))},editText(){if(!this.is_active)return;const t=this.firstMedia(this.publimodule);if(!t||"text"!==t.$type)return;const e=this.publimodule.$path.substring(this.publimodule.$path.lastIndexOf("/")+1);this.$eventHub.$emit(`module.enable_edit.${e}`)},async lock(){const t={locked:!0};await this.updateModuleMeta({new_meta:t}),this.$eventHub.$emit("module.setActive",!1)},async unlock(){const t={locked:!1};await this.updateModuleMeta({new_meta:t}),setTimeout((()=>{this.setActive()}),100)},async updateModuleMeta({new_meta:t}){await this.$api.updateMeta({path:this.publimodule.$path,new_meta:t}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t}))},onDuplicateModule(t){const e=this.publimodule.$path.substring(0,this.publimodule.$path.lastIndexOf("/")+1)+t;setTimeout((()=>{this.$eventHub.$emit("module.setActive",e)}),100)}}},E=P,S=(i(791),(0,R.Z)(E,s,r,!1,null,"77810b9e",null)),O=S.exports,B={props:{context:String,page_modules:Array,page_width:Number,page_height:Number,page_color:String,zoom:{type:Number,default:1},scale:{type:Number,default:1},show_grid:{type:Boolean,default:!1},snap_to_grid:{type:Boolean,default:!1},gridstep_in_cm:Number,margins:Object,can_edit:Boolean,active_module:[Boolean,Object]},components:{MoveableItem:O},data(){return{items:[{src:"images/i_add_publi.svg"},{src:"images/i_add.svg"}]}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{gridstep(){return this.gridstep_in_cm?this.magnify(this.gridstep_in_cm):0},magnification(){return this.$root.page_magnification},page_styles(){const t={};return this.page_width&&this.page_height&&(t["--page-width"]=`${this.magnify(this.page_width)}px`,t["--page-height"]=`${this.magnify(this.page_height)}px`),t["--zoom"]=this.zoom,t["--page-color"]=this.page_color||"#fff",t}},methods:{magnify(t){return t*this.magnification}}},N=B,D=(i(2318),(0,R.Z)(N,a,o,!1,null,"927af5d2",null)),H=D.exports},1353:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return c}});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_publicationView"},[i("transition",{attrs:{name:"fade_fast",mode:"out-in"}},[t.project&&t.publication?t.fetch_project_error?i("div",{key:"err"},[t._v(" "+t._s(t.fetch_project_error)+" ")]):i("div",{key:"publication",style:t.page_size},["page_by_page"===t.publication.template?i("div",{staticClass:"_pages"},t._l(t.pages,(function(e){return i("div",{key:"page-"+e.id,staticClass:"_page"},[i("SinglePage",{attrs:{context:"full",page_modules:t.getModulesForPage({modules:t.modules,page_id:e.id}),page_color:e.page_color,can_edit:!1}})],1)})),0):t._e()]):i("div",{key:"loader",staticClass:"u-divCentered"},[i("LoaderSpinner")],1)])],1)},o=[],s=i(9275),r={props:{},components:{SinglePage:s.Z},data(){return{fetch_project_error:null,project:null,publication:null,projectpanes:[]}},created(){},async mounted(){await this.listProject(),this.$eventHub.$emit("received.project",this.project),await this.listPublication(),document.body.style=`\n      --page-width: ${this.publication.page_width}cm;\n      --page-height: calc(${this.publication.page_height}cm - 0.2mm);\n    `},beforeDestroy(){},watch:{},computed:{project_path(){return`/projects/${this.$route.params.project_slug}`},publication_path(){return`${this.project_path}/publications/${this.$route.params.publication_slug}`},pages(){return this.publication.pages},modules(){return this.publication.$files||[]}},methods:{async listProject(){const t=await this.$api.getFolder({path:this.project_path}).catch((t=>{this.fetch_project_error=t.response,this.is_loading=!1}));this.project=t},async listPublication(){const t=await this.$api.getFolder({path:this.publication_path}).catch((t=>{this.fetch_publication_error=t.response}));this.publication=t}}},n=r,d=(i(2851),i(305),i(1001)),l=(0,d.Z)(n,a,o,!1,null,"7c70b987",null),c=l.exports},2262:function(t,e,i){"use strict";var a=i(2109),o=i(7908),s=i(6244),r=i(9303),n=i(1223);a({target:"Array",proto:!0},{at:function(t){var e=o(this),i=s(e),a=r(t),n=a>=0?a:i+a;return n<0||n>=i?void 0:e[n]}}),n("at")},4506:function(t,e,i){"use strict";var a=i(2109),o=i(1702),s=i(4488),r=i(9303),n=i(1340),d=i(7293),l=o("".charAt),c=d((function(){return"\ud842"!=="ð ®·".at(-2)}));a({target:"String",proto:!0,forced:c},{at:function(t){var e=n(s(this)),i=e.length,a=r(t),o=a>=0?a:i+a;return o<0||o>=i?void 0:l(e,o)}})},1533:function(t,e,i){"use strict";i.r(e);var a=i(8081),o=i.n(a),s=i(3645),r=i.n(s),n=r()(o());n.push([t.id,".yoyoo-ddr{position:absolute}.yoyoo-ddr .resize-handler.tm{left:50%}.yoyoo-ddr .resize-handler.r{top:50%}.yoyoo-ddr .resize-handler.bm{left:50%}.yoyoo-ddr .resize-handler.l{top:50%;cursor:pointer}.yoyoo-ddr .resize-handler,.yoyoo-ddr .rotate-handler{display:none;position:absolute;border:1px solid #607d8b;background:#fff;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:50%}.yoyoo-ddr .rotate-handler{left:50%;cursor:crosshair}.yoyoo-ddr.active{border:1px dashed #607d8b}.yoyoo-ddr.active>.resize-handler-wrapper>.resize-handler,.yoyoo-ddr.active>.rotate-handler{display:inline-block}.yoyoo-ddr .bl,.yoyoo-ddr .br,.yoyoo-ddr .tl,.yoyoo-ddr .tr{background:#607d8b}",""]),e["default"]=n},6821:function(t,e,i){"use strict";i.r(e);var a=i(8081),o=i.n(a),s=i(3645),r=i.n(s),n=r()(o());n.push([t.id,"._mediaPicker[data-v-56e5056c]{width:100%;margin:0 auto}._addMediaBtn[data-v-56e5056c]{text-align:center;padding:calc(var(--spacing)*1)}",""]),e["default"]=n},9731:function(t,e,i){"use strict";i.r(e);var a=i(8081),o=i.n(a),s=i(3645),r=i.n(s),n=r()(o());n.push([t.id,"._moduleMosaic[data-v-7787b08b]{--number_of_medias:1;position:relative}._mediaGrid[data-v-7787b08b]{position:relative;width:100%}._moduleMosaic.is--multipleMedias ._mediaGrid[data-v-7787b08b]{display:flex;flex-flow:row nowrap;gap:calc(var(--spacing)/4);transition:flex .25s cubic-bezier(.19,1,.22,1)}._mediaGrid>._mediaGrid--item[data-v-7787b08b]{position:relative;transition:flex .25s cubic-bezier(.19,1,.22,1)}._moduleMosaic.is--multipleMedias ._mediaGrid>._mediaGrid--item[data-v-7787b08b]{aspect-ratio:1/1;overflow:hidden;background:var(--c-gris_clair);flex:1 1 calc(100%/var(--number_of_medias))}._moduleMosaic.is--multipleMedias ._mediaGrid>._mediaGrid--item[data-v-7787b08b]  ._mediaContent{width:100%;height:100%}._moduleMosaic.is--multipleMedias ._mediaGrid>._mediaGrid--item[data-v-7787b08b]  ._mediaContent ._mediaContent--image,._moduleMosaic.is--multipleMedias ._mediaGrid>._mediaGrid--item[data-v-7787b08b]  ._mediaContent .plyr--video{position:absolute;height:100%;width:100%;-o-object-fit:cover;object-fit:cover;-o-object-fit:var(--object-fit);object-fit:var(--object-fit)}._mediaPickerTile[data-v-7787b08b]{position:absolute;top:0;left:auto;right:0;display:flex;place-content:center;height:100%;align-items:center;pointer-events:none}._mediaPickerTile>*[data-v-7787b08b]{pointer-events:auto}._btnRow[data-v-7787b08b]{position:absolute;padding:calc(var(--spacing)/2);top:0;right:0;left:auto;z-index:100;display:flex;flex-flow:row wrap;gap:calc(var(--spacing)/2)}._btnRow button[data-v-7787b08b]{border-radius:4px;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.8)}._dropzone[data-v-7787b08b]{position:absolute;width:100%;height:100%}._dropzone[data-v-7787b08b]  ._dropNotice{transform:rotate(-90deg)}sl-icon-button[data-v-7787b08b]::part(base){font-size:1.5em;color:var(--c-bleuvert)}",""]),e["default"]=n},28:function(t,e,i){"use strict";i.r(e);var a=i(8081),o=i.n(a),s=i(3645),r=i.n(s),n=r()(o());n.push([t.id,"._publicationModule[data-v-23a16cd0]{position:relative;padding:0 calc(var(--spacing)*1)}._publicationModule.is--shape ._content[data-v-23a16cd0],._publicationModule.is--shape svg[data-v-23a16cd0]{overflow:visible;stroke-linejoin:bevel;stroke-linecap:round}._publicationModule.is--shape svg[data-v-23a16cd0]{width:100%;height:100%}._publicationModule ._content[data-v-23a16cd0]{width:calc(var(--module-width)*1%);margin-left:calc(var(--module-margin-left)*1%);transition:all .4s cubic-bezier(.19,1,.22,1)}._sideOptions[data-v-23a16cd0]{position:absolute;top:0;height:100%;right:100%;background:var(--active-color);pointer-events:none;display:flex;flex-flow:column nowrap;justify-content:space-between;--side-width:24px;width:var(--side-width);border-radius:calc(var(--side-width)/2)}._sideOptions.is--pageByPage[data-v-23a16cd0]{display:none}._sideOptions>*[data-v-23a16cd0]{pointer-events:auto}._sideBtns[data-v-23a16cd0]{display:block;width:var(--side-width);height:var(--side-width);padding:0;border-radius:calc(var(--side-width)/2);background:transparent}._sideBtns[data-v-23a16cd0]:focus,._sideBtns[data-v-23a16cd0]:hover{background:rgba(0,0,0,.1)}._advanced_menu[data-v-23a16cd0]{position:absolute;z-index:10;left:100%;top:50%;transform:translateY(-50%);background:#fff;background:var(--active-color);flex-flow:column nowrap}._advanced_menu[data-v-23a16cd0],._menu[data-v-23a16cd0]{padding:calc(var(--spacing)/2);display:flex;gap:calc(var(--spacing)/4)}._menu[data-v-23a16cd0]{width:100%;justify-content:flex-end}._menu.is--overlaid[data-v-23a16cd0]{position:absolute;top:0;right:0;z-index:10}._options[data-v-23a16cd0]{position:relative}._buttonRow[data-v-23a16cd0]{display:flex;gap:calc(var(--spacing)/4)}",""]),e["default"]=n},8381:function(t,e,i){"use strict";i.r(e);var a=i(8081),o=i.n(a),s=i(3645),r=i.n(s),n=r()(o());n.push([t.id,'._moveableItem.is--locked[data-v-77810b9e]{pointer-events:none}._moveableItem.is--editable[data-v-77810b9e]  .u-floatingFsButton{display:none}._moveableItem.is--editable[data-v-77810b9e]:not(.is--beingEdited):not(.is--locked){cursor:pointer;cursor:grab}._moveableItem.is--editable[data-v-77810b9e]:hover:not(.is--locked){outline:2px dotted var(--c-noir)}._moveableItem.is--beingEdited[data-v-77810b9e]{outline:2px dotted var(--c-orange)!important}._moveableItem.yoyoo-ddr:not(.is--beingEdited).active[data-v-77810b9e]{border:none;outline:2px dotted var(--c-orange)!important}._moveableItem.yoyoo-ddr:not(.is--beingEdited).active[data-v-77810b9e]  .bl,._moveableItem.yoyoo-ddr:not(.is--beingEdited).active[data-v-77810b9e]  .br,._moveableItem.yoyoo-ddr:not(.is--beingEdited).active[data-v-77810b9e]  .tl,._moveableItem.yoyoo-ddr:not(.is--beingEdited).active[data-v-77810b9e]  .tr{background:var(--c-orange)}._moveableItem.yoyoo-ddr:not(.is--beingEdited).ddr-dragging[data-v-77810b9e]{cursor:-moz-grabbing;cursor:dragging}._moveableItem--content[data-v-77810b9e]{height:100%;padding:0;transition:all .2s cubic-bezier(.19,1,.22,1)}._moveableItem--content[data-v-77810b9e]  ._content{height:100%;overflow:hidden}._moveableItem--content[data-v-77810b9e]  ._content ._mediaContent,._moveableItem--content[data-v-77810b9e]  ._content ._mediaGrid,._moveableItem--content[data-v-77810b9e]  ._content ._mediaGrid--item,._moveableItem--content[data-v-77810b9e]  ._content ._moduleMosaic{height:100%}._moveableItem--content[data-v-77810b9e]  ._content ._mediaContent--image{position:absolute;width:100%;height:100%;-o-object-fit:var(--object-fit,cover);object-fit:var(--object-fit,cover);-o-object-position:center;object-position:center}._moveableItem--content[data-v-77810b9e]  ._content .plyr__poster{background-size:var(--object-fit,cover);background-position:50%;background-color:transparent}._moveableItem--content[data-v-77810b9e]  ._content .plyr--video,._moveableItem--content[data-v-77810b9e]  ._content .plyr__video-wrapper{background-color:transparent}._moveableItem--content[data-v-77810b9e]  ._content .plyr__video-wrapper video{-o-object-fit:var(--object-fit,cover);object-fit:var(--object-fit,cover);-o-object-position:center;object-position:center}._moveableItem--content[data-v-77810b9e]  ._content .plyr--video{min-width:50px}._moveableItem[data-v-77810b9e]  ._publicationModule:not(.is--shape) .ql-editor{font-size:var(--set-fontSize)}._moveableItem[data-v-77810b9e]  ._publicationModule:not(.is--shape) ._mediaContent--image,._moveableItem[data-v-77810b9e]  ._publicationModule:not(.is--shape) ._mediaContent[data-filetype=audio],._moveableItem[data-v-77810b9e]  ._publicationModule:not(.is--shape) ._mediaContent[data-filetype=video],._moveableItem[data-v-77810b9e]  ._publicationModule:not(.is--shape) .ql-editor{padding:var(--set-margins);opacity:var(--set-opacity);border-radius:var(--set-borderRadius);overflow:hidden;background:var(--set-backgroundColor);border-color:var(--set-outlineColor);border-width:var(--set-outlineWidth);border-style:solid}._moveableItem[data-v-77810b9e]  ._publicationModule.is--shape{padding:var(--set-margins);opacity:var(--set-opacity);fill:var(--set-backgroundColor);stroke:var(--set-outlineColor);stroke-width:var(--set-outlineWidth)}._moveableItem.is--editable:not(.is--beingEdited):not(.is--locked) ._activator[data-v-77810b9e]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:var(--c-orange_clair);opacity:0;transition:opacity .4s cubic-bezier(.19,1,.22,1)}._moveableItem.is--editable:not(.is--beingEdited):not(.is--locked) ._activator[data-v-77810b9e]:hover:after{opacity:.15}._coords[data-v-77810b9e]{bottom:0;background:#fff;margin:calc(var(--spacing)*1)}._coords[data-v-77810b9e],._unlockBtn[data-v-77810b9e]{position:absolute;left:0}._unlockBtn[data-v-77810b9e]{top:0;width:100%;pointer-events:none;padding:calc(var(--spacing)/2);display:flex;justify-content:flex-start}._unlockBtn>*[data-v-77810b9e]{pointer-events:auto}',""]),e["default"]=n},2084:function(t,e,i){"use strict";i.r(e);var a=i(8081),o=i.n(a),s=i(3645),r=i.n(s),n=r()(o());n.push([t.id,"._pagecontainer[data-v-927af5d2]{width:calc(var(--page-width));height:calc(var(--page-height));padding:0;margin:calc(var(--spacing)*4);transform:scale(var(--zoom));transform-origin:0 0;transition:all .4s cubic-bezier(.19,1,.22,1)}.is--preview ._pagecontainer[data-v-927af5d2]{width:calc(var(--page-width)*var(--zoom));height:calc(var(--page-height)*var(--zoom));transform-origin:left top;margin:0 auto;padding:0}._pagecontent[data-v-927af5d2]{display:block;position:relative;z-index:0;margin:0 auto;width:var(--page-width,10cm);height:var(--page-height,10cm);background:var(--page-color,#fff);overflow:hidden;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);transition:background .4s cubic-bezier(.19,1,.22,1)}._singlePage.is--editable ._pagecontent[data-v-927af5d2]{overflow:visible}._grid[data-v-927af5d2]{position:absolute;top:0;width:100%;height:100%;pointer-events:none;opacity:.6;z-index:-10000;--c-gridlines:#aaa;--c-gridfiveslines:#111}._margins[data-v-927af5d2],._pageBorders[data-v-927af5d2]{position:absolute;top:0;width:100%;height:100%;pointer-events:none;stroke-width:2px}._margins[data-v-927af5d2]{stroke:#cb68fd}",""]),e["default"]=n},9949:function(t,e,i){"use strict";i.r(e);var a=i(8081),o=i.n(a),s=i(3645),r=i.n(s),n=r()(o());n.push([t.id,"@media screen{._pages[data-v-7c70b987]{display:flex;justify-content:center;flex-flow:column nowrap;align-items:center;gap:calc(var(--spacing)*2);padding:calc(var(--spacing)*2)}}._page[data-v-7c70b987]{page-break-inside:avoid;-webkit-region-break-inside:avoid}._page[data-v-7c70b987]:not(:last-child){page-break-after:always}._publicationView[data-v-7c70b987]  ._singlePage>._pagecontainer{margin:0}",""]),e["default"]=n},4136:function(t,e,i){"use strict";i.r(e);var a=i(8081),o=i.n(a),s=i(3645),r=i.n(s),n=r()(o());n.push([t.id,"@media print{body,html{background:#fff!important}body{width:var(--page-width);height:calc(var(--page-height))}._singlePage ._pagecontent{box-shadow:none}}@page{size:var(--page-width) var(--page-height)}",""]),e["default"]=n},3589:function(t,e,i){"use strict";i.r(e);var a=i(8081),o=i.n(a),s=i(3645),r=i.n(s),n=r()(o());n.push([t.id,".yoyoo-ddr{position:absolute}.yoyoo-ddr .resize-handler.tm{left:50%}.yoyoo-ddr .resize-handler.r{top:50%}.yoyoo-ddr .resize-handler.bm{left:50%}.yoyoo-ddr .resize-handler.l{top:50%;cursor:pointer}.yoyoo-ddr .resize-handler,.yoyoo-ddr .rotate-handler{display:none;position:absolute;border:1px solid #607d8b;background:#fff;box-sizing:border-box;border-radius:50%}.yoyoo-ddr .rotate-handler{left:50%;cursor:crosshair}.yoyoo-ddr.active{border:1px dashed #607d8b}.yoyoo-ddr.active>.resize-handler-wrapper>.resize-handler,.yoyoo-ddr.active>.rotate-handler{display:inline-block}.yoyoo-ddr .bl,.yoyoo-ddr .br,.yoyoo-ddr .tl,.yoyoo-ddr .tr{background:#607d8b}",""]),e["default"]=n},3382:function(t,e,i){var a=i(1533);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var o=i(1982).Z;o("9124acb2",a,!0,{sourceMap:!1,shadowMode:!1})},2936:function(t,e,i){var a=i(6821);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var o=i(1982).Z;o("5c123132",a,!0,{sourceMap:!1,shadowMode:!1})},1836:function(t,e,i){var a=i(9731);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var o=i(1982).Z;o("35c50825",a,!0,{sourceMap:!1,shadowMode:!1})},6816:function(t,e,i){var a=i(28);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var o=i(1982).Z;o("0b92d05c",a,!0,{sourceMap:!1,shadowMode:!1})},791:function(t,e,i){var a=i(8381);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var o=i(1982).Z;o("e6b3cc12",a,!0,{sourceMap:!1,shadowMode:!1})},2318:function(t,e,i){var a=i(2084);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var o=i(1982).Z;o("6a0fa940",a,!0,{sourceMap:!1,shadowMode:!1})},2851:function(t,e,i){var a=i(9949);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var o=i(1982).Z;o("7dfc641a",a,!0,{sourceMap:!1,shadowMode:!1})},305:function(t,e,i){var a=i(4136);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var o=i(1982).Z;o("0a781bbe",a,!0,{sourceMap:!1,shadowMode:!1})},2046:function(t,e,i){var a=i(3589);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var o=i(1982).Z;o("7060f4ae",a,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=PublicationView.js.map