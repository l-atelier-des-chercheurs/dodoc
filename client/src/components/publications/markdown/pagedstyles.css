@page {
  margin-top: 20mm;
  margin-bottom: 30mm;
}
@page: left {
  margin-left: 30mm;
  margin-right: 20mm;
}
@page: right {
  margin-left: 20mm;
  margin-right: 30mm;
}
._chapterTitle {
  string-set: title content(text);
}
@page: left {
  @bottom-left {
    content: counter(page);
    font-size: 10px;
  }
}
@page: right {
  @bottom-right {
    content: counter(page);
    font-size: 10px;
  }
}
@page {
  @bottom-center {
    content: string(title);
    font-size: 10px;
  }
}
._chapter {
}
._chapter[data-starts-on-page="in_flow"]:not(:first-child) {
  margin-top: 3rem;
}
._chapter[data-starts-on-page="left"] {
  break-before: left;
}
._chapter[data-starts-on-page="right"] {
  break-before: right;
}

p {
  margin: 1em 0;
}
._break {
  break-after: page;
}
._cover {
  break-after: left;
}

._coverTitle {
  position: relative;
  z-index: 1000;
}
._coverImage {
  position: relative;
  z-index: 2;
}

._cover:not([data-layout-mode="normal"]) ._coverImage img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

._cover[data-layout-mode="full_page"] ._coverImage {
  position: absolute;
  top: calc(var(--pagedjs-margin-top) * -1);
  left: calc(var(--pagedjs-margin-left) * -1);
  width: var(--pagedjs-width);
  height: var(--pagedjs-height);
}

._cover[data-layout-mode="text_top_image_down"] ._coverTitle {
  height: calc(var(--pagedjs-height) / 2);
}
._cover[data-layout-mode="text_top_image_down"] ._coverImage {
  position: absolute;
  top: calc(var(--pagedjs-margin-top) * -1) + calc(var(--pagedjs-height) / 2);
  left: calc(var(--pagedjs-margin-left) * -1);
  width: var(--pagedjs-width);
  height: calc(var(--pagedjs-height) / 2);
}

._cover[data-layout-mode="image_top_text_down"] ._coverImage {
  position: absolute;
  top: calc(var(--pagedjs-margin-top) * -1);
  left: calc(var(--pagedjs-margin-left) * -1);
  width: var(--pagedjs-width);
  height: calc(var(--pagedjs-height) / 2);
}
