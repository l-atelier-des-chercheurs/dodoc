{
  "protocol": "https",
  "host": "localhost",
  "desired_port": 8080,
  "redirect_port": "",
  "cache_content": true,
  "removePermanently": false,
  "versioning": true,

  "cacheDirname": "dodoc_cache",
  "contentPath": "dodoc_next",

  "privateKeyPath": "",
  "certificatePath": "",

  "deletedFolderName": "_bin",

  "ffmpeg_options": {
    "priority": 0,
    "timeout": 600
  },

  "mediaThumbQuality": 70,
  "maxFileSizeInMoForUpload": 10000,

  "regexpMatchFolderNames": "^([^.]+)$",
  "regexpGetFileExtension": "\\.[^.]*$",
  "regexpRemoveFileExtension": "(.+?)(\\.[^.]*$|$)",

  "api": {
    "enabled": false,
    "allow_all_domains": false,
    "domains_whitelist": ["localhost"]
  },

  "structure": {
    "projects": {
      "path": "",
      "preview": {
        "width": 1200,
        "height": 1200,
        "thumbs": {
          "resolutions": [50, 320, 640]
        }
      },
      "fields": {
        "name": {
          "type": "string"
        },
        "date_created": {
          "type": "date",
          "default": "current",
          "read_only": true
        },
        "date_modified": {
          "type": "date",
          "default": "current",
          "override": true
        },
        "password": {
          "type": "string",
          "read_only": true
        },
        "authors": {
          "type": "array"
        },
        "keywords": {
          "type": "array"
        },
        "description": {
          "type": "string"
        },
        "folder": {
          "type": "string"
        },
        "editing_limited_to": {
          "type": "string",
          "options": ["everybody", "with_password", "only_authors", "nobody"],
          "default": "everybody"
        },
        "viewing_limited_to": {
          "type": "string",
          "options": ["everybody", "only_authors", ""],
          "default": "everybody"
        }
      },
      "medias": {
        "thumbs": {
          "resolutions": [180, 360, 1600]
        },
        "fields": {
          "name": {
            "type": "string"
          },
          "date_created": {
            "type": "date",
            "default": "current",
            "read_only": true
          },
          "date_modified": {
            "type": "date",
            "default": "current",
            "override": true
          },
          "date_uploaded": {
            "type": "date",
            "default": "current",
            "read_only": true
          },
          "media_filename": {
            "type": "string"
          },
          "original_media_filename": {
            "type": "string"
          },
          "type": {
            "type": "string",
            "options": [
              "image",
              "video",
              "audio",
              "text",
              "code",
              "stl",
              "document",
              "other"
            ],
            "default": "other"
          },
          "fav": {
            "type": "boolean",
            "default": false
          },
          "ratio": {
            "type": "number"
          },
          "duration": {
            "type": "number"
          },
          "authors": {
            "type": "array"
          },
          "keywords": {
            "type": "array"
          },
          "caption": {
            "type": "string"
          }
        }
      }
    },
    "authors": {
      "path": "_authors",
      "preview": {
        "width": 1200,
        "height": 1200,
        "thumbs": {
          "resolutions": [50, 180, 640]
        }
      },
      "fields": {
        "name": {
          "type": "string"
        },
        "password": {
          "type": "string",
          "transform": "crypt"
        },
        "date_created": {
          "type": "date",
          "default": "current",
          "read_only": true
        },
        "email": {
          "type": "string",
          "show_only_to": ["self", "admin"]
        },
        "keywords": {
          "type": "array"
        },
        "role": {
          "type": "string",
          "options": ["contributor", "admin"],
          "default": "contributor",
          "only_admin_can_edit": true
        },
        "description": {
          "type": "string"
        },
        "last_messages_read_in_channels": {
          "type": "array"
        }
      }
    },

    "stopmotions": {
      "path": "_stopmotions",
      "fields": {
        "date_created": {
          "type": "date",
          "default": "current",
          "read_only": true
        },
        "date_modified": {
          "type": "date",
          "default": "current",
          "override": true
        },
        "authors": {
          "type": "array"
        },
        "linked_project": {
          "type": "string"
        }
      },
      "medias": {
        "thumbs": {
          "resolutions": [150, 1200]
        },
        "fields": {
          "date_uploaded": {
            "type": "date",
            "default": "current",
            "read_only": true
          },
          "media_filename": {
            "type": "string"
          },
          "type": {
            "type": "string",
            "options": ["image"],
            "default": "other"
          },
          "authors": {
            "type": "array"
          }
        }
      }
    },
    "chats": {
      "path": "_chats",
      "fields": {
        "name": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "date_created": {
          "type": "date",
          "default": "current",
          "read_only": true
        },
        "date_modified": {
          "type": "date",
          "default": "current",
          "override": true
        },
        "authors": {
          "type": "array"
        },
        "editing_limited_to": {
          "type": "string",
          "options": ["everybody", "only_authors", "nobody"],
          "default": "everybody"
        },
        "viewing_limited_to": {
          "type": "string",
          "options": ["everybody", "only_authors", ""],
          "default": "everybody"
        },
        "pinned": {
          "type": "boolean"
        },
        "number_of_medias": {
          "type": "number",
          "only_admin_can_edit": true
        },
        "linked_project": {
          "type": "string"
        }
      },
      "medias": {
        "fields": {
          "date_created": {
            "type": "date",
            "default": "current",
            "read_only": true
          },
          "text": {
            "type": "string"
          },
          "authors": {
            "type": "array"
          }
        }
      }
    }
  },
  "schema": {
    "spaces": {
      "$cover": {
        "width": 1200,
        "height": 1200,
        "thumbs": {
          "resolutions": [50, 320, 640, 1200]
        }
      },
      "fields": {
        "title": {
          "type": "string",
          "unique": true
        },
        "description": {
          "type": "string"
        }
      },
      "$files": {},
      "$folders": {
        "projects": {
          "$cover": {
            "width": 2000,
            "height": 2000,
            "thumbs": {
              "resolutions": [50, 320, 640, 2000]
            }
          },
          "fields": {
            "title": {
              "type": "string",
              "unique": true
            },
            "keywords": {
              "type": "array"
            },
            "materials": {
              "type": "array"
            },
            "description": {
              "type": "string"
            },
            "folder": {
              "type": "string"
            },
            "license": {
              "type": "string",
              "options": ["CC", "all_rights_reserved", "copyleft"],
              "default": "CC"
            }
          },
          "$files": {
            "thumbs": {
              "resolutions": [180, 360, 1600]
            },
            "fields": {
              "caption": {
                "type": "string"
              }
            }
          },
          "$folders": {
            "stopmotions": {
              "fields": {
                "images_list": {
                  "type": "array"
                }
              },
              "$files": {
                "thumbs": {
                  "resolutions": [240, 1600]
                }
              }
            },
            "remixes": {
              "fields": {
                "title": {
                  "type": "string",
                  "unique": true
                },
                "type": {
                  "type": "string"
                },
                "modules_list": {
                  "type": "array"
                }
              },
              "$files": {
                "fields": {
                  "module_type": {
                    "type": "string"
                  },
                  "source_medias": {
                    "type": "array"
                  }
                }
              }
            },
            "publications": {
              "$cover": {
                "width": 1200,
                "height": 1200,
                "thumbs": {
                  "resolutions": [50, 320, 640, 1200]
                }
              },
              "fields": {
                "title": {
                  "type": "string",
                  "unique": true
                },
                "template": {
                  "type": "string",
                  "options": [
                    "page_by_page",
                    "carreau",
                    "story",
                    "face_masks",
                    "image_tracking"
                  ],
                  "default": "page_by_page"
                },
                "modules_list": {
                  "type": "array"
                },
                "pages": {
                  "type": "array"
                },
                "page_width": {
                  "type": "number"
                },
                "page_height": {
                  "type": "number"
                },
                "page_spreads": {
                  "type": "boolean"
                },
                "page_margin_top": {
                  "type": "number"
                },
                "page_margin_bottom": {
                  "type": "number"
                },
                "page_margin_left": {
                  "type": "number"
                },
                "page_margin_right": {
                  "type": "number"
                },
                "enable_pagination": {
                  "type": "boolean"
                },
                "pagn_starts_on_page": {
                  "type": "number"
                },
                "pagn_right": {
                  "type": "number"
                },
                "pagn_bottom": {
                  "type": "number"
                }
              },
              "$files": {
                "fields": {
                  "module_type": {
                    "type": "string"
                  },
                  "source_medias": {
                    "type": "array"
                  },
                  "size": {
                    "type": "number"
                  },
                  "page_id": {
                    "type": "string"
                  },
                  "align": {
                    "type": "string"
                  },
                  "x": {
                    "type": "number"
                  },
                  "y": {
                    "type": "number"
                  },
                  "width": {
                    "type": "number"
                  },
                  "height": {
                    "type": "number"
                  },
                  "rotation": {
                    "type": "number"
                  },
                  "text_size": {
                    "type": "number"
                  },
                  "opacity": {
                    "type": "number"
                  },
                  "margins": {
                    "type": "number"
                  },
                  "background_color": {
                    "type": "string"
                  },
                  "outline_color": {
                    "type": "string"
                  },
                  "outline_width": {
                    "type": "number"
                  },
                  "border_radius": {
                    "type": "number"
                  },
                  "locked": {
                    "type": "boolean"
                  },
                  "z_index": {
                    "type": "number"
                  }
                }
              }
            }
          }
        }
      }
    },
    "authors": {
      "$cover": {
        "width": 1200,
        "height": 1200,
        "thumbs": {
          "resolutions": [50, 320, 640, 1200]
        }
      },
      "fields": {
        "email": {
          "type": "string",
          "required": false,
          "unique": true
        },
        "name": {
          "type": "string",
          "required": true,
          "unique": true
        },
        "role": {
          "type": "string",
          "options": ["contributor", "admin"],
          "default": "contributor",
          "only_admins_can_edit": true
        }
      }
    }
  }
}
